var Yx=t=>{throw TypeError(t)};var kf=(t,e,n)=>e.has(t)||Yx("Cannot "+n);var O=(t,e,n)=>(kf(t,e,"read from private field"),n?n.call(t):e.get(t)),ne=(t,e,n)=>e.has(t)?Yx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(kf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pe=(t,e,n)=>(kf(t,e,"access private method"),n);var iu=(t,e,n,r)=>({set _(s){q(t,e,s,n)},get _(){return O(t,e,r)}});function GP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function DE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OE={exports:{}},hh={},ME={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),KP=Symbol.for("react.portal"),QP=Symbol.for("react.fragment"),XP=Symbol.for("react.strict_mode"),YP=Symbol.for("react.profiler"),JP=Symbol.for("react.provider"),ZP=Symbol.for("react.context"),eR=Symbol.for("react.forward_ref"),tR=Symbol.for("react.suspense"),nR=Symbol.for("react.memo"),rR=Symbol.for("react.lazy"),Jx=Symbol.iterator;function sR(t){return t===null||typeof t!="object"?null:(t=Jx&&t[Jx]||t["@@iterator"],typeof t=="function"?t:null)}var LE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VE=Object.assign,FE={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=FE,this.updater=n||LE}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UE(){}UE.prototype=Pa.prototype;function jg(t,e,n){this.props=t,this.context=e,this.refs=FE,this.updater=n||LE}var kg=jg.prototype=new UE;kg.constructor=jg;VE(kg,Pa.prototype);kg.isPureReactComponent=!0;var Zx=Array.isArray,$E=Object.prototype.hasOwnProperty,Dg={current:null},zE={key:!0,ref:!0,__self:!0,__source:!0};function BE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$E.call(e,r)&&!zE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tc,type:t,key:i,ref:o,props:s,_owner:Dg.current}}function iR(t,e){return{$$typeof:Tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Og(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc}function oR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ew=/\/+/g;function Df(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oR(""+t.key):e.toString(36)}function Lu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tc:case KP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Df(o,0):r,Zx(s)?(n="",t!=null&&(n=t.replace(ew,"$&/")+"/"),Lu(s,e,n,"",function(d){return d})):s!=null&&(Og(s)&&(s=iR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ew,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zx(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Df(i,a);o+=Lu(i,e,n,u,s)}else if(u=sR(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Df(i,a++),o+=Lu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ou(t,e,n){if(t==null)return t;var r=[],s=0;return Lu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function aR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Vu={transition:null},lR={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Vu,ReactCurrentOwner:Dg};function WE(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:ou,forEach:function(t,e,n){ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ou(t,function(){e++}),e},toArray:function(t){return ou(t,function(e){return e})||[]},only:function(t){if(!Og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Pa;ge.Fragment=QP;ge.Profiler=YP;ge.PureComponent=jg;ge.StrictMode=XP;ge.Suspense=tR;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;ge.act=WE;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Dg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)$E.call(e,u)&&!zE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Tc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:ZP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JP,_context:t},t.Consumer=t};ge.createElement=BE;ge.createFactory=function(t){var e=BE.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:eR,render:t}};ge.isValidElement=Og;ge.lazy=function(t){return{$$typeof:rR,_payload:{_status:-1,_result:t},_init:aR}};ge.memo=function(t,e){return{$$typeof:nR,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Vu.transition;Vu.transition={};try{t()}finally{Vu.transition=e}};ge.unstable_act=WE;ge.useCallback=function(t,e){return Kt.current.useCallback(t,e)};ge.useContext=function(t){return Kt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Kt.current.useEffect(t,e)};ge.useId=function(){return Kt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Kt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};ge.useRef=function(t){return Kt.current.useRef(t)};ge.useState=function(t){return Kt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Kt.current.useTransition()};ge.version="18.3.1";ME.exports=ge;var g=ME.exports;const as=DE(g),HE=GP({__proto__:null,default:as},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR=g,uR=Symbol.for("react.element"),dR=Symbol.for("react.fragment"),hR=Object.prototype.hasOwnProperty,fR=cR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pR={key:!0,ref:!0,__self:!0,__source:!0};function qE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hR.call(e,r)&&!pR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uR,type:t,key:i,ref:o,props:s,_owner:fR.current}}hh.Fragment=dR;hh.jsx=qE;hh.jsxs=qE;OE.exports=hh;var l=OE.exports,GE={exports:{}},yn={},KE={exports:{}},QE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var X=F.length;F.push(W);e:for(;0<X;){var ae=X-1>>>1,Se=F[ae];if(0<s(Se,W))F[ae]=W,F[X]=Se,X=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],X=F.pop();if(X!==W){F[0]=X;e:for(var ae=0,Se=F.length,gt=Se>>>1;ae<gt;){var ze=2*(ae+1)-1,Xt=F[ze],at=ze+1,ee=F[at];if(0>s(Xt,X))at<Se&&0>s(ee,Xt)?(F[ae]=ee,F[at]=X,ae=at):(F[ae]=Xt,F[ze]=X,ae=ze);else if(at<Se&&0>s(ee,X))F[ae]=ee,F[at]=X,ae=at;else break e}}return W}function s(F,W){var X=F.sortIndex-W.sortIndex;return X!==0?X:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],h=1,f=null,p=3,y=!1,I=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=F)r(d),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(d)}}function j(F){if(x=!1,b(F),!I)if(n(u)!==null)I=!0,Q(D);else{var W=n(d);W!==null&&ue(j,W.startTime-F)}}function D(F,W){I=!1,x&&(x=!1,E(T),T=-1),y=!0;var X=p;try{for(b(W),f=n(u);f!==null&&(!(f.expirationTime>W)||F&&!R());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var Se=ae(f.expirationTime<=W);W=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(u)&&r(u),b(W)}else r(u);f=n(u)}if(f!==null)var gt=!0;else{var ze=n(d);ze!==null&&ue(j,ze.startTime-W),gt=!1}return gt}finally{f=null,p=X,y=!1}}var M=!1,_=null,T=-1,C=5,A=-1;function R(){return!(t.unstable_now()-A<C)}function k(){if(_!==null){var F=t.unstable_now();A=F;var W=!0;try{W=_(!0,F)}finally{W?P():(M=!1,_=null)}}else M=!1}var P;if(typeof w=="function")P=function(){w(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=k,P=function(){re.postMessage(null)}}else P=function(){S(k,0)};function Q(F){_=F,M||(M=!0,P())}function ue(F,W){T=S(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){I||y||(I=!0,Q(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var X=p;p=W;try{return F()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=p;p=F;try{return W()}finally{p=X}},t.unstable_scheduleCallback=function(F,W,X){var ae=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,F){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=X+Se,F={id:h++,callback:W,priorityLevel:F,startTime:X,expirationTime:Se,sortIndex:-1},X>ae?(F.sortIndex=X,e(d,F),n(u)===null&&F===n(d)&&(x?(E(T),T=-1):x=!0,ue(j,X-ae))):(F.sortIndex=Se,e(u,F),I||y||(I=!0,Q(D))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var W=p;return function(){var X=p;p=W;try{return F.apply(this,arguments)}finally{p=X}}}})(QE);KE.exports=QE;var mR=KE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR=g,vn=mR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XE=new Set,Wl={};function Ji(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(Wl[t]=e,t=0;t<e.length;t++)XE.add(e[t])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,vR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tw={},nw={};function yR(t){return Vp.call(nw,t)?!0:Vp.call(tw,t)?!1:vR.test(t)?nw[t]=!0:(tw[t]=!0,!1)}function xR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wR(t,e,n,r){if(e===null||typeof e>"u"||xR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mg=/[\-:]([a-z])/g;function Lg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mg,Lg);It[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mg,Lg);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mg,Lg);It[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vg(t,e,n,r){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wR(e,n,s,r)&&(n=null),r||s===null?yR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=gR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),JE=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),ZE=Symbol.for("react.offscreen"),rw=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=rw&&t[rw]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Of;function vl(t){if(Of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Of=e&&e[1]||""}return`
`+Of+t}var Mf=!1;function Lf(t,e){if(!t||Mf)return"";Mf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Mf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vl(t):""}function _R(t){switch(t.tag){case 5:return vl(t.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return t=Lf(t.type,!1),t;case 11:return t=Lf(t.type.render,!1),t;case 1:return t=Lf(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case vo:return"Portal";case Fp:return"Profiler";case Fg:return"StrictMode";case Up:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JE:return(t.displayName||"Context")+".Consumer";case YE:return(t._context.displayName||"Context")+".Provider";case Ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $g:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case us:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function ER(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TR(t){var e=eT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lu(t){t._valueTracker||(t._valueTracker=TR(t))}function tT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bp(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nT(t,e){e=e.checked,e!=null&&Vg(t,"checked",e,!1)}function Wp(t,e){nT(t,e);var n=Bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hp(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hp(t,e,n){(e!=="number"||dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yl=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ow(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(yl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bs(n)}}function rT(t,e){var n=Bs(e.value),r=Bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cu,iT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SR=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){SR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function oT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function aT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var bR=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(t,e){if(e){if(bR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yp=null,Ro=null,jo=null;function lw(t){if(t=Ic(t)){if(typeof Yp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=vh(e),Yp(t.stateNode,t.type,e))}}function lT(t){Ro?jo?jo.push(t):jo=[t]:Ro=t}function cT(){if(Ro){var t=Ro,e=jo;if(jo=Ro=null,lw(t),e)for(t=0;t<e.length;t++)lw(e[t])}}function uT(t,e){return t(e)}function dT(){}var Vf=!1;function hT(t,e,n){if(Vf)return t(e,n);Vf=!0;try{return uT(t,e,n)}finally{Vf=!1,(Ro!==null||jo!==null)&&(dT(),cT())}}function ql(t,e){var n=t.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Jp=!1;if(Vr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Jp=!1}function IR(t,e,n,r,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Nl=!1,hd=null,fd=!1,Zp=null,CR={onError:function(t){Nl=!0,hd=t}};function NR(t,e,n,r,s,i,o,a,u){Nl=!1,hd=null,IR.apply(CR,arguments)}function AR(t,e,n,r,s,i,o,a,u){if(NR.apply(this,arguments),Nl){if(Nl){var d=hd;Nl=!1,hd=null}else throw Error(z(198));fd||(fd=!0,Zp=d)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cw(t){if(Zi(t)!==t)throw Error(z(188))}function PR(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cw(s),t;if(i===r)return cw(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function pT(t){return t=PR(t),t!==null?mT(t):null}function mT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mT(t);if(e!==null)return e;t=t.sibling}return null}var gT=vn.unstable_scheduleCallback,uw=vn.unstable_cancelCallback,RR=vn.unstable_shouldYield,jR=vn.unstable_requestPaint,nt=vn.unstable_now,kR=vn.unstable_getCurrentPriorityLevel,Bg=vn.unstable_ImmediatePriority,vT=vn.unstable_UserBlockingPriority,pd=vn.unstable_NormalPriority,DR=vn.unstable_LowPriority,yT=vn.unstable_IdlePriority,fh=null,cr=null;function OR(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(fh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:VR,MR=Math.log,LR=Math.LN2;function VR(t){return t>>>=0,t===0?32:31-(MR(t)/LR|0)|0}var uu=64,du=4194304;function xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xl(a):(i&=o,i!==0&&(r=xl(i)))}else o=n&~s,o!==0?r=xl(o):i!==0&&(r=xl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),s=1<<n,r|=t[n],e&=~s;return r}function FR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$n(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=FR(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xT(){var t=uu;return uu<<=1,!(uu&4194240)&&(uu=64),t}function Ff(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function $R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$n(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function wT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _T,Hg,ET,TT,ST,tm=!1,hu=[],As=null,Ps=null,Rs=null,Gl=new Map,Kl=new Map,hs=[],zR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dw(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Gl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(e.pointerId)}}function cl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ic(e),e!==null&&Hg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function BR(t,e,n,r,s){switch(e){case"focusin":return As=cl(As,t,e,n,r,s),!0;case"dragenter":return Ps=cl(Ps,t,e,n,r,s),!0;case"mouseover":return Rs=cl(Rs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gl.set(i,cl(Gl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Kl.set(i,cl(Kl.get(i)||null,t,e,n,r,s)),!0}return!1}function bT(t){var e=yi(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=fT(n),e!==null){t.blockedOn=e,ST(t.priority,function(){ET(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xp=r,n.target.dispatchEvent(r),Xp=null}else return e=Ic(n),e!==null&&Hg(e),t.blockedOn=n,!1;e.shift()}return!0}function hw(t,e,n){Fu(t)&&n.delete(e)}function WR(){tm=!1,As!==null&&Fu(As)&&(As=null),Ps!==null&&Fu(Ps)&&(Ps=null),Rs!==null&&Fu(Rs)&&(Rs=null),Gl.forEach(hw),Kl.forEach(hw)}function ul(t,e){t.blockedOn===e&&(t.blockedOn=null,tm||(tm=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,WR)))}function Ql(t){function e(s){return ul(s,t)}if(0<hu.length){ul(hu[0],t);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&ul(As,t),Ps!==null&&ul(Ps,t),Rs!==null&&ul(Rs,t),Gl.forEach(e),Kl.forEach(e),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)bT(n),n.blockedOn===null&&hs.shift()}var ko=Kr.ReactCurrentBatchConfig,gd=!0;function HR(t,e,n,r){var s=Re,i=ko.transition;ko.transition=null;try{Re=1,qg(t,e,n,r)}finally{Re=s,ko.transition=i}}function qR(t,e,n,r){var s=Re,i=ko.transition;ko.transition=null;try{Re=4,qg(t,e,n,r)}finally{Re=s,ko.transition=i}}function qg(t,e,n,r){if(gd){var s=nm(t,e,n,r);if(s===null)Qf(t,e,r,vd,n),dw(t,r);else if(BR(s,t,e,n,r))r.stopPropagation();else if(dw(t,r),e&4&&-1<zR.indexOf(t)){for(;s!==null;){var i=Ic(s);if(i!==null&&_T(i),i=nm(t,e,n,r),i===null&&Qf(t,e,r,vd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qf(t,e,r,null,n)}}var vd=null;function nm(t,e,n,r){if(vd=null,t=zg(r),t=yi(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function IT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kR()){case Bg:return 1;case vT:return 4;case pd:case DR:return 16;case yT:return 536870912;default:return 16}default:return 16}}var Is=null,Gg=null,Uu=null;function CT(){if(Uu)return Uu;var t,e=Gg,n=e.length,r,s="value"in Is?Is.value:Is.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Uu=s.slice(t,1<r?1-r:void 0)}function $u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fu(){return!0}function fw(){return!1}function xn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fu:fw,this.isPropagationStopped=fw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=xn(Ra),bc=Ke({},Ra,{view:0,detail:0}),GR=xn(bc),Uf,$f,dl,ph=Ke({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(Uf=t.screenX-dl.screenX,$f=t.screenY-dl.screenY):$f=Uf=0,dl=t),Uf)},movementY:function(t){return"movementY"in t?t.movementY:$f}}),pw=xn(ph),KR=Ke({},ph,{dataTransfer:0}),QR=xn(KR),XR=Ke({},bc,{relatedTarget:0}),zf=xn(XR),YR=Ke({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),JR=xn(YR),ZR=Ke({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ej=xn(ZR),tj=Ke({},Ra,{data:0}),mw=xn(tj),nj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ij(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sj[t])?!!e[t]:!1}function Qg(){return ij}var oj=Ke({},bc,{key:function(t){if(t.key){var e=nj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qg,charCode:function(t){return t.type==="keypress"?$u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aj=xn(oj),lj=Ke({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=xn(lj),cj=Ke({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qg}),uj=xn(cj),dj=Ke({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),hj=xn(dj),fj=Ke({},ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pj=xn(fj),mj=[9,13,27,32],Xg=Vr&&"CompositionEvent"in window,Al=null;Vr&&"documentMode"in document&&(Al=document.documentMode);var gj=Vr&&"TextEvent"in window&&!Al,NT=Vr&&(!Xg||Al&&8<Al&&11>=Al),vw=" ",yw=!1;function AT(t,e){switch(t){case"keyup":return mj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function vj(t,e){switch(t){case"compositionend":return PT(e);case"keypress":return e.which!==32?null:(yw=!0,vw);case"textInput":return t=e.data,t===vw&&yw?null:t;default:return null}}function yj(t,e){if(xo)return t==="compositionend"||!Xg&&AT(t,e)?(t=CT(),Uu=Gg=Is=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NT&&e.locale!=="ko"?null:e.data;default:return null}}var xj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xj[t.type]:e==="textarea"}function RT(t,e,n,r){lT(r),e=yd(e,"onChange"),0<e.length&&(n=new Kg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pl=null,Xl=null;function wj(t){zT(t,0)}function mh(t){var e=Eo(t);if(tT(e))return t}function _j(t,e){if(t==="change")return e}var jT=!1;if(Vr){var Bf;if(Vr){var Wf="oninput"in document;if(!Wf){var ww=document.createElement("div");ww.setAttribute("oninput","return;"),Wf=typeof ww.oninput=="function"}Bf=Wf}else Bf=!1;jT=Bf&&(!document.documentMode||9<document.documentMode)}function _w(){Pl&&(Pl.detachEvent("onpropertychange",kT),Xl=Pl=null)}function kT(t){if(t.propertyName==="value"&&mh(Xl)){var e=[];RT(e,Xl,t,zg(t)),hT(wj,e)}}function Ej(t,e,n){t==="focusin"?(_w(),Pl=e,Xl=n,Pl.attachEvent("onpropertychange",kT)):t==="focusout"&&_w()}function Tj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mh(Xl)}function Sj(t,e){if(t==="click")return mh(e)}function bj(t,e){if(t==="input"||t==="change")return mh(e)}function Ij(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:Ij;function Yl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vp.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function Ew(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tw(t,e){var n=Ew(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ew(n)}}function DT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OT(){for(var t=window,e=dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dd(t.document)}return e}function Yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cj(t){var e=OT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DT(n.ownerDocument.documentElement,n)){if(r!==null&&Yg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Tw(n,i);var o=Tw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Nj=Vr&&"documentMode"in document&&11>=document.documentMode,wo=null,rm=null,Rl=null,sm=!1;function Sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sm||wo==null||wo!==dd(r)||(r=wo,"selectionStart"in r&&Yg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&Yl(Rl,r)||(Rl=r,r=yd(rm,"onSelect"),0<r.length&&(e=new Kg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Hf={},MT={};Vr&&(MT=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function gh(t){if(Hf[t])return Hf[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MT)return Hf[t]=e[n];return t}var LT=gh("animationend"),VT=gh("animationiteration"),FT=gh("animationstart"),UT=gh("transitionend"),$T=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){$T.set(t,e),Ji(e,[t])}for(var qf=0;qf<bw.length;qf++){var Gf=bw[qf],Aj=Gf.toLowerCase(),Pj=Gf[0].toUpperCase()+Gf.slice(1);ti(Aj,"on"+Pj)}ti(LT,"onAnimationEnd");ti(VT,"onAnimationIteration");ti(FT,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(UT,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rj=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Iw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AR(r,e,void 0,t),t.currentTarget=null}function zT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Iw(s,a,d),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Iw(s,a,d),i=u}}}if(fd)throw t=Zp,fd=!1,Zp=null,t}function Ve(t,e){var n=e[cm];n===void 0&&(n=e[cm]=new Set);var r=t+"__bubble";n.has(r)||(BT(e,t,2,!1),n.add(r))}function Kf(t,e,n){var r=0;e&&(r|=4),BT(n,t,r,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[mu]){t[mu]=!0,XE.forEach(function(n){n!=="selectionchange"&&(Rj.has(n)||Kf(n,!1,t),Kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,Kf("selectionchange",!1,e))}}function BT(t,e,n,r){switch(IT(e)){case 1:var s=HR;break;case 4:s=qR;break;default:s=qg}n=s.bind(null,e,n,t),s=void 0,!Jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=yi(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}hT(function(){var d=i,h=zg(n),f=[];e:{var p=$T.get(t);if(p!==void 0){var y=Kg,I=t;switch(t){case"keypress":if($u(n)===0)break e;case"keydown":case"keyup":y=aj;break;case"focusin":I="focus",y=zf;break;case"focusout":I="blur",y=zf;break;case"beforeblur":case"afterblur":y=zf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=uj;break;case LT:case VT:case FT:y=JR;break;case UT:y=hj;break;case"scroll":y=GR;break;case"wheel":y=pj;break;case"copy":case"cut":case"paste":y=ej;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gw}var x=(e&4)!==0,S=!x&&t==="scroll",E=x?p!==null?p+"Capture":null:p;x=[];for(var w=d,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,E!==null&&(j=ql(w,E),j!=null&&x.push(Zl(w,j,b)))),S)break;w=w.return}0<x.length&&(p=new y(p,I,null,n,h),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Xp&&(I=n.relatedTarget||n.fromElement)&&(yi(I)||I[Fr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(I=n.relatedTarget||n.toElement,y=d,I=I?yi(I):null,I!==null&&(S=Zi(I),I!==S||I.tag!==5&&I.tag!==6)&&(I=null)):(y=null,I=d),y!==I)){if(x=pw,j="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=gw,j="onPointerLeave",E="onPointerEnter",w="pointer"),S=y==null?p:Eo(y),b=I==null?p:Eo(I),p=new x(j,w+"leave",y,n,h),p.target=S,p.relatedTarget=b,j=null,yi(h)===d&&(x=new x(E,w+"enter",I,n,h),x.target=b,x.relatedTarget=S,j=x),S=j,y&&I)t:{for(x=y,E=I,w=0,b=x;b;b=lo(b))w++;for(b=0,j=E;j;j=lo(j))b++;for(;0<w-b;)x=lo(x),w--;for(;0<b-w;)E=lo(E),b--;for(;w--;){if(x===E||E!==null&&x===E.alternate)break t;x=lo(x),E=lo(E)}x=null}else x=null;y!==null&&Cw(f,p,y,x,!1),I!==null&&S!==null&&Cw(f,S,I,x,!0)}}e:{if(p=d?Eo(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var D=_j;else if(xw(p))if(jT)D=bj;else{D=Tj;var M=Ej}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=Sj);if(D&&(D=D(t,d))){RT(f,D,n,h);break e}M&&M(t,p,d),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Hp(p,"number",p.value)}switch(M=d?Eo(d):window,t){case"focusin":(xw(M)||M.contentEditable==="true")&&(wo=M,rm=d,Rl=null);break;case"focusout":Rl=rm=wo=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,Sw(f,n,h);break;case"selectionchange":if(Nj)break;case"keydown":case"keyup":Sw(f,n,h)}var _;if(Xg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xo?AT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(NT&&n.locale!=="ko"&&(xo||T!=="onCompositionStart"?T==="onCompositionEnd"&&xo&&(_=CT()):(Is=h,Gg="value"in Is?Is.value:Is.textContent,xo=!0)),M=yd(d,T),0<M.length&&(T=new mw(T,t,null,n,h),f.push({event:T,listeners:M}),_?T.data=_:(_=PT(n),_!==null&&(T.data=_)))),(_=gj?vj(t,n):yj(t,n))&&(d=yd(d,"onBeforeInput"),0<d.length&&(h=new mw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=_))}zT(f,e)})}function Zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ql(t,n),i!=null&&r.unshift(Zl(t,i,s)),i=ql(t,e),i!=null&&r.push(Zl(t,i,s))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=ql(n,i),u!=null&&o.unshift(Zl(n,u,a))):s||(u=ql(n,i),u!=null&&o.push(Zl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jj=/\r\n?/g,kj=/\u0000|\uFFFD/g;function Nw(t){return(typeof t=="string"?t:""+t).replace(jj,`
`).replace(kj,"")}function gu(t,e,n){if(e=Nw(e),Nw(t)!==e&&n)throw Error(z(425))}function xd(){}var im=null,om=null;function am(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,Dj=typeof clearTimeout=="function"?clearTimeout:void 0,Aw=typeof Promise=="function"?Promise:void 0,Oj=typeof queueMicrotask=="function"?queueMicrotask:typeof Aw<"u"?function(t){return Aw.resolve(null).then(t).catch(Mj)}:lm;function Mj(t){setTimeout(function(){throw t})}function Xf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ql(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ja=Math.random().toString(36).slice(2),ar="__reactFiber$"+ja,ec="__reactProps$"+ja,Fr="__reactContainer$"+ja,cm="__reactEvents$"+ja,Lj="__reactListeners$"+ja,Vj="__reactHandles$"+ja;function yi(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pw(t);t!==null;){if(n=t[ar])return n;t=Pw(t)}return e}t=n,n=t.parentNode}return null}function Ic(t){return t=t[ar]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function vh(t){return t[ec]||null}var um=[],To=-1;function ni(t){return{current:t}}function $e(t){0>To||(t.current=um[To],um[To]=null,To--)}function Oe(t,e){To++,um[To]=t.current,t.current=e}var Ws={},Ot=ni(Ws),sn=ni(!1),Di=Ws;function aa(t,e){var n=t.type.contextTypes;if(!n)return Ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function on(t){return t=t.childContextTypes,t!=null}function wd(){$e(sn),$e(Ot)}function Rw(t,e,n){if(Ot.current!==Ws)throw Error(z(168));Oe(Ot,e),Oe(sn,n)}function WT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,ER(t)||"Unknown",s));return Ke({},n,r)}function _d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ws,Di=Ot.current,Oe(Ot,t),Oe(sn,sn.current),!0}function jw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=WT(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,$e(sn),$e(Ot),Oe(Ot,t)):$e(sn),Oe(sn,n)}var Ar=null,yh=!1,Yf=!1;function HT(t){Ar===null?Ar=[t]:Ar.push(t)}function Fj(t){yh=!0,HT(t)}function ri(){if(!Yf&&Ar!==null){Yf=!0;var t=0,e=Re;try{var n=Ar;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,yh=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(t+1)),gT(Bg,ri),s}finally{Re=e,Yf=!1}}return null}var So=[],bo=0,Ed=null,Td=0,En=[],Tn=0,Oi=null,jr=1,kr="";function mi(t,e){So[bo++]=Td,So[bo++]=Ed,Ed=t,Td=e}function qT(t,e,n){En[Tn++]=jr,En[Tn++]=kr,En[Tn++]=Oi,Oi=t;var r=jr;t=kr;var s=32-$n(r)-1;r&=~(1<<s),n+=1;var i=32-$n(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jr=1<<32-$n(e)+s|n<<s|r,kr=i+t}else jr=1<<i|n<<s|r,kr=t}function Jg(t){t.return!==null&&(mi(t,1),qT(t,1,0))}function Zg(t){for(;t===Ed;)Ed=So[--bo],So[bo]=null,Td=So[--bo],So[bo]=null;for(;t===Oi;)Oi=En[--Tn],En[Tn]=null,kr=En[--Tn],En[Tn]=null,jr=En[--Tn],En[Tn]=null}var mn=null,fn=null,We=!1,On=null;function GT(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,fn=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:jr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,fn=null,!0):!1;default:return!1}}function dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hm(t){if(We){var e=fn;if(e){var n=e;if(!kw(t,e)){if(dm(t))throw Error(z(418));e=js(n.nextSibling);var r=mn;e&&kw(t,e)?GT(r,n):(t.flags=t.flags&-4097|2,We=!1,mn=t)}}else{if(dm(t))throw Error(z(418));t.flags=t.flags&-4097|2,We=!1,mn=t}}}function Dw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function vu(t){if(t!==mn)return!1;if(!We)return Dw(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!am(t.type,t.memoizedProps)),e&&(e=fn)){if(dm(t))throw KT(),Error(z(418));for(;e;)GT(t,e),e=js(e.nextSibling)}if(Dw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=mn?js(t.stateNode.nextSibling):null;return!0}function KT(){for(var t=fn;t;)t=js(t.nextSibling)}function la(){fn=mn=null,We=!1}function ev(t){On===null?On=[t]:On.push(t)}var Uj=Kr.ReactCurrentBatchConfig;function hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function yu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ow(t){var e=t._init;return e(t._payload)}function QT(t){function e(E,w){if(t){var b=E.deletions;b===null?(E.deletions=[w],E.flags|=16):b.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Ms(E,w),E.index=0,E.sibling=null,E}function i(E,w,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<w?(E.flags|=2,w):b):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,b,j){return w===null||w.tag!==6?(w=sp(b,E.mode,j),w.return=E,w):(w=s(w,b),w.return=E,w)}function u(E,w,b,j){var D=b.type;return D===yo?h(E,w,b.props.children,j,b.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===us&&Ow(D)===w.type)?(j=s(w,b.props),j.ref=hl(E,w,b),j.return=E,j):(j=Ku(b.type,b.key,b.props,null,E.mode,j),j.ref=hl(E,w,b),j.return=E,j)}function d(E,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=ip(b,E.mode,j),w.return=E,w):(w=s(w,b.children||[]),w.return=E,w)}function h(E,w,b,j,D){return w===null||w.tag!==7?(w=Ri(b,E.mode,j,D),w.return=E,w):(w=s(w,b),w.return=E,w)}function f(E,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sp(""+w,E.mode,b),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return b=Ku(w.type,w.key,w.props,null,E.mode,b),b.ref=hl(E,null,w),b.return=E,b;case vo:return w=ip(w,E.mode,b),w.return=E,w;case us:var j=w._init;return f(E,j(w._payload),b)}if(yl(w)||al(w))return w=Ri(w,E.mode,b,null),w.return=E,w;yu(E,w)}return null}function p(E,w,b,j){var D=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(E,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return b.key===D?u(E,w,b,j):null;case vo:return b.key===D?d(E,w,b,j):null;case us:return D=b._init,p(E,w,D(b._payload),j)}if(yl(b)||al(b))return D!==null?null:h(E,w,b,j,null);yu(E,b)}return null}function y(E,w,b,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return E=E.get(b)||null,a(w,E,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case au:return E=E.get(j.key===null?b:j.key)||null,u(w,E,j,D);case vo:return E=E.get(j.key===null?b:j.key)||null,d(w,E,j,D);case us:var M=j._init;return y(E,w,b,M(j._payload),D)}if(yl(j)||al(j))return E=E.get(b)||null,h(w,E,j,D,null);yu(w,j)}return null}function I(E,w,b,j){for(var D=null,M=null,_=w,T=w=0,C=null;_!==null&&T<b.length;T++){_.index>T?(C=_,_=null):C=_.sibling;var A=p(E,_,b[T],j);if(A===null){_===null&&(_=C);break}t&&_&&A.alternate===null&&e(E,_),w=i(A,w,T),M===null?D=A:M.sibling=A,M=A,_=C}if(T===b.length)return n(E,_),We&&mi(E,T),D;if(_===null){for(;T<b.length;T++)_=f(E,b[T],j),_!==null&&(w=i(_,w,T),M===null?D=_:M.sibling=_,M=_);return We&&mi(E,T),D}for(_=r(E,_);T<b.length;T++)C=y(_,E,T,b[T],j),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?T:C.key),w=i(C,w,T),M===null?D=C:M.sibling=C,M=C);return t&&_.forEach(function(R){return e(E,R)}),We&&mi(E,T),D}function x(E,w,b,j){var D=al(b);if(typeof D!="function")throw Error(z(150));if(b=D.call(b),b==null)throw Error(z(151));for(var M=D=null,_=w,T=w=0,C=null,A=b.next();_!==null&&!A.done;T++,A=b.next()){_.index>T?(C=_,_=null):C=_.sibling;var R=p(E,_,A.value,j);if(R===null){_===null&&(_=C);break}t&&_&&R.alternate===null&&e(E,_),w=i(R,w,T),M===null?D=R:M.sibling=R,M=R,_=C}if(A.done)return n(E,_),We&&mi(E,T),D;if(_===null){for(;!A.done;T++,A=b.next())A=f(E,A.value,j),A!==null&&(w=i(A,w,T),M===null?D=A:M.sibling=A,M=A);return We&&mi(E,T),D}for(_=r(E,_);!A.done;T++,A=b.next())A=y(_,E,T,A.value,j),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?T:A.key),w=i(A,w,T),M===null?D=A:M.sibling=A,M=A);return t&&_.forEach(function(k){return e(E,k)}),We&&mi(E,T),D}function S(E,w,b,j){if(typeof b=="object"&&b!==null&&b.type===yo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case au:e:{for(var D=b.key,M=w;M!==null;){if(M.key===D){if(D=b.type,D===yo){if(M.tag===7){n(E,M.sibling),w=s(M,b.props.children),w.return=E,E=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===us&&Ow(D)===M.type){n(E,M.sibling),w=s(M,b.props),w.ref=hl(E,M,b),w.return=E,E=w;break e}n(E,M);break}else e(E,M);M=M.sibling}b.type===yo?(w=Ri(b.props.children,E.mode,j,b.key),w.return=E,E=w):(j=Ku(b.type,b.key,b.props,null,E.mode,j),j.ref=hl(E,w,b),j.return=E,E=j)}return o(E);case vo:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(E,w.sibling),w=s(w,b.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=ip(b,E.mode,j),w.return=E,E=w}return o(E);case us:return M=b._init,S(E,w,M(b._payload),j)}if(yl(b))return I(E,w,b,j);if(al(b))return x(E,w,b,j);yu(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,b),w.return=E,E=w):(n(E,w),w=sp(b,E.mode,j),w.return=E,E=w),o(E)):n(E,w)}return S}var ca=QT(!0),XT=QT(!1),Sd=ni(null),bd=null,Io=null,tv=null;function nv(){tv=Io=bd=null}function rv(t){var e=Sd.current;$e(Sd),t._currentValue=e}function fm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){bd=t,tv=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(tv!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(bd===null)throw Error(z(308));Io=t,bd.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var xi=null;function sv(t){xi===null?xi=[t]:xi.push(t)}function YT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,sv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ds=!1;function iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ur(t,n)}return s=r.interleaved,s===null?(e.next=e,sv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ur(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wg(t,n)}}function Mw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Id(t,e,n,r){var s=t.updateQueue;ds=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=d=u=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,x=a;switch(p=e,y=n,x.tag){case 1:if(I=x.payload,typeof I=="function"){f=I.call(y,f,p);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=x.payload,p=typeof I=="function"?I.call(y,f,p):I,p==null)break e;f=Ke({},f,p);break e;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,u=f):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Li|=o,t.lanes=o,t.memoizedState=f}}function Lw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Cc={},ur=ni(Cc),tc=ni(Cc),nc=ni(Cc);function wi(t){if(t===Cc)throw Error(z(174));return t}function ov(t,e){switch(Oe(nc,e),Oe(tc,t),Oe(ur,Cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gp(e,t)}$e(ur),Oe(ur,e)}function ua(){$e(ur),$e(tc),$e(nc)}function ZT(t){wi(nc.current);var e=wi(ur.current),n=Gp(e,t.type);e!==n&&(Oe(tc,t),Oe(ur,n))}function av(t){tc.current===t&&($e(ur),$e(tc))}var He=ni(0);function Cd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jf=[];function lv(){for(var t=0;t<Jf.length;t++)Jf[t]._workInProgressVersionPrimary=null;Jf.length=0}var Bu=Kr.ReactCurrentDispatcher,Zf=Kr.ReactCurrentBatchConfig,Mi=0,Ge=null,ut=null,xt=null,Nd=!1,jl=!1,rc=0,$j=0;function Nt(){throw Error(z(321))}function cv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function uv(t,e,n,r,s,i){if(Mi=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bu.current=t===null||t.memoizedState===null?Hj:qj,t=n(r,s),jl){i=0;do{if(jl=!1,rc=0,25<=i)throw Error(z(301));i+=1,xt=ut=null,e.updateQueue=null,Bu.current=Gj,t=n(r,s)}while(jl)}if(Bu.current=Ad,e=ut!==null&&ut.next!==null,Mi=0,xt=ut=Ge=null,Nd=!1,e)throw Error(z(300));return t}function dv(){var t=rc!==0;return rc=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ge.memoizedState=xt=t:xt=xt.next=t,xt}function Nn(){if(ut===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=xt===null?Ge.memoizedState:xt.next;if(e!==null)xt=e,ut=t;else{if(t===null)throw Error(z(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},xt===null?Ge.memoizedState=xt=t:xt=xt.next=t}return xt}function sc(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,d=i;do{var h=d.lane;if((Mi&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ge.lanes|=h,Li|=h}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=a,Wn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Li|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function eS(){}function tS(t,e){var n=Ge,r=Nn(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,hv(sS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,ic(9,rS.bind(null,n,r,s,e),void 0,null),wt===null)throw Error(z(349));Mi&30||nS(n,e,s)}return s}function nS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rS(t,e,n,r){e.value=n,e.getSnapshot=r,iS(e)&&oS(t)}function sS(t,e,n){return n(function(){iS(e)&&oS(t)})}function iS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function oS(t){var e=Ur(t,1);e!==null&&zn(e,t,1,-1)}function Vw(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:t},e.queue=t,t=t.dispatch=Wj.bind(null,Ge,t),[e.memoizedState,t]}function ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aS(){return Nn().memoizedState}function Wu(t,e,n,r){var s=tr();Ge.flags|=t,s.memoizedState=ic(1|e,n,void 0,r===void 0?null:r)}function xh(t,e,n,r){var s=Nn();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&cv(r,o.deps)){s.memoizedState=ic(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=ic(1|e,n,i,r)}function Fw(t,e){return Wu(8390656,8,t,e)}function hv(t,e){return xh(2048,8,t,e)}function lS(t,e){return xh(4,2,t,e)}function cS(t,e){return xh(4,4,t,e)}function uS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dS(t,e,n){return n=n!=null?n.concat([t]):null,xh(4,4,uS.bind(null,e,t),n)}function fv(){}function hS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pS(t,e,n){return Mi&21?(Wn(n,e)||(n=xT(),Ge.lanes|=n,Li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function zj(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Zf.transition;Zf.transition={};try{t(!1),e()}finally{Re=n,Zf.transition=r}}function mS(){return Nn().memoizedState}function Bj(t,e,n){var r=Os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gS(t))vS(e,n);else if(n=YT(t,e,n,r),n!==null){var s=Ht();zn(n,t,r,s),yS(n,e,r)}}function Wj(t,e,n){var r=Os(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gS(t))vS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wn(a,o)){var u=e.interleaved;u===null?(s.next=s,sv(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=YT(t,e,s,r),n!==null&&(s=Ht(),zn(n,t,r,s),yS(n,e,r))}}function gS(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function vS(t,e){jl=Nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wg(t,n)}}var Ad={readContext:Cn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},Hj={readContext:Cn,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:Fw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,uS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bj.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:Vw,useDebugValue:fv,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=Vw(!1),e=t[0];return t=zj.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=tr();if(We){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),wt===null)throw Error(z(349));Mi&30||nS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Fw(sS.bind(null,r,i,t),[t]),r.flags|=2048,ic(9,rS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=tr(),e=wt.identifierPrefix;if(We){var n=kr,r=jr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$j++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qj={readContext:Cn,useCallback:hS,useContext:Cn,useEffect:hv,useImperativeHandle:dS,useInsertionEffect:lS,useLayoutEffect:cS,useMemo:fS,useReducer:ep,useRef:aS,useState:function(){return ep(sc)},useDebugValue:fv,useDeferredValue:function(t){var e=Nn();return pS(e,ut.memoizedState,t)},useTransition:function(){var t=ep(sc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:eS,useSyncExternalStore:tS,useId:mS,unstable_isNewReconciler:!1},Gj={readContext:Cn,useCallback:hS,useContext:Cn,useEffect:hv,useImperativeHandle:dS,useInsertionEffect:lS,useLayoutEffect:cS,useMemo:fS,useReducer:tp,useRef:aS,useState:function(){return tp(sc)},useDebugValue:fv,useDeferredValue:function(t){var e=Nn();return ut===null?e.memoizedState=t:pS(e,ut.memoizedState,t)},useTransition:function(){var t=tp(sc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:eS,useSyncExternalStore:tS,useId:mS,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wh={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=Os(t),i=Mr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(zn(e,t,s,r),zu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=Os(t),i=Mr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(zn(e,t,s,r),zu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=Os(t),s=Mr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ks(t,s,r),e!==null&&(zn(e,t,r,n),zu(e,t,r))}};function Uw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yl(n,r)||!Yl(s,i):!0}function xS(t,e,n){var r=!1,s=Ws,i=e.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(s=on(e)?Di:Ot.current,r=e.contextTypes,i=(r=r!=null)?aa(t,s):Ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function $w(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wh.enqueueReplaceState(e,e.state,null)}function mm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},iv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cn(i):(i=on(e)?Di:Ot.current,s.context=aa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wh.enqueueReplaceState(s,s.state,null),Id(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var n="",r=e;do n+=_R(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kj=typeof WeakMap=="function"?WeakMap:Map;function wS(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rd||(Rd=!0,Im=r),gm(t,e)},n}function _S(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gm(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lk.bind(null,t,e,n),e.then(t,t))}function Bw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ww(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,ks(n,e,1))),n.lanes|=1),t)}var Qj=Kr.ReactCurrentOwner,rn=!1;function $t(t,e,n,r){e.child=t===null?XT(e,null,n,r):ca(e,t.child,n,r)}function Hw(t,e,n,r,s){n=n.render;var i=e.ref;return Do(e,s),r=uv(t,e,n,r,i,s),n=dv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$r(t,e,s)):(We&&n&&Jg(e),e.flags|=1,$t(t,e,r,s),e.child)}function qw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_v(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ES(t,e,i,r,s)):(t=Ku(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(o,r)&&t.ref===e.ref)return $r(t,e,s)}return e.flags|=1,t=Ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function ES(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Yl(i,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,$r(t,e,s)}return vm(t,e,n,r,s)}function TS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(No,dn),dn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(No,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(No,dn),dn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(No,dn),dn|=r;return $t(t,e,s,n),e.child}function SS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,n,r,s){var i=on(n)?Di:Ot.current;return i=aa(e,i),Do(e,s),n=uv(t,e,n,r,i,s),r=dv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$r(t,e,s)):(We&&r&&Jg(e),e.flags|=1,$t(t,e,n,s),e.child)}function Gw(t,e,n,r,s){if(on(n)){var i=!0;_d(e)}else i=!1;if(Do(e,s),e.stateNode===null)Hu(t,e),xS(e,n,r),mm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Cn(d):(d=on(n)?Di:Ot.current,d=aa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&$w(e,o,r,d),ds=!1;var p=e.memoizedState;o.state=p,Id(e,r,o,s),u=e.memoizedState,a!==r||p!==u||sn.current||ds?(typeof h=="function"&&(pm(e,n,h,r),u=e.memoizedState),(a=ds||Uw(e,n,a,r,p,u,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JT(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:jn(e.type,a),o.props=d,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Cn(u):(u=on(n)?Di:Ot.current,u=aa(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&$w(e,o,r,u),ds=!1,p=e.memoizedState,o.state=p,Id(e,r,o,s);var I=e.memoizedState;a!==f||p!==I||sn.current||ds?(typeof y=="function"&&(pm(e,n,y,r),I=e.memoizedState),(d=ds||Uw(e,n,d,r,p,I,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ym(t,e,n,r,i,s)}function ym(t,e,n,r,s,i){SS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&jw(e,n,!1),$r(t,e,i);r=e.stateNode,Qj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ca(e,t.child,null,i),e.child=ca(e,null,a,i)):$t(t,e,a,i),e.memoizedState=r.state,s&&jw(e,n,!0),e.child}function bS(t){var e=t.stateNode;e.pendingContext?Rw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rw(t,e.context,!1),ov(t,e.containerInfo)}function Kw(t,e,n,r,s){return la(),ev(s),e.flags|=256,$t(t,e,n,r),e.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function IS(t,e,n){var r=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(He,s&1),t===null)return hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Th(o,r,0,null),t=Ri(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wm(n),e.memoizedState=xm,t):pv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ms(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ms(a,i):(i=Ri(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?wm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xm,r}return i=t.child,t=i.sibling,r=Ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pv(t,e){return e=Th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xu(t,e,n,r){return r!==null&&ev(r),ca(e,t.child,null,n),t=pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=np(Error(z(422))),xu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Th({mode:"visible",children:r.children},s,0,null),i=Ri(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ca(e,t.child,null,o),e.child.memoizedState=wm(o),e.memoizedState=xm,i);if(!(e.mode&1))return xu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=np(i,r,void 0),xu(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ur(t,s),zn(r,t,s,-1))}return wv(),r=np(Error(z(421))),xu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ck.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,fn=js(s.nextSibling),mn=e,We=!0,On=null,t!==null&&(En[Tn++]=jr,En[Tn++]=kr,En[Tn++]=Oi,jr=t.id,kr=t.overflow,Oi=e),e=pv(e,r.children),e.flags|=4096,e)}function Qw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fm(t.return,e,n)}function rp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function CS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qw(t,n,e);else if(t.tag===19)Qw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),rp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}rp(e,!0,n,null,i);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yj(t,e,n){switch(e.tag){case 3:bS(e),la();break;case 5:ZT(e);break;case 1:on(e.type)&&_d(e);break;case 4:ov(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(Sd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?IS(t,e,n):(Oe(He,He.current&1),t=$r(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,TS(t,e,n)}return $r(t,e,n)}var NS,_m,AS,PS;NS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_m=function(){};AS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wi(ur.current);var i=null;switch(n){case"input":s=Bp(t,s),r=Bp(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=qp(t,s),r=qp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xd)}Kp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Wl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Wl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ve("scroll",t),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};PS=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jj(t,e,n){var r=e.pendingProps;switch(Zg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return on(e.type)&&wd(),At(e),null;case 3:return r=e.stateNode,ua(),$e(sn),$e(Ot),lv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Am(On),On=null))),_m(t,e),At(e),null;case 5:av(e);var s=wi(nc.current);if(n=e.type,t!==null&&e.stateNode!=null)AS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return At(e),null}if(t=wi(ur.current),vu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[ec]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<wl.length;s++)Ve(wl[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":sw(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":ow(r,i),Ve("invalid",r)}Kp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&gu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&gu(r.textContent,a,t),s=["children",""+a]):Wl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":lu(r),iw(r,i,!0);break;case"textarea":lu(r),aw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[ec]=r,NS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qp(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<wl.length;s++)Ve(wl[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":sw(t,r),s=Bp(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":ow(t,r),s=qp(t,r),Ve("invalid",t);break;default:s=r}Kp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?aT(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&iT(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Hl(t,u):typeof u=="number"&&Hl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ve("scroll",t):u!=null&&Vg(t,i,u,o))}switch(n){case"input":lu(t),iw(t,r,!1);break;case"textarea":lu(t),aw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Po(t,!!r.multiple,i,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)PS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=wi(nc.current),wi(ur.current),vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:gu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return At(e),null;case 13:if($e(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&fn!==null&&e.mode&1&&!(e.flags&128))KT(),la(),e.flags|=98560,i=!1;else if(i=vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[ar]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),i=!1}else On!==null&&(Am(On),On=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ft===0&&(ft=3):wv())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return ua(),_m(t,e),t===null&&Jl(e.stateNode.containerInfo),At(e),null;case 10:return rv(e.type._context),At(e),null;case 17:return on(e.type)&&wd(),At(e),null;case 19:if($e(He),i=e.memoizedState,i===null)return At(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fl(i,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cd(t),o!==null){for(e.flags|=128,fl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>ha&&(e.flags|=128,r=!0,fl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return At(e),null}else 2*nt()-i.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,fl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return xv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Zj(t,e){switch(Zg(e),e.tag){case 1:return on(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),$e(sn),$e(Ot),lv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return av(e),null;case 13:if($e(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(He),null;case 4:return ua(),null;case 10:return rv(e.type._context),null;case 22:case 23:return xv(),null;case 24:return null;default:return null}}var wu=!1,kt=!1,ek=typeof WeakSet=="function"?WeakSet:Set,K=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Em(t,e,n){try{n()}catch(r){Je(t,e,r)}}var Xw=!1;function tk(t,e){if(im=gd,t=OT(),Yg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(om={focusedElem:t,selectionRange:n},gd=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var x=I.memoizedProps,S=I.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?x:jn(e.type,x),S);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Je(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return I=Xw,Xw=!1,I}function kl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Em(e,n,i)}s=s.next}while(s!==r)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RS(t){var e=t.alternate;e!==null&&(t.alternate=null,RS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[ec],delete e[cm],delete e[Lj],delete e[Vj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jS(t){return t.tag===5||t.tag===3||t.tag===4}function Yw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(r!==4&&(t=t.child,t!==null))for(Sm(t,e,n),t=t.sibling;t!==null;)Sm(t,e,n),t=t.sibling}function bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bm(t,e,n),t=t.sibling;t!==null;)bm(t,e,n),t=t.sibling}var Et=null,Dn=!1;function ns(t,e,n){for(n=n.child;n!==null;)kS(t,e,n),n=n.sibling}function kS(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(fh,n)}catch{}switch(n.tag){case 5:kt||Co(n,e);case 6:var r=Et,s=Dn;Et=null,ns(t,e,n),Et=r,Dn=s,Et!==null&&(Dn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Dn?(t=Et,n=n.stateNode,t.nodeType===8?Xf(t.parentNode,n):t.nodeType===1&&Xf(t,n),Ql(t)):Xf(Et,n.stateNode));break;case 4:r=Et,s=Dn,Et=n.stateNode.containerInfo,Dn=!0,ns(t,e,n),Et=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Em(n,e,o),s=s.next}while(s!==r)}ns(t,e,n);break;case 1:if(!kt&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,ns(t,e,n),kt=r):ns(t,e,n);break;default:ns(t,e,n)}}function Jw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ek),e.forEach(function(r){var s=uk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Dn=!1;break e;case 3:Et=a.stateNode.containerInfo,Dn=!0;break e;case 4:Et=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(Et===null)throw Error(z(160));kS(i,o,s),Et=null,Dn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Je(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DS(e,t),e=e.sibling}function DS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),er(t),r&4){try{kl(3,t,t.return),_h(3,t)}catch(x){Je(t,t.return,x)}try{kl(5,t,t.return)}catch(x){Je(t,t.return,x)}}break;case 1:Pn(e,t),er(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Pn(e,t),er(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var s=t.stateNode;try{Hl(s,"")}catch(x){Je(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nT(s,i),Qp(a,o);var d=Qp(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?aT(s,f):h==="dangerouslySetInnerHTML"?iT(s,f):h==="children"?Hl(s,f):Vg(s,h,f,d)}switch(a){case"input":Wp(s,i);break;case"textarea":rT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Po(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Po(s,!!i.multiple,i.defaultValue,!0):Po(s,!!i.multiple,i.multiple?[]:"",!1))}s[ec]=i}catch(x){Je(t,t.return,x)}}break;case 6:if(Pn(e,t),er(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Je(t,t.return,x)}}break;case 3:if(Pn(e,t),er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(x){Je(t,t.return,x)}break;case 4:Pn(e,t),er(t);break;case 13:Pn(e,t),er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vv=nt())),r&4&&Jw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(d=kt)||h,Pn(e,t),kt=d):Pn(e,t),er(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(p=K,y=p.child,p.tag){case 0:case 11:case 14:case 15:kl(4,p,p.return);break;case 1:Co(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(x){Je(r,n,x)}}break;case 5:Co(p,p.return);break;case 22:if(p.memoizedState!==null){e_(f);continue}}y!==null?(y.return=p,K=y):e_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=oT("display",o))}catch(x){Je(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Je(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pn(e,t),er(t),r&4&&Jw(t);break;case 21:break;default:Pn(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hl(s,""),r.flags&=-33);var i=Yw(t);bm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yw(t);Sm(t,a,o);break;default:throw Error(z(161))}}catch(u){Je(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nk(t,e,n){K=t,OS(t)}function OS(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||wu;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||kt;a=wu;var d=kt;if(wu=o,(kt=u)&&!d)for(K=s;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?t_(s):u!==null?(u.return=o,K=u):t_(s);for(;i!==null;)K=i,OS(i),i=i.sibling;K=s,wu=a,kt=d}Zw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Zw(t)}}function Zw(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||_h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}kt||e.flags&512&&Tm(e)}catch(p){Je(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function e_(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function t_(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(u){Je(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Je(e,s,u)}}var i=e.return;try{Tm(e)}catch(u){Je(e,i,u)}break;case 5:var o=e.return;try{Tm(e)}catch(u){Je(e,o,u)}}}catch(u){Je(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var rk=Math.ceil,Pd=Kr.ReactCurrentDispatcher,mv=Kr.ReactCurrentOwner,In=Kr.ReactCurrentBatchConfig,Ee=0,wt=null,st=null,bt=0,dn=0,No=ni(0),ft=0,oc=null,Li=0,Eh=0,gv=0,Dl=null,en=null,vv=0,ha=1/0,Nr=null,Rd=!1,Im=null,Ds=null,_u=!1,Cs=null,jd=0,Ol=0,Cm=null,qu=-1,Gu=0;function Ht(){return Ee&6?nt():qu!==-1?qu:qu=nt()}function Os(t){return t.mode&1?Ee&2&&bt!==0?bt&-bt:Uj.transition!==null?(Gu===0&&(Gu=xT()),Gu):(t=Re,t!==0||(t=window.event,t=t===void 0?16:IT(t.type)),t):1}function zn(t,e,n,r){if(50<Ol)throw Ol=0,Cm=null,Error(z(185));Sc(t,n,r),(!(Ee&2)||t!==wt)&&(t===wt&&(!(Ee&2)&&(Eh|=n),ft===4&&fs(t,bt)),an(t,r),n===1&&Ee===0&&!(e.mode&1)&&(ha=nt()+500,yh&&ri()))}function an(t,e){var n=t.callbackNode;UR(t,e);var r=md(t,t===wt?bt:0);if(r===0)n!==null&&uw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uw(n),e===1)t.tag===0?Fj(n_.bind(null,t)):HT(n_.bind(null,t)),Oj(function(){!(Ee&6)&&ri()}),n=null;else{switch(wT(r)){case 1:n=Bg;break;case 4:n=vT;break;case 16:n=pd;break;case 536870912:n=yT;break;default:n=pd}n=BS(n,MS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MS(t,e){if(qu=-1,Gu=0,Ee&6)throw Error(z(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=md(t,t===wt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kd(t,r);else{e=r;var s=Ee;Ee|=2;var i=VS();(wt!==t||bt!==e)&&(Nr=null,ha=nt()+500,Pi(t,e));do try{ok();break}catch(a){LS(t,a)}while(!0);nv(),Pd.current=i,Ee=s,st!==null?e=0:(wt=null,bt=0,e=ft)}if(e!==0){if(e===2&&(s=em(t),s!==0&&(r=s,e=Nm(t,s))),e===1)throw n=oc,Pi(t,0),fs(t,r),an(t,nt()),n;if(e===6)fs(t,r);else{if(s=t.current.alternate,!(r&30)&&!sk(s)&&(e=kd(t,r),e===2&&(i=em(t),i!==0&&(r=i,e=Nm(t,i))),e===1))throw n=oc,Pi(t,0),fs(t,r),an(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:gi(t,en,Nr);break;case 3:if(fs(t,r),(r&130023424)===r&&(e=vv+500-nt(),10<e)){if(md(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lm(gi.bind(null,t,en,Nr),e);break}gi(t,en,Nr);break;case 4:if(fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$n(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rk(r/1960))-r,10<r){t.timeoutHandle=lm(gi.bind(null,t,en,Nr),r);break}gi(t,en,Nr);break;case 5:gi(t,en,Nr);break;default:throw Error(z(329))}}}return an(t,nt()),t.callbackNode===n?MS.bind(null,t):null}function Nm(t,e){var n=Dl;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=kd(t,e),t!==2&&(e=en,en=n,e!==null&&Am(e)),t}function Am(t){en===null?en=t:en.push.apply(en,t)}function sk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~gv,e&=~Eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function n_(t){if(Ee&6)throw Error(z(327));Oo();var e=md(t,0);if(!(e&1))return an(t,nt()),null;var n=kd(t,e);if(t.tag!==0&&n===2){var r=em(t);r!==0&&(e=r,n=Nm(t,r))}if(n===1)throw n=oc,Pi(t,0),fs(t,e),an(t,nt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gi(t,en,Nr),an(t,nt()),null}function yv(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(ha=nt()+500,yh&&ri())}}function Vi(t){Cs!==null&&Cs.tag===0&&!(Ee&6)&&Oo();var e=Ee;Ee|=1;var n=In.transition,r=Re;try{if(In.transition=null,Re=1,t)return t()}finally{Re=r,In.transition=n,Ee=e,!(Ee&6)&&ri()}}function xv(){dn=No.current,$e(No)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Dj(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Zg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:ua(),$e(sn),$e(Ot),lv();break;case 5:av(r);break;case 4:ua();break;case 13:$e(He);break;case 19:$e(He);break;case 10:rv(r.type._context);break;case 22:case 23:xv()}n=n.return}if(wt=t,st=t=Ms(t.current,null),bt=dn=e,ft=0,oc=null,gv=Eh=Li=0,en=Dl=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xi=null}return t}function LS(t,e){do{var n=st;try{if(nv(),Bu.current=Ad,Nd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nd=!1}if(Mi=0,xt=ut=Ge=null,jl=!1,rc=0,mv.current=null,n===null||n.return===null){ft=1,oc=e,st=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=bt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Bw(o);if(y!==null){y.flags&=-257,Ww(y,o,a,i,e),y.mode&1&&zw(i,d,e),e=y,u=d;var I=e.updateQueue;if(I===null){var x=new Set;x.add(u),e.updateQueue=x}else I.add(u);break e}else{if(!(e&1)){zw(i,d,e),wv();break e}u=Error(z(426))}}else if(We&&a.mode&1){var S=Bw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ww(S,o,a,i,e),ev(da(u,a));break e}}i=u=da(u,a),ft!==4&&(ft=2),Dl===null?Dl=[i]:Dl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=wS(i,u,e);Mw(i,E);break e;case 1:a=u;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ds===null||!Ds.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=_S(i,a,e);Mw(i,j);break e}}i=i.return}while(i!==null)}US(n)}catch(D){e=D,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function VS(){var t=Pd.current;return Pd.current=Ad,t===null?Ad:t}function wv(){(ft===0||ft===3||ft===2)&&(ft=4),wt===null||!(Li&268435455)&&!(Eh&268435455)||fs(wt,bt)}function kd(t,e){var n=Ee;Ee|=2;var r=VS();(wt!==t||bt!==e)&&(Nr=null,Pi(t,e));do try{ik();break}catch(s){LS(t,s)}while(!0);if(nv(),Ee=n,Pd.current=r,st!==null)throw Error(z(261));return wt=null,bt=0,ft}function ik(){for(;st!==null;)FS(st)}function ok(){for(;st!==null&&!RR();)FS(st)}function FS(t){var e=zS(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?US(t):st=e,mv.current=null}function US(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Zj(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,st=null;return}}else if(n=Jj(n,e,dn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ft===0&&(ft=5)}function gi(t,e,n){var r=Re,s=In.transition;try{In.transition=null,Re=1,ak(t,e,n,r)}finally{In.transition=s,Re=r}return null}function ak(t,e,n,r){do Oo();while(Cs!==null);if(Ee&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($R(t,i),t===wt&&(st=wt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,BS(pd,function(){return Oo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=In.transition,In.transition=null;var o=Re;Re=1;var a=Ee;Ee|=4,mv.current=null,tk(t,n),DS(n,t),Cj(om),gd=!!im,om=im=null,t.current=n,nk(n),jR(),Ee=a,Re=o,In.transition=i}else t.current=n;if(_u&&(_u=!1,Cs=t,jd=s),i=t.pendingLanes,i===0&&(Ds=null),OR(n.stateNode),an(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rd)throw Rd=!1,t=Im,Im=null,t;return jd&1&&t.tag!==0&&Oo(),i=t.pendingLanes,i&1?t===Cm?Ol++:(Ol=0,Cm=t):Ol=0,ri(),null}function Oo(){if(Cs!==null){var t=wT(jd),e=In.transition,n=Re;try{if(In.transition=null,Re=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,jd=0,Ee&6)throw Error(z(331));var s=Ee;for(Ee|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(K=d;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:kl(8,h,i)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var p=h.sibling,y=h.return;if(RS(h),h===d){K=null;break}if(p!==null){p.return=y,K=p;break}K=y}}}var I=i.alternate;if(I!==null){var x=I.child;if(x!==null){I.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,K=E;break e}K=i.return}}var w=t.current;for(K=w;K!==null;){o=K;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,K=b;else e:for(o=w;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_h(9,a)}}catch(D){Je(a,a.return,D)}if(a===o){K=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,K=j;break e}K=a.return}}if(Ee=s,ri(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(fh,t)}catch{}r=!0}return r}finally{Re=n,In.transition=e}}return!1}function r_(t,e,n){e=da(n,e),e=wS(t,e,1),t=ks(t,e,1),e=Ht(),t!==null&&(Sc(t,1,e),an(t,e))}function Je(t,e,n){if(t.tag===3)r_(t,t,n);else for(;e!==null;){if(e.tag===3){r_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=da(n,t),t=_S(e,t,1),e=ks(e,t,1),t=Ht(),e!==null&&(Sc(e,1,t),an(e,t));break}}e=e.return}}function lk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(bt&n)===n&&(ft===4||ft===3&&(bt&130023424)===bt&&500>nt()-vv?Pi(t,0):gv|=n),an(t,e)}function $S(t,e){e===0&&(t.mode&1?(e=du,du<<=1,!(du&130023424)&&(du=4194304)):e=1);var n=Ht();t=Ur(t,e),t!==null&&(Sc(t,e,n),an(t,n))}function ck(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$S(t,n)}function uk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),$S(t,n)}var zS;zS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,Yj(t,e,n);rn=!!(t.flags&131072)}else rn=!1,We&&e.flags&1048576&&qT(e,Td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hu(t,e),t=e.pendingProps;var s=aa(e,Ot.current);Do(e,n),s=uv(null,e,r,t,s,n);var i=dv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(i=!0,_d(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,iv(e),s.updater=wh,e.stateNode=s,s._reactInternals=e,mm(e,r,t,n),e=ym(null,e,r,!0,i,n)):(e.tag=0,We&&i&&Jg(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hk(r),t=jn(r,t),s){case 0:e=vm(null,e,r,t,n);break e;case 1:e=Gw(null,e,r,t,n);break e;case 11:e=Hw(null,e,r,t,n);break e;case 14:e=qw(null,e,r,jn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),vm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),Gw(t,e,r,s,n);case 3:e:{if(bS(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,JT(t,e),Id(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=da(Error(z(423)),e),e=Kw(t,e,r,n,s);break e}else if(r!==s){s=da(Error(z(424)),e),e=Kw(t,e,r,n,s);break e}else for(fn=js(e.stateNode.containerInfo.firstChild),mn=e,We=!0,On=null,n=XT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===s){e=$r(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return ZT(e),t===null&&hm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,am(r,s)?o=null:i!==null&&am(r,i)&&(e.flags|=32),SS(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&hm(e),null;case 13:return IS(t,e,n);case 4:return ov(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),Hw(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(Sd,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!sn.current){e=$r(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Mr(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),fm(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Do(e,n),s=Cn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=jn(r,e.pendingProps),s=jn(r.type,s),qw(t,e,r,s,n);case 15:return ES(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),Hu(t,e),e.tag=1,on(r)?(t=!0,_d(e)):t=!1,Do(e,n),xS(e,r,s),mm(e,r,s,n),ym(null,e,r,!0,t,n);case 19:return CS(t,e,n);case 22:return TS(t,e,n)}throw Error(z(156,e.tag))};function BS(t,e){return gT(t,e)}function dk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new dk(t,e,n,r)}function _v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hk(t){if(typeof t=="function")return _v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ug)return 11;if(t===$g)return 14}return 2}function Ms(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ku(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yo:return Ri(n.children,s,i,e);case Fg:o=8,s|=8;break;case Fp:return t=bn(12,n,e,s|2),t.elementType=Fp,t.lanes=i,t;case Up:return t=bn(13,n,e,s),t.elementType=Up,t.lanes=i,t;case $p:return t=bn(19,n,e,s),t.elementType=$p,t.lanes=i,t;case ZE:return Th(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YE:o=10;break e;case JE:o=9;break e;case Ug:o=11;break e;case $g:o=14;break e;case us:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=bn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ri(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Th(t,e,n,r){return t=bn(22,t,r,e),t.elementType=ZE,t.lanes=n,t.stateNode={isHidden:!1},t}function sp(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function ip(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ev(t,e,n,r,s,i,o,a,u){return t=new fk(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iv(i),t}function pk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WS(t){if(!t)return Ws;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(on(n))return WT(t,n,e)}return e}function HS(t,e,n,r,s,i,o,a,u){return t=Ev(n,r,!0,t,s,i,o,a,u),t.context=WS(null),n=t.current,r=Ht(),s=Os(n),i=Mr(r,s),i.callback=e??null,ks(n,i,s),t.current.lanes=s,Sc(t,s,r),an(t,r),t}function Sh(t,e,n,r){var s=e.current,i=Ht(),o=Os(s);return n=WS(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ks(s,e,o),t!==null&&(zn(t,s,o,i),zu(t,s,o)),o}function Dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tv(t,e){s_(t,e),(t=t.alternate)&&s_(t,e)}function mk(){return null}var qS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sv(t){this._internalRoot=t}bh.prototype.render=Sv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Sh(t,e,null,null)};bh.prototype.unmount=Sv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){Sh(null,t,null,null)}),e[Fr]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=TT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&bT(t)}};function bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i_(){}function gk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Dd(o);i.call(d)}}var o=HS(e,r,t,0,null,!1,!1,"",i_);return t._reactRootContainer=o,t[Fr]=o.current,Jl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Dd(u);a.call(d)}}var u=Ev(t,0,!1,null,null,!1,!1,"",i_);return t._reactRootContainer=u,t[Fr]=u.current,Jl(t.nodeType===8?t.parentNode:t),Vi(function(){Sh(e,u,n,r)}),u}function Ch(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Dd(o);a.call(u)}}Sh(e,o,t,s)}else o=gk(n,e,t,s,r);return Dd(o)}_T=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xl(e.pendingLanes);n!==0&&(Wg(e,n|1),an(e,nt()),!(Ee&6)&&(ha=nt()+500,ri()))}break;case 13:Vi(function(){var r=Ur(t,1);if(r!==null){var s=Ht();zn(r,t,1,s)}}),Tv(t,1)}};Hg=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Ht();zn(e,t,134217728,n)}Tv(t,134217728)}};ET=function(t){if(t.tag===13){var e=Os(t),n=Ur(t,e);if(n!==null){var r=Ht();zn(n,t,e,r)}Tv(t,e)}};TT=function(){return Re};ST=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Yp=function(t,e,n){switch(e){case"input":if(Wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vh(r);if(!s)throw Error(z(90));tT(r),Wp(r,s)}}}break;case"textarea":rT(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};uT=yv;dT=Vi;var vk={usingClientEntryPoint:!1,Events:[Ic,Eo,vh,lT,cT,yv]},pl={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yk={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pT(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{fh=Eu.inject(yk),cr=Eu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bv(e))throw Error(z(200));return pk(t,e,null,n)};yn.createRoot=function(t,e){if(!bv(t))throw Error(z(299));var n=!1,r="",s=qS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ev(t,1,!1,null,null,n,!1,r,s),t[Fr]=e.current,Jl(t.nodeType===8?t.parentNode:t),new Sv(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=pT(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Vi(t)};yn.hydrate=function(t,e,n){if(!Ih(e))throw Error(z(200));return Ch(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!bv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=qS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HS(e,null,t,1,n??null,s,!1,i,o),t[Fr]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bh(e)};yn.render=function(t,e,n){if(!Ih(e))throw Error(z(200));return Ch(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(z(40));return t._reactRootContainer?(Vi(function(){Ch(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};yn.unstable_batchedUpdates=yv;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ih(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Ch(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function GS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GS)}catch(t){console.error(t)}}GS(),GE.exports=yn;var eo=GE.exports;const xk=DE(eo);var KS,o_=eo;KS=o_.createRoot,o_.hydrateRoot;function wk(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var QS={exports:{}},XS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=g;function _k(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ek=typeof Object.is=="function"?Object.is:_k,Tk=fa.useState,Sk=fa.useEffect,bk=fa.useLayoutEffect,Ik=fa.useDebugValue;function Ck(t,e){var n=e(),r=Tk({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return bk(function(){s.value=n,s.getSnapshot=e,op(s)&&i({inst:s})},[t,n,e]),Sk(function(){return op(s)&&i({inst:s}),t(function(){op(s)&&i({inst:s})})},[t]),Ik(n),n}function op(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ek(t,n)}catch{return!0}}function Nk(t,e){return e()}var Ak=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nk:Ck;XS.useSyncExternalStore=fa.useSyncExternalStore!==void 0?fa.useSyncExternalStore:Ak;QS.exports=XS;var Pk=QS.exports;const Rk=HE.useInsertionEffect,jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kk=jk?g.useLayoutEffect:g.useEffect,Dk=Rk||kk,YS=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return Dk(()=>{e[0]=t}),e[1]},Ok="popstate",Iv="pushState",Cv="replaceState",Mk="hashchange",a_=[Ok,Iv,Cv,Mk],Lk=t=>{for(const e of a_)addEventListener(e,t);return()=>{for(const e of a_)removeEventListener(e,t)}},JS=(t,e)=>Pk.useSyncExternalStore(Lk,t,e),Vk=()=>location.search,Fk=({ssrSearch:t=""}={})=>JS(Vk,()=>t),l_=()=>location.pathname,Uk=({ssrPath:t}={})=>JS(l_,t?()=>t:l_),$k=(t,{replace:e=!1,state:n=null}={})=>history[e?Cv:Iv](n,"",t),zk=(t={})=>[Uk(t),$k],c_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[c_]>"u"){for(const t of[Iv,Cv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,c_,{value:!0})}const Bk=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ZS=(t="")=>t==="/"?"":t,Wk=(t,e)=>t[0]==="~"?t.slice(1):ZS(e)+t,Hk=(t="",e)=>Bk(u_(ZS(t)),u_(e)),u_=t=>{try{return decodeURI(t)}catch{return t}},e1={hook:zk,searchHook:Fk,parser:wk,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},t1=g.createContext(e1),Nc=()=>g.useContext(t1),n1={},r1=g.createContext(n1),qk=()=>g.useContext(r1),Nh=t=>{const[e,n]=t.hook(t);return[Hk(t.base,e),YS((r,s)=>n(Wk(r,t.base),s))]},Gk=()=>Nh(Nc()),s1=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...u]=o;return a!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,p)=>[f,u[p]])):o.groups;let h={...u};return d&&Object.assign(h,d),h})(),...r?[a]:[]]:[!1,null]},Kk=({children:t,...e})=>{var h,f;const n=Nc(),r=e.hook?e1:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=g.useRef({}),u=a.current,d=u;for(let p in r){const y=p==="base"?r[p]+(e[p]||""):e[p]||r[p];u===d&&y!==d[p]&&(a.current=d={...d}),d[p]=y,y!==r[p]&&(s=d)}return g.createElement(t1.Provider,{value:s,children:t})},d_=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,Qk=t=>{let e=g.useRef(n1),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},rs=({path:t,nest:e,match:n,...r})=>{const s=Nc(),[i]=Nh(s),[o,a,u]=n??s1(s.parser,t,i,e),d=Qk({...qk(),...a});if(!o)return null;const h=u?g.createElement(Kk,{base:u},d_(r,d)):d_(r,d);return g.createElement(r1.Provider,{value:d,children:h})},Xk=g.forwardRef((t,e)=>{const n=Nc(),[r,s]=Nh(n),{to:i="",href:o=i,onClick:a,asChild:u,children:d,className:h,replace:f,state:p,...y}=t,I=YS(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&g.isValidElement(d)?g.cloneElement(d,{onClick:I,href:x}):g.createElement("a",{...y,onClick:I,href:x,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),i1=t=>Array.isArray(t)?t.flatMap(e=>i1(e&&e.type===g.Fragment?e.props.children:e)):[t],Yk=({children:t,location:e})=>{const n=Nc(),[r]=Nh(n);for(const s of i1(t)){let i=0;if(g.isValidElement(s)&&(i=s1(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var ka=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fi=typeof window>"u"||"Deno"in globalThis;function _n(){}function Jk(t,e){return typeof t=="function"?t(e):t}function Pm(t){return typeof t=="number"&&t>=0&&t!==1/0}function o1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mo(t,e){return typeof t=="function"?t(e):t}function Mn(t,e){return typeof t=="function"?t(e):t}function h_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Nv(o,e.options))return!1}else if(!ac(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function f_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ui(e.options.mutationKey)!==Ui(i))return!1}else if(!ac(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Nv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ui)(t)}function Ui(t){return JSON.stringify(t,(e,n)=>Rm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ac(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ac(t[n],e[n])):!1}function a1(t,e){if(t===e)return t;const n=p_(t)&&p_(e);if(n||Rm(t)&&Rm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=a1(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Od(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function p_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rm(t){if(!m_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!m_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function m_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zk(t){return new Promise(e=>{setTimeout(e,t)})}function jm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?a1(t,e):e}function e2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function t2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function l1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ti,vs,Go,SE,n2=(SE=class extends ka{constructor(){super();ne(this,Ti);ne(this,vs);ne(this,Go);q(this,Go,e=>{if(!Fi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,vs)||this.setEventListener(O(this,Go))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,vs))==null||e.call(this),q(this,vs,void 0))}setEventListener(e){var n;q(this,Go,e),(n=O(this,vs))==null||n.call(this),q(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,Ti)!==e&&(q(this,Ti,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Ti)=="boolean"?O(this,Ti):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ti=new WeakMap,vs=new WeakMap,Go=new WeakMap,SE),Pv=new n2,Ko,ys,Qo,bE,r2=(bE=class extends ka{constructor(){super();ne(this,Ko,!0);ne(this,ys);ne(this,Qo);q(this,Qo,e=>{if(!Fi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,ys)||this.setEventListener(O(this,Qo))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,ys))==null||e.call(this),q(this,ys,void 0))}setEventListener(e){var n;q(this,Qo,e),(n=O(this,ys))==null||n.call(this),q(this,ys,e(this.setOnline.bind(this)))}setOnline(e){O(this,Ko)!==e&&(q(this,Ko,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,Ko)}},Ko=new WeakMap,ys=new WeakMap,Qo=new WeakMap,bE),Md=new r2;function km(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function s2(t){return Math.min(1e3*2**t,3e4)}function c1(t){return(t??"online")==="online"?Md.isOnline():!0}var u1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ap(t){return t instanceof u1}function d1(t){let e=!1,n=0,r=!1,s;const i=km(),o=x=>{var S;r||(p(new u1(x)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},u=()=>{e=!1},d=()=>Pv.isFocused()&&(t.networkMode==="always"||Md.isOnline())&&t.canRun(),h=()=>c1(t.networkMode)&&t.canRun(),f=x=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,x),s==null||s(),i.resolve(x))},p=x=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,x),s==null||s(),i.reject(x))},y=()=>new Promise(x=>{var S;s=E=>{(r||d())&&x(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),I=()=>{if(r)return;let x;const S=n===0?t.initialPromise:void 0;try{x=S??t.fn()}catch(E){x=Promise.reject(E)}Promise.resolve(x).then(f).catch(E=>{var M;if(r)return;const w=t.retry??(Fi?0:3),b=t.retryDelay??s2,j=typeof b=="function"?b(n,E):b,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){p(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),Zk(j).then(()=>d()?void 0:y()).then(()=>{e?p(E):I()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?I():y().then(I),i)}}function i2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var dt=i2(),Si,IE,h1=(IE=class{constructor(){ne(this,Si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pm(this.gcTime)&&q(this,Si,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fi?1/0:5*60*1e3))}clearGcTimeout(){O(this,Si)&&(clearTimeout(O(this,Si)),q(this,Si,void 0))}},Si=new WeakMap,IE),Xo,Yo,wn,Rt,xc,bi,kn,Cr,CE,o2=(CE=class extends h1{constructor(n){super();ne(this,kn);ne(this,Xo);ne(this,Yo);ne(this,wn);ne(this,Rt);ne(this,xc);ne(this,bi);q(this,bi,!1),q(this,xc,n.defaultOptions),this.setOptions(n.options),this.observers=[],q(this,wn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,q(this,Xo,a2(this.options)),this.state=n.state??O(this,Xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=O(this,Rt))==null?void 0:n.promise}setOptions(n){this.options={...O(this,xc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,wn).remove(this)}setData(n,r){const s=jm(this.state.data,n,this.options);return pe(this,kn,Cr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){pe(this,kn,Cr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=O(this,Rt))==null?void 0:s.promise;return(i=O(this,Rt))==null||i.cancel(n),r?r.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Xo))}isActive(){return this.observers.some(n=>Mn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!o1(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,Rt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,Rt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),O(this,wn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(O(this,Rt)&&(O(this,bi)?O(this,Rt).cancel({revert:!0}):O(this,Rt).cancelRetry()),this.scheduleGc()),O(this,wn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,kn,Cr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,Rt))return O(this,Rt).continueRetry(),O(this,Rt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(q(this,bi,!0),s.signal)})},o=()=>{const p=l1(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),q(this,bi,!1),this.options.persister?this.options.persister(p,y,this):p(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),q(this,Yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&pe(this,kn,Cr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const u=p=>{var y,I,x,S;ap(p)&&p.silent||pe(this,kn,Cr).call(this,{type:"error",error:p}),ap(p)||((I=(y=O(this,wn).config).onError)==null||I.call(y,p,this),(S=(x=O(this,wn).config).onSettled)==null||S.call(x,this.state.data,p,this)),this.scheduleGc()};return q(this,Rt,d1({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var y,I,x,S;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){u(E);return}(I=(y=O(this,wn).config).onSuccess)==null||I.call(y,p,this),(S=(x=O(this,wn).config).onSettled)==null||S.call(x,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,y)=>{pe(this,kn,Cr).call(this,{type:"failed",failureCount:p,error:y})},onPause:()=>{pe(this,kn,Cr).call(this,{type:"pause"})},onContinue:()=>{pe(this,kn,Cr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),O(this,Rt).start()}},Xo=new WeakMap,Yo=new WeakMap,wn=new WeakMap,Rt=new WeakMap,xc=new WeakMap,bi=new WeakMap,kn=new WeakSet,Cr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...f1(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return ap(i)&&i.revert&&O(this,Yo)?{...O(this,Yo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),O(this,wn).notify({query:this,type:"updated",action:n})})},CE);function f1(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function a2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rr,NE,l2=(NE=class extends ka{constructor(e={}){super();ne(this,rr);this.config=e,q(this,rr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Nv(s,n);let o=this.get(i);return o||(o=new o2({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,rr).has(e.queryHash)||(O(this,rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,rr).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,rr).get(e)}getAll(){return[...O(this,rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>h_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>h_(e,r)):n}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rr=new WeakMap,NE),sr,Ft,Ii,ir,ls,AE,c2=(AE=class extends h1{constructor(n){super();ne(this,ir);ne(this,sr);ne(this,Ft);ne(this,Ii);this.mutationId=n.mutationId,q(this,Ft,n.mutationCache),q(this,sr,[]),this.state=n.state||p1(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){O(this,sr).includes(n)||(O(this,sr).push(n),this.clearGcTimeout(),O(this,Ft).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){q(this,sr,O(this,sr).filter(r=>r!==n)),this.scheduleGc(),O(this,Ft).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){O(this,sr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Ft).remove(this))}continue(){var n;return((n=O(this,Ii))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,u,d,h,f,p,y,I,x,S,E,w,b,j,D,M,_,T;q(this,Ii,d1({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{pe(this,ir,ls).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{pe(this,ir,ls).call(this,{type:"pause"})},onContinue:()=>{pe(this,ir,ls).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Ft).canRun(this)}));const r=this.state.status==="pending",s=!O(this,Ii).canStart();try{if(!r){pe(this,ir,ls).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=O(this,Ft).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));A!==this.state.context&&pe(this,ir,ls).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const C=await O(this,Ii).start();return await((h=(d=O(this,Ft).config).onSuccess)==null?void 0:h.call(d,C,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,n,this.state.context)),await((I=(y=O(this,Ft).config).onSettled)==null?void 0:I.call(y,C,null,this.state.variables,this.state.context,this)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,C,null,n,this.state.context)),pe(this,ir,ls).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(E=O(this,Ft).config).onError)==null?void 0:w.call(E,C,n,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,C,n,this.state.context)),await((M=(D=O(this,Ft).config).onSettled)==null?void 0:M.call(D,void 0,C,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,C,n,this.state.context)),C}finally{pe(this,ir,ls).call(this,{type:"error",error:C})}}finally{O(this,Ft).runNext(this)}}},sr=new WeakMap,Ft=new WeakMap,Ii=new WeakMap,ir=new WeakSet,ls=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),dt.batch(()=>{O(this,sr).forEach(s=>{s.onMutationUpdate(n)}),O(this,Ft).notify({mutation:this,type:"updated",action:n})})},AE);function p1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,wc,PE,u2=(PE=class extends ka{constructor(e={}){super();ne(this,un);ne(this,wc);this.config=e,q(this,un,new Map),q(this,wc,Date.now())}build(e,n,r){const s=new c2({mutationCache:this,mutationId:++iu(this,wc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Tu(e),r=O(this,un).get(n)??[];r.push(e),O(this,un).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Tu(e);if(O(this,un).has(n)){const s=(r=O(this,un).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?O(this,un).delete(n):O(this,un).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=O(this,un).get(Tu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=O(this,un).get(Tu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...O(this,un).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>f_(n,r))}findAll(e={}){return this.getAll().filter(n=>f_(e,n))}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(_n))))}},un=new WeakMap,wc=new WeakMap,PE);function Tu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function g_(t){return{onFetch:(e,n)=>{var h,f,p,y,I;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const d=async()=>{let x=!1;const S=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},E=l1(e.options,e.fetchOptions),w=async(b,j,D)=>{if(x)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const M={queryKey:e.queryKey,pageParam:j,direction:D?"backward":"forward",meta:e.options.meta};S(M);const _=await E(M),{maxPages:T}=e.options,C=D?t2:e2;return{pages:C(b.pages,_,T),pageParams:C(b.pageParams,j,T)}};if(s&&i.length){const b=s==="backward",j=b?d2:v_,D={pages:i,pageParams:o},M=j(r,D);a=await w(D,M,b)}else{const b=t??i.length;do{const j=u===0?o[0]??r.initialPageParam:v_(r,a);if(u>0&&j==null)break;a=await w(a,j),u++}while(u<b)}return a};e.options.persister?e.fetchFn=()=>{var x,S;return(S=(x=e.options).persister)==null?void 0:S.call(x,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function v_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function d2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ye,xs,ws,Jo,Zo,_s,ea,ta,RE,h2=(RE=class{constructor(t={}){ne(this,Ye);ne(this,xs);ne(this,ws);ne(this,Jo);ne(this,Zo);ne(this,_s);ne(this,ea);ne(this,ta);q(this,Ye,t.queryCache||new l2),q(this,xs,t.mutationCache||new u2),q(this,ws,t.defaultOptions||{}),q(this,Jo,new Map),q(this,Zo,new Map),q(this,_s,0)}mount(){iu(this,_s)._++,O(this,_s)===1&&(q(this,ea,Pv.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Ye).onFocus())})),q(this,ta,Md.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Ye).onOnline())})))}unmount(){var t,e;iu(this,_s)._--,O(this,_s)===0&&((t=O(this,ea))==null||t.call(this),q(this,ea,void 0),(e=O(this,ta))==null||e.call(this),q(this,ta,void 0))}isFetching(t){return O(this,Ye).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,xs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Ye).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=O(this,Ye).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Mo(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return O(this,Ye).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,Ye).get(r.queryHash),i=s==null?void 0:s.state.data,o=Jk(e,i);if(o!==void 0)return O(this,Ye).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return dt.batch(()=>O(this,Ye).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Ye).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,Ye);dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,Ye),r={type:"active",...t};return dt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=dt.batch(()=>O(this,Ye).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_n).catch(_n)}invalidateQueries(t={},e={}){return dt.batch(()=>{if(O(this,Ye).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=dt.batch(()=>O(this,Ye).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_n)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,Ye).build(this,e);return n.isStaleByTime(Mo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_n).catch(_n)}fetchInfiniteQuery(t){return t.behavior=g_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_n).catch(_n)}ensureInfiniteQueryData(t){return t.behavior=g_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Md.isOnline()?O(this,xs).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Ye)}getMutationCache(){return O(this,xs)}getDefaultOptions(){return O(this,ws)}setDefaultOptions(t){q(this,ws,t)}setQueryDefaults(t,e){O(this,Jo).set(Ui(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,Jo).values()];let n={};return e.forEach(r=>{ac(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){O(this,Zo).set(Ui(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,Zo).values()];let n={};return e.forEach(r=>{ac(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Nv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Ye).clear(),O(this,xs).clear()}},Ye=new WeakMap,xs=new WeakMap,ws=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,_s=new WeakMap,ea=new WeakMap,ta=new WeakMap,RE),Yt,we,_c,Ut,Ci,na,Es,or,Ec,ra,sa,Ni,Ai,Ts,ia,Ne,_l,Dm,Om,Mm,Lm,Vm,Fm,Um,m1,jE,f2=(jE=class extends ka{constructor(e,n){super();ne(this,Ne);ne(this,Yt);ne(this,we);ne(this,_c);ne(this,Ut);ne(this,Ci);ne(this,na);ne(this,Es);ne(this,or);ne(this,Ec);ne(this,ra);ne(this,sa);ne(this,Ni);ne(this,Ai);ne(this,Ts);ne(this,ia,new Set);this.options=n,q(this,Yt,e),q(this,or,null),q(this,Es,km()),this.options.experimental_prefetchInRender||O(this,Es).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,we).addObserver(this),y_(O(this,we),this.options)?pe(this,Ne,_l).call(this):this.updateResult(),pe(this,Ne,Lm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $m(O(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $m(O(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Ne,Vm).call(this),pe(this,Ne,Fm).call(this),O(this,we).removeObserver(this)}setOptions(e,n){const r=this.options,s=O(this,we);if(this.options=O(this,Yt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mn(this.options.enabled,O(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Ne,Um).call(this),O(this,we).setOptions(this.options),r._defaulted&&!Od(this.options,r)&&O(this,Yt).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,we),observer:this});const i=this.hasListeners();i&&x_(O(this,we),s,this.options,r)&&pe(this,Ne,_l).call(this),this.updateResult(n),i&&(O(this,we)!==s||Mn(this.options.enabled,O(this,we))!==Mn(r.enabled,O(this,we))||Mo(this.options.staleTime,O(this,we))!==Mo(r.staleTime,O(this,we)))&&pe(this,Ne,Dm).call(this);const o=pe(this,Ne,Om).call(this);i&&(O(this,we)!==s||Mn(this.options.enabled,O(this,we))!==Mn(r.enabled,O(this,we))||o!==O(this,Ts))&&pe(this,Ne,Mm).call(this,o)}getOptimisticResult(e){const n=O(this,Yt).getQueryCache().build(O(this,Yt),e),r=this.createResult(n,e);return m2(this,r)&&(q(this,Ut,r),q(this,na,this.options),q(this,Ci,O(this,we).state)),r}getCurrentResult(){return O(this,Ut)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){O(this,ia).add(e)}getCurrentQuery(){return O(this,we)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=O(this,Yt).defaultQueryOptions(e),r=O(this,Yt).getQueryCache().build(O(this,Yt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return pe(this,Ne,_l).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,Ut)))}createResult(e,n){var T;const r=O(this,we),s=this.options,i=O(this,Ut),o=O(this,Ci),a=O(this,na),d=e!==r?e.state:O(this,_c),{state:h}=e;let f={...h},p=!1,y;if(n._optimisticResults){const C=this.hasListeners(),A=!C&&y_(e,n),R=C&&x_(e,r,n,s);(A||R)&&(f={...f,...f1(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:I,errorUpdatedAt:x,status:S}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===O(this,Ec))y=O(this,ra);else try{q(this,Ec,n.select),y=n.select(f.data),y=jm(i==null?void 0:i.data,y,n),q(this,ra,y),q(this,or,null)}catch(C){q(this,or,C)}else y=f.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let C;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=i.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((T=O(this,sa))==null?void 0:T.state.data,O(this,sa)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),q(this,or,null)}catch(A){q(this,or,A)}C!==void 0&&(S="success",y=jm(i==null?void 0:i.data,C,n),p=!0)}O(this,or)&&(I=O(this,or),y=O(this,ra),x=Date.now(),S="error");const E=f.fetchStatus==="fetching",w=S==="pending",b=S==="error",j=w&&E,D=y!==void 0,_={status:S,fetchStatus:f.fetchStatus,isPending:w,isSuccess:S==="success",isError:b,isInitialLoading:j,isLoading:j,data:y,dataUpdatedAt:f.dataUpdatedAt,error:I,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:E,isRefetching:E&&!w,isLoadingError:b&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&D,isStale:Rv(e,n),refetch:this.refetch,promise:O(this,Es)};if(this.options.experimental_prefetchInRender){const C=k=>{_.status==="error"?k.reject(_.error):_.data!==void 0&&k.resolve(_.data)},A=()=>{const k=q(this,Es,_.promise=km());C(k)},R=O(this,Es);switch(R.status){case"pending":e.queryHash===r.queryHash&&C(R);break;case"fulfilled":(_.status==="error"||_.data!==R.value)&&A();break;case"rejected":(_.status!=="error"||_.error!==R.reason)&&A();break}}return _}updateResult(e){const n=O(this,Ut),r=this.createResult(O(this,we),this.options);if(q(this,Ci,O(this,we).state),q(this,na,this.options),O(this,Ci).data!==void 0&&q(this,sa,O(this,we)),Od(r,n))return;q(this,Ut,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!O(this,ia).size)return!0;const u=new Set(a??O(this,ia));return this.options.throwOnError&&u.add("error"),Object.keys(O(this,Ut)).some(d=>{const h=d;return O(this,Ut)[h]!==n[h]&&u.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),pe(this,Ne,m1).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Ne,Lm).call(this)}},Yt=new WeakMap,we=new WeakMap,_c=new WeakMap,Ut=new WeakMap,Ci=new WeakMap,na=new WeakMap,Es=new WeakMap,or=new WeakMap,Ec=new WeakMap,ra=new WeakMap,sa=new WeakMap,Ni=new WeakMap,Ai=new WeakMap,Ts=new WeakMap,ia=new WeakMap,Ne=new WeakSet,_l=function(e){pe(this,Ne,Um).call(this);let n=O(this,we).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(_n)),n},Dm=function(){pe(this,Ne,Vm).call(this);const e=Mo(this.options.staleTime,O(this,we));if(Fi||O(this,Ut).isStale||!Pm(e))return;const r=o1(O(this,Ut).dataUpdatedAt,e)+1;q(this,Ni,setTimeout(()=>{O(this,Ut).isStale||this.updateResult()},r))},Om=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,we)):this.options.refetchInterval)??!1},Mm=function(e){pe(this,Ne,Fm).call(this),q(this,Ts,e),!(Fi||Mn(this.options.enabled,O(this,we))===!1||!Pm(O(this,Ts))||O(this,Ts)===0)&&q(this,Ai,setInterval(()=>{(this.options.refetchIntervalInBackground||Pv.isFocused())&&pe(this,Ne,_l).call(this)},O(this,Ts)))},Lm=function(){pe(this,Ne,Dm).call(this),pe(this,Ne,Mm).call(this,pe(this,Ne,Om).call(this))},Vm=function(){O(this,Ni)&&(clearTimeout(O(this,Ni)),q(this,Ni,void 0))},Fm=function(){O(this,Ai)&&(clearInterval(O(this,Ai)),q(this,Ai,void 0))},Um=function(){const e=O(this,Yt).getQueryCache().build(O(this,Yt),this.options);if(e===O(this,we))return;const n=O(this,we);q(this,we,e),q(this,_c,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},m1=function(e){dt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(O(this,Ut))}),O(this,Yt).getQueryCache().notify({query:O(this,we),type:"observerResultsUpdated"})})},jE);function p2(t,e){return Mn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function y_(t,e){return p2(t,e)||t.state.data!==void 0&&$m(t,e,e.refetchOnMount)}function $m(t,e,n){if(Mn(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Rv(t,e)}return!1}function x_(t,e,n,r){return(t!==e||Mn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Rv(t,n)}function Rv(t,e){return Mn(e.enabled,t)!==!1&&t.isStaleByTime(Mo(e.staleTime,t))}function m2(t,e){return!Od(t.getCurrentResult(),e)}var Ss,bs,Jt,Pr,Lr,Qu,zm,kE,g2=(kE=class extends ka{constructor(n,r){super();ne(this,Lr);ne(this,Ss);ne(this,bs);ne(this,Jt);ne(this,Pr);q(this,Ss,n),this.setOptions(r),this.bindMethods(),pe(this,Lr,Qu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=O(this,Ss).defaultMutationOptions(n),Od(this.options,r)||O(this,Ss).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Jt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ui(r.mutationKey)!==Ui(this.options.mutationKey)?this.reset():((s=O(this,Jt))==null?void 0:s.state.status)==="pending"&&O(this,Jt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=O(this,Jt))==null||n.removeObserver(this)}onMutationUpdate(n){pe(this,Lr,Qu).call(this),pe(this,Lr,zm).call(this,n)}getCurrentResult(){return O(this,bs)}reset(){var n;(n=O(this,Jt))==null||n.removeObserver(this),q(this,Jt,void 0),pe(this,Lr,Qu).call(this),pe(this,Lr,zm).call(this)}mutate(n,r){var s;return q(this,Pr,r),(s=O(this,Jt))==null||s.removeObserver(this),q(this,Jt,O(this,Ss).getMutationCache().build(O(this,Ss),this.options)),O(this,Jt).addObserver(this),O(this,Jt).execute(n)}},Ss=new WeakMap,bs=new WeakMap,Jt=new WeakMap,Pr=new WeakMap,Lr=new WeakSet,Qu=function(){var r;const n=((r=O(this,Jt))==null?void 0:r.state)??p1();q(this,bs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},zm=function(n){dt.batch(()=>{var r,s,i,o,a,u,d,h;if(O(this,Pr)&&this.hasListeners()){const f=O(this,bs).variables,p=O(this,bs).context;(n==null?void 0:n.type)==="success"?((s=(r=O(this,Pr)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=O(this,Pr)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((u=(a=O(this,Pr)).onError)==null||u.call(a,n.error,f,p),(h=(d=O(this,Pr)).onSettled)==null||h.call(d,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(O(this,bs))})})},kE),g1=g.createContext(void 0),si=t=>{const e=g.useContext(g1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},v2=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(g1.Provider,{value:t,children:e})),v1=g.createContext(!1),y2=()=>g.useContext(v1);v1.Provider;function x2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var w2=g.createContext(x2()),_2=()=>g.useContext(w2);function y1(t,e){return typeof t=="function"?t(...e):!!t}function Bm(){}var E2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},T2=t=>{g.useEffect(()=>{t.clearReset()},[t])},S2=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&y1(n,[t.error,r]),b2=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},I2=(t,e)=>t.isLoading&&t.isFetching&&!e,C2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,w_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function N2(t,e,n){var h,f,p,y,I;const r=si(),s=y2(),i=_2(),o=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",b2(o),E2(o,i),T2(i);const a=!r.getQueryCache().get(o.queryHash),[u]=g.useState(()=>new e(r,o)),d=u.getOptimisticResult(o);if(g.useSyncExternalStore(g.useCallback(x=>{const S=s?Bm:u.subscribe(dt.batchCalls(x));return u.updateResult(),S},[u,s]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),g.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),C2(o,d))throw w_(o,u,i);if(S2({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((y=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,d),o.experimental_prefetchInRender&&!Fi&&I2(d,s)){const x=a?w_(o,u,i):(I=r.getQueryCache().get(o.queryHash))==null?void 0:I.promise;x==null||x.catch(Bm).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function qt(t,e){return N2(t,f2)}function tn(t,e){const n=si(),[r]=g.useState(()=>new g2(n,t));g.useEffect(()=>{r.setOptions(t)},[r,t]);const s=g.useSyncExternalStore(g.useCallback(o=>r.subscribe(dt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=g.useCallback((o,a)=>{r.mutate(o,a).catch(Bm)},[r]);if(s.error&&y1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function x1(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function pa(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await x1(r),r}const A2=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await x1(n),await n.json())},P2=new h2({defaultOptions:{queries:{queryFn:A2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),R2=1,j2=1e6;let lp=0;function k2(){return lp=(lp+1)%Number.MAX_SAFE_INTEGER,lp.toString()}const cp=new Map,__=t=>{if(cp.has(t))return;const e=setTimeout(()=>{cp.delete(t),Ml({type:"REMOVE_TOAST",toastId:t})},j2);cp.set(t,e)},D2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,R2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?__(n):t.toasts.forEach(r=>{__(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Xu=[];let Yu={toasts:[]};function Ml(t){Yu=D2(Yu,t),Xu.forEach(e=>{e(Yu)})}function O2({...t}){const e=k2(),n=s=>Ml({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ml({type:"DISMISS_TOAST",toastId:e});return Ml({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function jv(){const[t,e]=g.useState(Yu);return g.useEffect(()=>(Xu.push(e),()=>{const n=Xu.indexOf(e);n>-1&&Xu.splice(n,1)}),[t]),{...t,toast:O2,dismiss:n=>Ml({type:"DISMISS_TOAST",toastId:n})}}function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function E_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function w1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=E_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():E_(t[s],null)}}}}function Te(...t){return g.useCallback(w1(...t),t)}function M2(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,u=g.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Kn(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),u=n.length;n=[...n,o];const d=f=>{var E;const{scope:p,children:y,...I}=f,x=((E=p==null?void 0:p[t])==null?void 0:E[u])||a,S=g.useMemo(()=>I,Object.values(I));return l.jsx(x.Provider,{value:S,children:y})};d.displayName=i+"Provider";function h(f,p){var x;const y=((x=p==null?void 0:p[t])==null?void 0:x[u])||a,I=g.useContext(y);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,L2(s,...e)]}function L2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ma(t){const e=F2(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),u=a.find($2);if(u){const d=u.props.children,h=a.map(f=>f===u?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var V2=ma("Slot");function F2(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=B2(s),a=z2(i,s.props);return s.type!==g.Fragment&&(a.ref=r?w1(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _1=Symbol("radix.slottable");function U2(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_1,e}function $2(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_1}function z2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function B2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kv(t){const e=t+"CollectionProvider",[n,r]=Kn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:E}=x,w=as.useRef(null),b=as.useRef(new Map).current;return l.jsx(s,{scope:S,itemMap:b,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",u=ma(a),d=as.forwardRef((x,S)=>{const{scope:E,children:w}=x,b=i(a,E),j=Te(S,b.collectionRef);return l.jsx(u,{ref:j,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=ma(h),y=as.forwardRef((x,S)=>{const{scope:E,children:w,...b}=x,j=as.useRef(null),D=Te(S,j),M=i(h,E);return as.useEffect(()=>(M.itemMap.set(j,{ref:j,...b}),()=>void M.itemMap.delete(j))),l.jsx(p,{[f]:"",ref:D,children:w})});y.displayName=h;function I(x){const S=i(t+"CollectionConsumer",x);return as.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((M,_)=>b.indexOf(M.ref.current)-b.indexOf(_.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},I,r]}var W2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],se=W2.reduce((t,e)=>{const n=ma(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function E1(t,e){t&&eo.flushSync(()=>t.dispatchEvent(e))}function Ze(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function H2(t,e=globalThis==null?void 0:globalThis.document){const n=Ze(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var q2="DismissableLayer",Wm="dismissableLayer.update",G2="dismissableLayer.pointerDownOutside",K2="dismissableLayer.focusOutside",T_,T1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ac=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,d=g.useContext(T1),[h,f]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),I=Te(e,_=>f(_)),x=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(S),w=h?x.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=E,D=X2(_=>{const T=_.target,C=[...d.branches].some(A=>A.contains(T));!j||C||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},p),M=Y2(_=>{const T=_.target;[...d.branches].some(A=>A.contains(T))||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},p);return H2(_=>{w===d.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},p),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(T_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),S_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=T_)}},[h,p,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),S_())},[h,d]),g.useEffect(()=>{const _=()=>y({});return document.addEventListener(Wm,_),()=>document.removeEventListener(Wm,_)},[]),l.jsx(se.div,{...u,ref:I,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,M.onFocusCapture),onBlurCapture:J(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,D.onPointerDownCapture)})});Ac.displayName=q2;var Q2="DismissableLayerBranch",S1=g.forwardRef((t,e)=>{const n=g.useContext(T1),r=g.useRef(null),s=Te(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(se.div,{...t,ref:s})});S1.displayName=Q2;function X2(t,e=globalThis==null?void 0:globalThis.document){const n=Ze(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){b1(G2,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Y2(t,e=globalThis==null?void 0:globalThis.document){const n=Ze(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&b1(K2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function S_(){const t=new CustomEvent(Wm);document.dispatchEvent(t)}function b1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?E1(s,i):s.dispatchEvent(i)}var J2=Ac,Z2=S1,ot=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},eD="Portal",Ah=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);ot(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?xk.createPortal(l.jsx(se.div,{...r,ref:e}),o):null});Ah.displayName=eD;function tD(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Qn=t=>{const{present:e,children:n}=t,r=nD(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Te(r.ref,rD(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Qn.displayName="Presence";function nD(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,u]=tD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Su(r.current);i.current=a==="mounted"?d:"none"},[a]),ot(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,y=Su(d);t?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),ot(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const x=Su(r.current).includes(y.animationName);if(y.target===e&&x&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=y=>{y.target===e&&(i.current=Su(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Su(t){return(t==null?void 0:t.animationName)||"none"}function rD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ga({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=sD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Ze(n),u=g.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&a(f)}else s(d)},[i,t,s,a]);return[o,u]}function sD({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Ze(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var iD="VisuallyHidden",Pc=g.forwardRef((t,e)=>l.jsx(se.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Pc.displayName=iD;var oD=Pc,Dv="ToastProvider",[Ov,aD,lD]=kv("Toast"),[I1,cz]=Kn("Toast",[lD]),[cD,Ph]=I1(Dv),C1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dv}\`. Expected non-empty \`string\`.`),l.jsx(Ov.Provider,{scope:e,children:l.jsx(cD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:u,onToastAdd:g.useCallback(()=>h(y=>y+1),[]),onToastRemove:g.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};C1.displayName=Dv;var N1="ToastViewport",uD=["F8"],Hm="toast.viewportPause",qm="toast.viewportResume",A1=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=uD,label:s="Notifications ({hotkey})",...i}=t,o=Ph(N1,n),a=aD(n),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),p=Te(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;g.useEffect(()=>{const S=E=>{var b;r.length!==0&&r.every(j=>E[j]||E.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=u.current,E=f.current;if(I&&S&&E){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Hm);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(qm);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},j=M=>{!S.contains(M.relatedTarget)&&b()},D=()=>{S.contains(document.activeElement)||b()};return S.addEventListener("focusin",w),S.addEventListener("focusout",j),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",j),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[I,o.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:S})=>{const w=a().map(b=>{const j=b.ref.current,D=[j,...TD(j)];return S==="forwards"?D:D.reverse()});return(S==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const S=f.current;if(S){const E=w=>{var D,M,_;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const T=document.activeElement,C=w.shiftKey;if(w.target===S&&C){(D=d.current)==null||D.focus();return}const k=x({tabbingDirection:C?"backwards":"forwards"}),P=k.findIndex(B=>B===T);up(k.slice(P+1))?w.preventDefault():C?(M=d.current)==null||M.focus():(_=h.current)==null||_.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[a,x]),l.jsxs(Z2,{ref:u,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&l.jsx(Gm,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});up(S)}}),l.jsx(Ov.Slot,{scope:n,children:l.jsx(se.ol,{tabIndex:-1,...i,ref:p})}),I&&l.jsx(Gm,{ref:h,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});up(S)}})]})});A1.displayName=N1;var P1="ToastFocusProxy",Gm=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ph(P1,n);return l.jsx(Pc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Gm.displayName=P1;var Rh="Toast",dD="toast.swipeStart",hD="toast.swipeMove",fD="toast.swipeCancel",pD="toast.swipeEnd",R1=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,u]=ga({prop:r,defaultProp:s,onChange:i});return l.jsx(Qn,{present:n||a,children:l.jsx(vD,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Ze(t.onPause),onResume:Ze(t.onResume),onSwipeStart:J(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:J(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});R1.displayName=Rh;var[mD,gD]=I1(Rh,{onClose(){}}),vD=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:y,...I}=t,x=Ph(Rh,n),[S,E]=g.useState(null),w=Te(e,B=>E(B)),b=g.useRef(null),j=g.useRef(null),D=s||x.duration,M=g.useRef(0),_=g.useRef(D),T=g.useRef(0),{onToastAdd:C,onToastRemove:A}=x,R=Ze(()=>{var re;(S==null?void 0:S.contains(document.activeElement))&&((re=x.viewport)==null||re.focus()),o()}),k=g.useCallback(B=>{!B||B===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(R,B))},[R]);g.useEffect(()=>{const B=x.viewport;if(B){const re=()=>{k(_.current),d==null||d()},Q=()=>{const ue=new Date().getTime()-M.current;_.current=_.current-ue,window.clearTimeout(T.current),u==null||u()};return B.addEventListener(Hm,Q),B.addEventListener(qm,re),()=>{B.removeEventListener(Hm,Q),B.removeEventListener(qm,re)}}},[x.viewport,D,u,d,k]),g.useEffect(()=>{i&&!x.isClosePausedRef.current&&k(D)},[i,D,x.isClosePausedRef,k]),g.useEffect(()=>(C(),()=>A()),[C,A]);const P=g.useMemo(()=>S?V1(S):null,[S]);return x.viewport?l.jsxs(l.Fragment,{children:[P&&l.jsx(yD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),l.jsx(mD,{scope:n,onClose:R,children:eo.createPortal(l.jsx(Ov.ItemSlot,{scope:n,children:l.jsx(J2,{asChild:!0,onEscapeKeyDown:J(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||R(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...I,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:J(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:J(t.onPointerMove,B=>{if(!b.current)return;const re=B.clientX-b.current.x,Q=B.clientY-b.current.y,ue=!!j.current,F=["left","right"].includes(x.swipeDirection),W=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,X=F?W(0,re):0,ae=F?0:W(0,Q),Se=B.pointerType==="touch"?10:2,gt={x:X,y:ae},ze={originalEvent:B,delta:gt};ue?(j.current=gt,bu(hD,f,ze,{discrete:!1})):b_(gt,x.swipeDirection,Se)?(j.current=gt,bu(dD,h,ze,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>Se||Math.abs(Q)>Se)&&(b.current=null)}),onPointerUp:J(t.onPointerUp,B=>{const re=j.current,Q=B.target;if(Q.hasPointerCapture(B.pointerId)&&Q.releasePointerCapture(B.pointerId),j.current=null,b.current=null,re){const ue=B.currentTarget,F={originalEvent:B,delta:re};b_(re,x.swipeDirection,x.swipeThreshold)?bu(pD,y,F,{discrete:!0}):bu(fD,p,F,{discrete:!0}),ue.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),yD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ph(Rh,e),[i,o]=g.useState(!1),[a,u]=g.useState(!1);return _D(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(Ah,{asChild:!0,children:l.jsx(Pc,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},xD="ToastTitle",j1=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(se.div,{...r,ref:e})});j1.displayName=xD;var wD="ToastDescription",k1=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(se.div,{...r,ref:e})});k1.displayName=wD;var D1="ToastAction",O1=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(L1,{altText:n,asChild:!0,children:l.jsx(Mv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${D1}\`. Expected non-empty \`string\`.`),null)});O1.displayName=D1;var M1="ToastClose",Mv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=gD(M1,n);return l.jsx(L1,{asChild:!0,children:l.jsx(se.button,{type:"button",...r,ref:e,onClick:J(t.onClick,s.onClose)})})});Mv.displayName=M1;var L1=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function V1(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ED(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...V1(r))}}),e}function bu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?E1(s,i):s.dispatchEvent(i)}var b_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function _D(t=()=>{}){const e=Ze(t);ot(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function ED(t){return t.nodeType===t.ELEMENT_NODE}function TD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function up(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var SD=C1,F1=A1,U1=R1,$1=j1,z1=k1,B1=O1,W1=Mv;function H1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=H1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function q1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=H1(t))&&(r&&(r+=" "),r+=e);return r}const I_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,C_=q1,Rc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return C_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=I_(h)||I_(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(I=>{let[x,S]=I;return Array.isArray(S)?S.includes({...i,...a}[x]):{...i,...a}[x]===S})?[...d,f,p]:d},[]);return C_(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G1=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ID={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>g.createElement("svg",{ref:u,...ID,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:G1("lucide",s),...a},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(CD,{ref:i,iconNode:e,className:G1(`lucide-${bD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=jc("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=jc("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=jc("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=jc("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=jc("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lv="-",RD=t=>{const e=kD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Lv);return a[0]===""&&a.length!==1&&a.shift(),X1(a,e)||jD(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},X1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?X1(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Lv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},N_=/^\[(.+)\]$/,jD=t=>{if(N_.test(t)){const e=N_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OD(Object.entries(t.classGroups),n).forEach(([i,o])=>{Km(o,r,i,e)}),r},Km=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:A_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(DD(s)){Km(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Km(o,A_(e,i),n,r)})})},A_=(t,e)=>{let n=t;return e.split(Lv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DD=t=>t.isThemeGetter,OD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,MD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Y1="!",LD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let d=0,h=0,f;for(let S=0;S<a.length;S++){let E=a[S];if(d===0){if(E===s&&(r||a.slice(S,S+i)===e)){u.push(a.slice(h,S)),h=S+i;continue}if(E==="/"){f=S;continue}}E==="["?d++:E==="]"&&d--}const p=u.length===0?a:a.substring(h),y=p.startsWith(Y1),I=y?p.substring(1):p,x=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:I,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},VD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},FD=t=>({cache:MD(t.cacheSize),parseClassName:LD(t),...RD(t)}),UD=/\s+/,$D=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(UD);let a="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}=n(d);let I=!!y,x=r(I?p.substring(0,y):p);if(!x){if(!I){a=d+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=d+(a.length>0?" "+a:a);continue}I=!1}const S=VD(h).join(":"),E=f?S+Y1:S,w=E+x;if(i.includes(w))continue;i.push(w);const b=s(x,I);for(let j=0;j<b.length;++j){const D=b[j];i.push(E+D)}a=d+(a.length>0?" "+a:a)}return a};function zD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=J1(e))&&(r&&(r+=" "),r+=n);return r}const J1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=J1(t[r]))&&(n&&(n+=" "),n+=e);return n};function BD(t,...e){let n,r,s,i=o;function o(u){const d=e.reduce((h,f)=>f(h),t());return n=FD(d),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const d=r(u);if(d)return d;const h=$D(u,n);return s(u,h),h}return function(){return i(zD.apply(null,arguments))}}const Le=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Z1=/^\[(?:([a-z-]+):)?(.+)\]$/i,WD=/^\d+\/\d+$/,HD=new Set(["px","full","screen"]),qD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=t=>Lo(t)||HD.has(t)||WD.test(t),ss=t=>Da(t,"length",sO),Lo=t=>!!t&&!Number.isNaN(Number(t)),dp=t=>Da(t,"number",Lo),ml=t=>!!t&&Number.isInteger(Number(t)),YD=t=>t.endsWith("%")&&Lo(t.slice(0,-1)),he=t=>Z1.test(t),is=t=>qD.test(t),JD=new Set(["length","size","percentage"]),ZD=t=>Da(t,JD,eb),eO=t=>Da(t,"position",eb),tO=new Set(["image","url"]),nO=t=>Da(t,tO,oO),rO=t=>Da(t,"",iO),gl=()=>!0,Da=(t,e,n)=>{const r=Z1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},sO=t=>GD.test(t)&&!KD.test(t),eb=()=>!1,iO=t=>QD.test(t),oO=t=>XD.test(t),aO=()=>{const t=Le("colors"),e=Le("spacing"),n=Le("blur"),r=Le("brightness"),s=Le("borderColor"),i=Le("borderRadius"),o=Le("borderSpacing"),a=Le("borderWidth"),u=Le("contrast"),d=Le("grayscale"),h=Le("hueRotate"),f=Le("invert"),p=Le("gap"),y=Le("gradientColorStops"),I=Le("gradientColorStopPositions"),x=Le("inset"),S=Le("margin"),E=Le("opacity"),w=Le("padding"),b=Le("saturate"),j=Le("scale"),D=Le("sepia"),M=Le("skew"),_=Le("space"),T=Le("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",he,e],k=()=>[he,e],P=()=>["",Ir,ss],B=()=>["auto",Lo,he],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",he],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Lo,he];return{cacheSize:500,separator:":",theme:{colors:[gl],spacing:[Ir,ss],blur:["none","",is,he],brightness:ae(),borderColor:[t],borderRadius:["none","","full",is,he],borderSpacing:k(),borderWidth:P(),contrast:ae(),grayscale:W(),hueRotate:ae(),invert:W(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[YD,ss],inset:R(),margin:R(),opacity:ae(),padding:k(),saturate:ae(),scale:ae(),sepia:W(),skew:ae(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),he]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ml,he]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",ml,he]}],"grid-cols":[{"grid-cols":[gl]}],"col-start-end":[{col:["auto",{span:["full",ml,he]},he]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[gl]}],"row-start-end":[{row:["auto",{span:[ml,he]},he]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dp]}],"font-family":[{font:[gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Lo,dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ir,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ir,ss]}],"underline-offset":[{"underline-offset":["auto",Ir,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),eO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Ir,he]}],"outline-w":[{outline:[Ir,ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ir,ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",is,rO]}],"shadow-color":[{shadow:[gl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",is,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ml,he]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ir,ss,dp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lO=BD(aO);function ce(...t){return lO(q1(t))}const cO=SD,tb=g.forwardRef(({className:t,...e},n)=>l.jsx(F1,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));tb.displayName=F1.displayName;const uO=Rc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nb=g.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(U1,{ref:r,className:ce(uO({variant:e}),t),...n}));nb.displayName=U1.displayName;const dO=g.forwardRef(({className:t,...e},n)=>l.jsx(B1,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dO.displayName=B1.displayName;const rb=g.forwardRef(({className:t,...e},n)=>l.jsx(W1,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Q1,{className:"h-4 w-4"})}));rb.displayName=W1.displayName;const sb=g.forwardRef(({className:t,...e},n)=>l.jsx($1,{ref:n,className:ce("text-sm font-semibold",t),...e}));sb.displayName=$1.displayName;const ib=g.forwardRef(({className:t,...e},n)=>l.jsx(z1,{ref:n,className:ce("text-sm opacity-90",t),...e}));ib.displayName=z1.displayName;function hO(){const{toasts:t}=jv();return l.jsxs(cO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(nb,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(sb,{children:n}),r&&l.jsx(ib,{children:r})]}),s,l.jsx(rb,{})]},e)}),l.jsx(tb,{})]})}var fO=HE[" useId ".trim().toString()]||(()=>{}),pO=0;function Ls(t){const[e,n]=g.useState(fO());return ot(()=>{t||n(r=>r??String(pO++))},[t]),t||(e?`radix-${e}`:"")}const mO=["top","right","bottom","left"],Hs=Math.min,hn=Math.max,Ld=Math.round,Iu=Math.floor,dr=t=>({x:t,y:t}),gO={left:"right",right:"left",bottom:"top",top:"bottom"},vO={start:"end",end:"start"};function Qm(t,e,n){return hn(t,Hs(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function Vv(t){return t==="x"?"y":"x"}function Fv(t){return t==="y"?"height":"width"}function qs(t){return["top","bottom"].includes(Br(t))?"y":"x"}function Uv(t){return Vv(qs(t))}function yO(t,e,n){n===void 0&&(n=!1);const r=Oa(t),s=Uv(t),i=Fv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vd(o)),[o,Vd(o)]}function xO(t){const e=Vd(t);return[Xm(t),e,Xm(e)]}function Xm(t){return t.replace(/start|end/g,e=>vO[e])}function wO(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function _O(t,e,n,r){const s=Oa(t);let i=wO(Br(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Xm)))),i}function Vd(t){return t.replace(/left|right|bottom|top/g,e=>gO[e])}function EO(t){return{top:0,right:0,bottom:0,left:0,...t}}function ob(t){return typeof t!="number"?EO(t):{top:t,right:t,bottom:t,left:t}}function Fd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function P_(t,e,n){let{reference:r,floating:s}=t;const i=qs(e),o=Uv(e),a=Fv(o),u=Br(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let y;switch(u){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Oa(e)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const TO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=P_(d,r,u),p=r,y={},I=0;for(let x=0;x<a.length;x++){const{name:S,fn:E}=a[x],{x:w,y:b,data:j,reset:D}=await E({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=b??f,y={...y,[S]:{...y[S],...j}},D&&I<=50&&(I++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=P_(d,p,u)),x=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:y}};async function lc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=zr(e,t),I=ob(y),S=a[p?f==="floating"?"reference":"floating":f],E=Fd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:u})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=Fd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:u}):w);return{top:(E.top-D.top+I.top)/j.y,bottom:(D.bottom-E.bottom+I.bottom)/j.y,left:(E.left-D.left+I.left)/j.x,right:(D.right-E.right+I.right)/j.x}}const SO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:d,padding:h=0}=zr(t,e)||{};if(d==null)return{};const f=ob(h),p={x:n,y:r},y=Uv(s),I=Fv(y),x=await o.getDimensions(d),S=y==="y",E=S?"top":"left",w=S?"bottom":"right",b=S?"clientHeight":"clientWidth",j=i.reference[I]+i.reference[y]-p[y]-i.floating[I],D=p[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=M?M[b]:0;(!_||!await(o.isElement==null?void 0:o.isElement(M)))&&(_=a.floating[b]||i.floating[I]);const T=j/2-D/2,C=_/2-x[I]/2-1,A=Hs(f[E],C),R=Hs(f[w],C),k=A,P=_-x[I]-R,B=_/2-x[I]/2+T,re=Qm(k,B,P),Q=!u.arrow&&Oa(s)!=null&&B!==re&&i.reference[I]/2-(B<k?A:R)-x[I]/2<0,ue=Q?B<k?B-k:B-P:0;return{[y]:p[y]+ue,data:{[y]:re,centerOffset:B-re-ue,...Q&&{alignmentOffset:ue}},reset:Q}}}),bO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:x=!0,...S}=zr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Br(s),w=qs(a),b=Br(a)===a,j=await(u.isRTL==null?void 0:u.isRTL(d.floating)),D=p||(b||!x?[Vd(a)]:xO(a)),M=I!=="none";!p&&M&&D.push(..._O(a,x,I,j));const _=[a,...D],T=await lc(e,S),C=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(T[E]),f){const B=yO(s,o,j);C.push(T[B[0]],T[B[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(B=>B<=0)){var R,k;const B=(((R=i.flip)==null?void 0:R.index)||0)+1,re=_[B];if(re)return{data:{index:B,overflows:A},reset:{placement:re}};let Q=(k=A.filter(ue=>ue.overflows[0]<=0).sort((ue,F)=>ue.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!Q)switch(y){case"bestFit":{var P;const ue=(P=A.filter(F=>{if(M){const W=qs(F.placement);return W===w||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,X)=>W+X,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:P[0];ue&&(Q=ue);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function R_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j_(t){return mO.some(e=>t[e]>=0)}const IO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zr(t,e);switch(r){case"referenceHidden":{const i=await lc(e,{...s,elementContext:"reference"}),o=R_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:j_(o)}}}case"escaped":{const i=await lc(e,{...s,altBoundary:!0}),o=R_(i,n.floating);return{data:{escapedOffsets:o,escaped:j_(o)}}}default:return{}}}}};async function CO(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Br(n),a=Oa(n),u=qs(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&u?-1:1,f=zr(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(y=a==="end"?I*-1:I),u?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const NO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await CO(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},AO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:w}=S;return{x:E,y:w}}},...u}=zr(t,e),d={x:n,y:r},h=await lc(e,u),f=qs(Br(s)),p=Vv(f);let y=d[p],I=d[f];if(i){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=y+h[S],b=y-h[E];y=Qm(w,y,b)}if(o){const S=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=I+h[S],b=I-h[E];I=Qm(w,I,b)}const x=a.fn({...e,[p]:y,[f]:I});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:i,[f]:o}}}}}},PO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:d=!0}=zr(t,e),h={x:n,y:r},f=qs(s),p=Vv(f);let y=h[p],I=h[f];const x=zr(a,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const b=p==="y"?"height":"width",j=i.reference[p]-i.floating[b]+S.mainAxis,D=i.reference[p]+i.reference[b]-S.mainAxis;y<j?y=j:y>D&&(y=D)}if(d){var E,w;const b=p==="y"?"width":"height",j=["top","left"].includes(Br(s)),D=i.reference[f]-i.floating[b]+(j&&((E=o.offset)==null?void 0:E[f])||0)+(j?0:S.crossAxis),M=i.reference[f]+i.reference[b]+(j?0:((w=o.offset)==null?void 0:w[f])||0)-(j?S.crossAxis:0);I<D?I=D:I>M&&(I=M)}return{[p]:y,[f]:I}}}},RO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...d}=zr(t,e),h=await lc(e,d),f=Br(s),p=Oa(s),y=qs(s)==="y",{width:I,height:x}=i.floating;let S,E;f==="top"||f==="bottom"?(S=f,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,S=p==="end"?"top":"bottom");const w=x-h.top-h.bottom,b=I-h.left-h.right,j=Hs(x-h[S],w),D=Hs(I-h[E],b),M=!e.middlewareData.shift;let _=j,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),M&&!p){const A=hn(h.left,0),R=hn(h.right,0),k=hn(h.top,0),P=hn(h.bottom,0);y?T=I-2*(A!==0||R!==0?A+R:hn(h.left,h.right)):_=x-2*(k!==0||P!==0?k+P:hn(h.top,h.bottom))}await u({...e,availableWidth:T,availableHeight:_});const C=await o.getDimensions(a.floating);return I!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function jh(){return typeof window<"u"}function Ma(t){return ab(t)?(t.nodeName||"").toLowerCase():"#document"}function gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Er(t){var e;return(e=(ab(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ab(t){return jh()?t instanceof Node||t instanceof gn(t).Node:!1}function Hn(t){return jh()?t instanceof Element||t instanceof gn(t).Element:!1}function yr(t){return jh()?t instanceof HTMLElement||t instanceof gn(t).HTMLElement:!1}function k_(t){return!jh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gn(t).ShadowRoot}function kc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=qn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function jO(t){return["table","td","th"].includes(Ma(t))}function kh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $v(t){const e=zv(),n=Hn(t)?qn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kO(t){let e=Gs(t);for(;yr(e)&&!va(e);){if($v(e))return e;if(kh(e))return null;e=Gs(e)}return null}function zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function va(t){return["html","body","#document"].includes(Ma(t))}function qn(t){return gn(t).getComputedStyle(t)}function Dh(t){return Hn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gs(t){if(Ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k_(t)&&t.host||Er(t);return k_(e)?e.host:e}function lb(t){const e=Gs(t);return va(e)?t.ownerDocument?t.ownerDocument.body:t.body:yr(e)&&kc(e)?e:lb(e)}function cc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=lb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=gn(s);if(i){const a=Ym(o);return e.concat(o,o.visualViewport||[],kc(s)?s:[],a&&n?cc(a):[])}return e.concat(s,cc(s,[],n))}function Ym(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cb(t){const e=qn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ld(n)!==i||Ld(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Bv(t){return Hn(t)?t:t.contextElement}function Vo(t){const e=Bv(t);if(!yr(e))return dr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=cb(e);let o=(i?Ld(n.width):n.width)/r,a=(i?Ld(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const DO=dr(0);function ub(t){const e=gn(t);return!zv()||!e.visualViewport?DO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gn(t)?!1:e}function $i(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Bv(t);let o=dr(1);e&&(r?Hn(r)&&(o=Vo(r)):o=Vo(t));const a=OO(i,n,r)?ub(i):dr(0);let u=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=gn(i),y=r&&Hn(r)?gn(r):r;let I=p,x=Ym(I);for(;x&&r&&y!==I;){const S=Vo(x),E=x.getBoundingClientRect(),w=qn(x),b=E.left+(x.clientLeft+parseFloat(w.paddingLeft))*S.x,j=E.top+(x.clientTop+parseFloat(w.paddingTop))*S.y;u*=S.x,d*=S.y,h*=S.x,f*=S.y,u+=b,d+=j,I=gn(x),x=Ym(I)}}return Fd({width:h,height:f,x:u,y:d})}function Wv(t,e){const n=Dh(t).scrollLeft;return e?e.left+n:$i(Er(t)).left+n}function db(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Wv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function MO(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Er(r),a=e?kh(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},d=dr(1);const h=dr(0),f=yr(r);if((f||!f&&!i)&&((Ma(r)!=="body"||kc(o))&&(u=Dh(r)),yr(r))){const y=$i(r);d=Vo(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!f&&!i?db(o,u,!0):dr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-u.scrollTop*d.y+h.y+p.y}}function LO(t){return Array.from(t.getClientRects())}function VO(t){const e=Er(t),n=Dh(t),r=t.ownerDocument.body,s=hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wv(t);const a=-n.scrollTop;return qn(r).direction==="rtl"&&(o+=hn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function FO(t,e){const n=gn(t),r=Er(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const d=zv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}function UO(t,e){const n=$i(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=yr(t)?Vo(t):dr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:a,x:u,y:d}}function D_(t,e,n){let r;if(e==="viewport")r=FO(t,n);else if(e==="document")r=VO(Er(t));else if(Hn(e))r=UO(e,n);else{const s=ub(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fd(r)}function hb(t,e){const n=Gs(t);return n===e||!Hn(n)||va(n)?!1:qn(n).position==="fixed"||hb(n,e)}function $O(t,e){const n=e.get(t);if(n)return n;let r=cc(t,[],!1).filter(a=>Hn(a)&&Ma(a)!=="body"),s=null;const i=qn(t).position==="fixed";let o=i?Gs(t):t;for(;Hn(o)&&!va(o);){const a=qn(o),u=$v(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||kc(o)&&!u&&hb(t,o))?r=r.filter(h=>h!==o):s=a,o=Gs(o)}return e.set(t,r),r}function zO(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?kh(e)?[]:$O(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((d,h)=>{const f=D_(e,h,s);return d.top=hn(f.top,d.top),d.right=Hs(f.right,d.right),d.bottom=Hs(f.bottom,d.bottom),d.left=hn(f.left,d.left),d},D_(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function BO(t){const{width:e,height:n}=cb(t);return{width:e,height:n}}function WO(t,e,n){const r=yr(e),s=Er(e),i=n==="fixed",o=$i(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=dr(0);if(r||!r&&!i)if((Ma(e)!=="body"||kc(s))&&(a=Dh(e)),r){const p=$i(e,!0,i,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else s&&(u.x=Wv(s));const d=s&&!r&&!i?db(s,a):dr(0),h=o.left+a.scrollLeft-u.x-d.x,f=o.top+a.scrollTop-u.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function hp(t){return qn(t).position==="static"}function O_(t,e){if(!yr(t)||qn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Er(t)===n&&(n=n.ownerDocument.body),n}function fb(t,e){const n=gn(t);if(kh(t))return n;if(!yr(t)){let s=Gs(t);for(;s&&!va(s);){if(Hn(s)&&!hp(s))return s;s=Gs(s)}return n}let r=O_(t,e);for(;r&&jO(r)&&hp(r);)r=O_(r,e);return r&&va(r)&&hp(r)&&!$v(r)?n:r||kO(t)||n}const HO=async function(t){const e=this.getOffsetParent||fb,n=this.getDimensions,r=await n(t.floating);return{reference:WO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qO(t){return qn(t).direction==="rtl"}const GO={convertOffsetParentRelativeRectToViewportRelativeRect:MO,getDocumentElement:Er,getClippingRect:zO,getOffsetParent:fb,getElementRects:HO,getClientRects:LO,getDimensions:BO,getScale:Vo,isElement:Hn,isRTL:qO};function pb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KO(t,e){let n=null,r;const s=Er(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=d;if(a||e(),!p||!y)return;const I=Iu(f),x=Iu(s.clientWidth-(h+p)),S=Iu(s.clientHeight-(f+y)),E=Iu(h),b={rootMargin:-I+"px "+-x+"px "+-S+"px "+-E+"px",threshold:hn(0,Hs(1,u))||1};let j=!0;function D(M){const _=M[0].intersectionRatio;if(_!==u){if(!j)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!pb(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(D,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,b)}n.observe(t)}return o(!0),i}function QO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Bv(t),h=s||i?[...d?cc(d):[],...cc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&a?KO(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(E=>{let[w]=E;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(e)})),n()}),d&&!u&&y.observe(d),y.observe(e));let I,x=u?$i(t):null;u&&S();function S(){const E=$i(t);x&&!pb(x,E)&&n(),x=E,I=requestAnimationFrame(S)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,u&&cancelAnimationFrame(I)}}const XO=NO,YO=AO,JO=bO,ZO=RO,eM=IO,M_=SO,tM=PO,nM=(t,e,n)=>{const r=new Map,s={platform:GO,...n},i={...s.platform,_c:r};return TO(t,e,{...s,platform:i})};var Ju=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ud(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ud(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ud(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function L_(t,e){const n=mb(t);return Math.round(e*n)/n}function fp(t){const e=g.useRef(t);return Ju(()=>{e.current=t}),e}function rM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=g.useState(r);Ud(p,r)||y(r);const[I,x]=g.useState(null),[S,E]=g.useState(null),w=g.useCallback(F=>{F!==M.current&&(M.current=F,x(F))},[]),b=g.useCallback(F=>{F!==_.current&&(_.current=F,E(F))},[]),j=i||I,D=o||S,M=g.useRef(null),_=g.useRef(null),T=g.useRef(h),C=u!=null,A=fp(u),R=fp(s),k=fp(d),P=g.useCallback(()=>{if(!M.current||!_.current)return;const F={placement:e,strategy:n,middleware:p};R.current&&(F.platform=R.current),nM(M.current,_.current,F).then(W=>{const X={...W,isPositioned:k.current!==!1};B.current&&!Ud(T.current,X)&&(T.current=X,eo.flushSync(()=>{f(X)}))})},[p,e,n,R,k]);Ju(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const B=g.useRef(!1);Ju(()=>(B.current=!0,()=>{B.current=!1}),[]),Ju(()=>{if(j&&(M.current=j),D&&(_.current=D),j&&D){if(A.current)return A.current(j,D,P);P()}},[j,D,P,A,C]);const re=g.useMemo(()=>({reference:M,floating:_,setReference:w,setFloating:b}),[w,b]),Q=g.useMemo(()=>({reference:j,floating:D}),[j,D]),ue=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!Q.floating)return F;const W=L_(Q.floating,h.x),X=L_(Q.floating,h.y);return a?{...F,transform:"translate("+W+"px, "+X+"px)",...mb(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:X}},[n,a,Q.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:P,refs:re,elements:Q,floatingStyles:ue}),[h,P,re,Q,ue])}const sM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?M_({element:r.current,padding:s}).fn(n):{}:r?M_({element:r,padding:s}).fn(n):{}}}},iM=(t,e)=>({...XO(t),options:[t,e]}),oM=(t,e)=>({...YO(t),options:[t,e]}),aM=(t,e)=>({...tM(t),options:[t,e]}),lM=(t,e)=>({...JO(t),options:[t,e]}),cM=(t,e)=>({...ZO(t),options:[t,e]}),uM=(t,e)=>({...eM(t),options:[t,e]}),dM=(t,e)=>({...sM(t),options:[t,e]});var hM="Arrow",gb=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});gb.displayName=hM;var fM=gb;function pM(t){const[e,n]=g.useState(void 0);return ot(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Hv="Popper",[vb,Oh]=Kn(Hv),[mM,yb]=vb(Hv),xb=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return l.jsx(mM,{scope:e,anchor:r,onAnchorChange:s,children:n})};xb.displayName=Hv;var wb="PopperAnchor",_b=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=yb(wb,n),o=g.useRef(null),a=Te(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(se.div,{...s,ref:a})});_b.displayName=wb;var qv="PopperContent",[gM,vM]=vb(qv),Eb=g.forwardRef((t,e)=>{var ee,Pe,lt,je,Ce,be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:I,...x}=t,S=yb(qv,n),[E,w]=g.useState(null),b=Te(e,_t=>w(_t)),[j,D]=g.useState(null),M=pM(j),_=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(d)?d:[d],k=R.length>0,P={padding:A,boundary:R.filter(xM),altBoundary:k},{refs:B,floatingStyles:re,placement:Q,isPositioned:ue,middlewareData:F}=rM({strategy:"fixed",placement:C,whileElementsMounted:(..._t)=>QO(..._t,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[iM({mainAxis:s+T,alignmentAxis:o}),u&&oM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aM():void 0,...P}),u&&lM({...P}),cM({...P,apply:({elements:_t,rects:ln,availableWidth:ci,availableHeight:Sr})=>{const{width:br,height:qc}=ln.reference,et=_t.floating.style;et.setProperty("--radix-popper-available-width",`${ci}px`),et.setProperty("--radix-popper-available-height",`${Sr}px`),et.setProperty("--radix-popper-anchor-width",`${br}px`),et.setProperty("--radix-popper-anchor-height",`${qc}px`)}}),j&&dM({element:j,padding:a}),wM({arrowWidth:_,arrowHeight:T}),p&&uM({strategy:"referenceHidden",...P})]}),[W,X]=bb(Q),ae=Ze(I);ot(()=>{ue&&(ae==null||ae())},[ue,ae]);const Se=(ee=F.arrow)==null?void 0:ee.x,gt=(Pe=F.arrow)==null?void 0:Pe.y,ze=((lt=F.arrow)==null?void 0:lt.centerOffset)!==0,[Xt,at]=g.useState();return ot(()=>{E&&at(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ue?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xt,"--radix-popper-transform-origin":[(je=F.transformOrigin)==null?void 0:je.x,(Ce=F.transformOrigin)==null?void 0:Ce.y].join(" "),...((be=F.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(gM,{scope:n,placedSide:W,onArrowChange:D,arrowX:Se,arrowY:gt,shouldHideArrow:ze,children:l.jsx(se.div,{"data-side":W,"data-align":X,...x,ref:b,style:{...x.style,animation:ue?void 0:"none"}})})})});Eb.displayName=qv;var Tb="PopperArrow",yM={top:"bottom",right:"left",bottom:"top",left:"right"},Sb=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=vM(Tb,r),o=yM[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(fM,{...s,ref:n,style:{...s.style,display:"block"}})})});Sb.displayName=Tb;function xM(t){return t!==null}var wM=t=>({name:"transformOrigin",options:t,fn(e){var S,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,h]=bb(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+u/2;let I="",x="";return d==="bottom"?(I=o?f:`${p}px`,x=`${-u}px`):d==="top"?(I=o?f:`${p}px`,x=`${r.floating.height+u}px`):d==="right"?(I=`${-u}px`,x=o?f:`${y}px`):d==="left"&&(I=`${r.floating.width+u}px`,x=o?f:`${y}px`),{data:{x:I,y:x}}}});function bb(t){const[e,n="center"]=t.split("-");return[e,n]}var _M=xb,Ib=_b,Cb=Eb,Nb=Sb,[Mh,uz]=Kn("Tooltip",[Oh]),Gv=Oh(),Ab="TooltipProvider",EM=700,V_="tooltip.open",[TM,Pb]=Mh(Ab),Rb=t=>{const{__scopeTooltip:e,delayDuration:n=EM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(TM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};Rb.displayName=Ab;var jb="Tooltip",[dz,Lh]=Mh(jb),Jm="TooltipTrigger",SM=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lh(Jm,n),i=Pb(Jm,n),o=Gv(n),a=g.useRef(null),u=Te(e,a,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Ib,{asChild:!0,...o,children:l.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:J(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:J(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:J(t.onBlur,s.onClose),onClick:J(t.onClick,s.onClose)})})});SM.displayName=Jm;var bM="TooltipPortal",[hz,IM]=Mh(bM,{forceMount:void 0}),ya="TooltipContent",kb=g.forwardRef((t,e)=>{const n=IM(ya,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Lh(ya,t.__scopeTooltip);return l.jsx(Qn,{present:r||o.open,children:o.disableHoverableContent?l.jsx(Db,{side:s,...i,ref:e}):l.jsx(CM,{side:s,...i,ref:e})})}),CM=g.forwardRef((t,e)=>{const n=Lh(ya,t.__scopeTooltip),r=Pb(ya,t.__scopeTooltip),s=g.useRef(null),i=Te(e,s),[o,a]=g.useState(null),{trigger:u,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{a(null),f(!1)},[f]),y=g.useCallback((I,x)=>{const S=I.currentTarget,E={x:I.clientX,y:I.clientY},w=jM(E,S.getBoundingClientRect()),b=kM(E,w),j=DM(x.getBoundingClientRect()),D=MM([...b,...j]);a(D),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(u&&h){const I=S=>y(S,h),x=S=>y(S,u);return u.addEventListener("pointerleave",I),h.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",I),h.removeEventListener("pointerleave",x)}}},[u,h,y,p]),g.useEffect(()=>{if(o){const I=x=>{const S=x.target,E={x:x.clientX,y:x.clientY},w=(u==null?void 0:u.contains(S))||(h==null?void 0:h.contains(S)),b=!OM(E,o);w?p():b&&(p(),d())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[u,h,o,d,p]),l.jsx(Db,{...t,ref:i})}),[NM,AM]=Mh(jb,{isInside:!1}),PM=U2("TooltipContent"),Db=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=Lh(ya,n),d=Gv(n),{onClose:h}=u;return g.useEffect(()=>(document.addEventListener(V_,h),()=>document.removeEventListener(V_,h)),[h]),g.useEffect(()=>{if(u.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),l.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(Cb,{"data-state":u.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(PM,{children:r}),l.jsx(NM,{scope:n,isInside:!0,children:l.jsx(oD,{id:u.contentId,role:"tooltip",children:s||r})})]})})});kb.displayName=ya;var Ob="TooltipArrow",RM=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Gv(n);return AM(Ob,n).isInside?null:l.jsx(Nb,{...s,...r,ref:e})});RM.displayName=Ob;function jM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function DM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function OM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,d=e[o].x,h=e[o].y;u>r!=h>r&&n<(d-a)*(r-u)/(h-u)+a&&(s=!s)}return s}function MM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),LM(e)}function LM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var VM=Rb,Mb=kb;const FM=VM,UM=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(Mb,{ref:r,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));UM.displayName=Mb.displayName;const $M=g.createContext(void 0);function zM({children:t}){const[e,n]=g.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");g.useEffect(()=>{const s=document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return l.jsx($M.Provider,{value:{theme:e,setTheme:n,toggleTheme:r},children:t})}const BM=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,y=d&63;u||(y=64,o||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new HM;const p=i<<2|a>>4;if(r.push(p),d!==64){const y=a<<4&240|d>>2;if(r.push(y),f!==64){const I=d<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qM=function(t){const e=Lb(t);return Vb.encodeByteArray(e,!0)},$d=function(t){return qM(t).replace(/\./g,"")},Fb=function(t){try{return Vb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=()=>GM().__FIREBASE_DEFAULTS__,QM=()=>{if(typeof process>"u"||typeof F_>"u")return;const t=F_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fb(t[1]);return e&&JSON.parse(e)},Vh=()=>{try{return BM()||KM()||QM()||XM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ub=t=>{var e,n;return(n=(e=Vh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},YM=t=>{const e=Ub(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$b=()=>{var t;return(t=Vh())==null?void 0:t.config},zb=t=>{var e;return(e=Vh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$d(JSON.stringify(n)),$d(JSON.stringify(o)),""].join(".")}const Ll={};function eL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?t.emulator.push(e):t.prod.push(e);return t}function tL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let U_=!1;function Wb(t,e){if(typeof window>"u"||typeof document>"u"||!La(window.location.host)||Ll[t]===e||Ll[t]||U_)return;Ll[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=eL().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{U_=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=tL(r),y=n("text"),I=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),h(S,x);const j=d();u(w,E),b.append(w,I,S,j),document.body.appendChild(b)}i?(I.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function rL(){var e;const t=(e=Vh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aL(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lL(){return!rL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cL(){try{return typeof indexedDB=="object"}catch{return!1}}function uL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="FirebaseError";class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dL,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?hL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Qr(s,a,r)}}function hL(t,e){return t.replace(fL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fL=/\{\$([^}]+)}/g;function pL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if($_(i)&&$_(o)){if(!zi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mL(t,e){const n=new gL(t,e);return n.subscribe.bind(n)}class gL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=pp),s.error===void 0&&(s.error=pp),s.complete===void 0&&(s.complete=pp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wL(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xL(t){return t===vi?void 0:t}function wL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const EL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},TL=ve.INFO,SL={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},bL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=SL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kv{constructor(e){this.name=e,this._logLevel=TL,this._logHandler=bL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const IL=(t,e)=>e.some(n=>t instanceof n);let z_,B_;function CL(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NL(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hb=new WeakMap,Zm=new WeakMap,qb=new WeakMap,mp=new WeakMap,Qv=new WeakMap;function AL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Vs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Hb.set(n,t)}).catch(()=>{}),Qv.set(e,t),e}function PL(t){if(Zm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Zm.set(t,e)}let eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RL(t){eg=t(eg)}function jL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gp(this),e,...n);return qb.set(r,e.sort?e.sort():[e]),Vs(r)}:NL().includes(t)?function(...e){return t.apply(gp(this),e),Vs(Hb.get(this))}:function(...e){return Vs(t.apply(gp(this),e))}}function kL(t){return typeof t=="function"?jL(t):(t instanceof IDBTransaction&&PL(t),IL(t,CL())?new Proxy(t,eg):t)}function Vs(t){if(t instanceof IDBRequest)return AL(t);if(mp.has(t))return mp.get(t);const e=kL(t);return e!==t&&(mp.set(t,e),Qv.set(e,t)),e}const gp=t=>Qv.get(t);function DL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Vs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vs(o.result),u.oldVersion,u.newVersion,Vs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const OL=["get","getKey","getAll","getAllKeys","count"],ML=["put","add","delete","clear"],vp=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ML.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OL.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&u.done]))[0]};return vp.set(e,i),i}RL(t=>({...t,get:(e,n,r)=>W_(e,n)||t.get(e,n,r),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tg="@firebase/app",H_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Kv("@firebase/app"),FL="@firebase/app-compat",UL="@firebase/analytics-compat",$L="@firebase/analytics",zL="@firebase/app-check-compat",BL="@firebase/app-check",WL="@firebase/auth",HL="@firebase/auth-compat",qL="@firebase/database",GL="@firebase/data-connect",KL="@firebase/database-compat",QL="@firebase/functions",XL="@firebase/functions-compat",YL="@firebase/installations",JL="@firebase/installations-compat",ZL="@firebase/messaging",eV="@firebase/messaging-compat",tV="@firebase/performance",nV="@firebase/performance-compat",rV="@firebase/remote-config",sV="@firebase/remote-config-compat",iV="@firebase/storage",oV="@firebase/storage-compat",aV="@firebase/firestore",lV="@firebase/ai",cV="@firebase/firestore-compat",uV="firebase",dV="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",hV={[tg]:"fire-core",[FL]:"fire-core-compat",[$L]:"fire-analytics",[UL]:"fire-analytics-compat",[BL]:"fire-app-check",[zL]:"fire-app-check-compat",[WL]:"fire-auth",[HL]:"fire-auth-compat",[qL]:"fire-rtdb",[GL]:"fire-data-connect",[KL]:"fire-rtdb-compat",[QL]:"fire-fn",[XL]:"fire-fn-compat",[YL]:"fire-iid",[JL]:"fire-iid-compat",[ZL]:"fire-fcm",[eV]:"fire-fcm-compat",[tV]:"fire-perf",[nV]:"fire-perf-compat",[rV]:"fire-rc",[sV]:"fire-rc-compat",[iV]:"fire-gcs",[oV]:"fire-gcs-compat",[aV]:"fire-fst",[cV]:"fire-fst-compat",[lV]:"fire-vertex","fire-js":"fire-js",[uV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,fV=new Map,rg=new Map;function q_(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xa(t){const e=t.name;if(rg.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of zd.values())q_(n,t);for(const n of fV.values())q_(n,t);return!0}function Xv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Dc("app","Firebase",pV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=dV;function Gb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ng,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Fs.create("bad-app-name",{appName:String(s)});if(n||(n=$b()),!n)throw Fs.create("no-options");const i=zd.get(s);if(i){if(zi(n,i.options)&&zi(r,i.config))return i;throw Fs.create("duplicate-app",{appName:s})}const o=new _L(s);for(const u of rg.values())o.addComponent(u);const a=new mV(n,r,o);return zd.set(s,a),a}function Kb(t=ng){const e=zd.get(t);if(!e&&t===ng&&$b())return Gb();if(!e)throw Fs.create("no-app",{appName:t});return e}function Us(t,e,n){let r=hV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(o.join(" "));return}xa(new Bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="firebase-heartbeat-database",vV=1,uc="firebase-heartbeat-store";let yp=null;function Qb(){return yp||(yp=DL(gV,vV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),yp}async function yV(t){try{const n=(await Qb()).transaction(uc),r=await n.objectStore(uc).get(Xb(t));return await n.done,r}catch(e){if(e instanceof Qr)Wr.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function G_(t,e){try{const r=(await Qb()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,Xb(t)),await r.done}catch(n){if(n instanceof Qr)Wr.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function Xb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=1024,wV=30;class _V{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=K_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>wV){const o=SV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K_(),{heartbeatsToSend:r,unsentEntries:s}=EV(this._heartbeatsCache.heartbeats),i=$d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Wr.warn(n),""}}}function K_(){return new Date().toISOString().substring(0,10)}function EV(t,e=xV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Q_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Q_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cL()?uL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return G_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return G_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Q_(t){return $d(JSON.stringify({version:2,heartbeats:t})).length}function SV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){xa(new Bi("platform-logger",e=>new LL(e),"PRIVATE")),xa(new Bi("heartbeat",e=>new _V(e),"PRIVATE")),Us(tg,H_,t),Us(tg,H_,"esm2020"),Us("fire-js","")}bV("");var IV="firebase",CV="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(IV,CV,"app");function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NV=Yb,Jb=new Dc("auth","Firebase",Yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Kv("@firebase/auth");function AV(t,...e){Bd.logLevel<=ve.WARN&&Bd.warn(`Auth (${Va}): ${t}`,...e)}function Zu(t,...e){Bd.logLevel<=ve.ERROR&&Bd.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw Jv(t,...e)}function Bn(t,...e){return Jv(t,...e)}function Yv(t,e,n){const r={...NV(),[e]:n};return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function ji(t){return Yv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xr(t,"argument-error"),Yv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Jb.create(t,...e)}function oe(t,e,...n){if(!t)throw Jv(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function Hr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function RV(){return X_()==="http:"||X_()==="https:"}function X_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RV()||iL()||"connection"in navigator)?navigator.onLine:!0}function kV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=nL()||oL()}get(){return jV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MV=new Mc(3e4,6e4);function ey(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fa(t,e,n,r,s={}){return eI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Oc({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return sL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&La(t.emulatorConfig.host)&&(d.credentials="include"),Zb.fetch()(await tI(t,t.config.apiHost,n,a),d)})}async function eI(t,e,n){t._canInitEmulator=!1;const r={...DV,...e};try{const s=new VV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Cu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Yv(t,h,d);xr(t,h)}}catch(s){if(s instanceof Qr)throw s;xr(t,"network-request-failed",{message:String(s)})}}async function LV(t,e,n,r,s={}){const i=await Fa(t,e,n,r,s);return"mfaPendingCredential"in i&&xr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function tI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Zv(t.config,s):`${t.config.apiScheme}://${s}`;return OV.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class VV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),MV.get())})}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Bn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return Fa(t,"POST","/v1/accounts:delete",e)}async function Wd(t,e){return Fa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UV(t,e=!1){const n=Gt(t),r=await n.getIdToken(e),s=ty(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Vl(xp(s.auth_time)),issuedAtTime:Vl(xp(s.iat)),expirationTime:Vl(xp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xp(t){return Number(t)*1e3}function ty(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Fb(n);return s?JSON.parse(s):(Zu("Failed to decode base64 JWT payload"),null)}catch(s){return Zu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Y_(t){const e=ty(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qr&&$V(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $V({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await dc(t,Wd(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?nI(s.providerUserInfo):[],o=WV(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ig(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function BV(t){const e=Gt(t);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,e){const n=await eI(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await tI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&La(t.emulatorConfig.host)&&(u.credentials="include"),Zb.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qV(t,e){return Fa(t,"POST","/v2/accounts:revokeToken",ey(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=Y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await HV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Fo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new zV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ig(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UV(this,e)}reload(){return BV(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await dc(this,FV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:y,providerData:I,stsTokenManager:x}=n;oe(f&&x,e,"internal-error");const S=Fo.fromJSON(this.name,x);oe(typeof f=="string",e,"internal-error"),os(r,e.name),os(s,e.name),oe(typeof p=="boolean",e,"internal-error"),oe(typeof y=="boolean",e,"internal-error"),os(i,e.name),os(o,e.name),os(a,e.name),os(u,e.name),os(d,e.name),os(h,e.name);const E=new Un({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:d,lastLoginAt:h});return I&&Array.isArray(I)&&(E.providerData=I.map(w=>({...w}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fo;s.updateFromServerResponse(n);const i=new Un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?nI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Fo;a.updateFromIdToken(r);const u=new Un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ig(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function Or(t){Hr(t instanceof Function,"Expected a class definition");let e=J_.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rI.type="NONE";const Z_=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,n){return`firebase:${t}:${e}:${n}`}class Uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ed(this.userKey,s.apiKey,i),this.fullPersistenceKey=ed("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wd(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uo(Or(Z_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Or(Z_);const o=ed(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await Wd(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Un._fromGetAccountInfoResponse(e,p,h)}else f=Un._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Uo(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Uo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cI(e))return"Blackberry";if(uI(e))return"Webos";if(iI(e))return"Safari";if((e.includes("chrome/")||oI(e))&&!e.includes("edge/"))return"Chrome";if(lI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sI(t=Mt()){return/firefox\//i.test(t)}function iI(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oI(t=Mt()){return/crios\//i.test(t)}function aI(t=Mt()){return/iemobile/i.test(t)}function lI(t=Mt()){return/android/i.test(t)}function cI(t=Mt()){return/blackberry/i.test(t)}function uI(t=Mt()){return/webos/i.test(t)}function ny(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GV(t=Mt()){var e;return ny(t)&&!!((e=window.navigator)!=null&&e.standalone)}function KV(){return aL()&&document.documentMode===10}function dI(t=Mt()){return ny(t)||lI(t)||uI(t)||cI(t)||/windows phone/i.test(t)||aI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e=[]){let n;switch(t){case"Browser":n=e0(Mt());break;case"Worker":n=`${e0(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e={}){return Fa(t,"GET","/v2/passwordPolicy",ey(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=6;class JV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new QV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wd(this,{idToken:e}),r=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(ji(this));const n=e?Gt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XV(this),n=new JV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&AV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fh(t){return Gt(t)}class t0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mL(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e4(t){ry=t}function t4(t){return ry.loadJS(t)}function n4(){return ry.gapiScript}function r4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e){const n=Xv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(zi(i,e??{}))return s;xr(s,"already-initialized")}return n.initialize({options:e})}function i4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o4(t,e,n){const r=Fh(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=fI(e),{host:o,port:a}=a4(e),u=a===null?"":`:${a}`,d={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(zi(d,r.config.emulator)&&zi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,La(o)?(Bb(`${i}//${o}${u}`),Wb("Auth",!0)):l4()}function fI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a4(t){const e=fI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:n0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:n0(o)}}}function n0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e){return LV(t,"POST","/v1/accounts:signInWithIdp",ey(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="http://localhost";class Wi extends pI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Wi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:c4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Lc{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Lc{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Wi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Un._fromIdTokenResponse(e,r,s),o=r0(r);return new wa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=r0(r);return new wa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function r0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Qr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new qd(e,n,r,s)}}function mI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(t,i,e,r):i})}async function u4(t,e,n=!1){const r=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e,n=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(ji(r));const s="reauthenticate";try{const i=await dc(t,mI(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=ty(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),wa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e,n=!1){if(Ln(t.app))return Promise.reject(ji(t));const r="signIn",s=await mI(t,r,e),i=await wa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function f4(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function p4(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function m4(t,e,n,r){return Gt(t).onAuthStateChanged(e,n,r)}function g4(t){return Gt(t).signOut()}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=1e3,y4=10;class vI extends gI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);KV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,y4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vI.type="LOCAL";const x4=vI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends gI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yI.type="SESSION";const xI=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),u=await w4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const d=iy("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function E4(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function T4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function b4(){return wI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="firebaseLocalStorageDb",I4=1,Kd="firebaseLocalStorage",EI="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(t,e){return t.transaction([Kd],e?"readwrite":"readonly").objectStore(Kd)}function C4(){const t=indexedDB.deleteDatabase(_I);return new Vc(t).toPromise()}function og(){const t=indexedDB.open(_I,I4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kd,{keyPath:EI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kd)?e(r):(r.close(),await C4(),e(await og()))})})}async function s0(t,e,n){const r=$h(t,!0).put({[EI]:e,value:n});return new Vc(r).toPromise()}async function N4(t,e){const n=$h(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function i0(t,e){const n=$h(t,!0).delete(e);return new Vc(n).toPromise()}const A4=800,P4=3;class TI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(b4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await T4(),!this.activeServiceWorker)return;this.sender=new _4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await s0(e,Gd,"1"),await i0(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>s0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=$h(s,!1).getAll();return new Vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TI.type="LOCAL";const R4=TI;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){return e?Or(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends pI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j4(t){return h4(t.auth,new oy(t),t.bypassAuthState)}function k4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),d4(n,new oy(t),t.bypassAuthState)}async function D4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),u4(n,new oy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j4;case"linkViaPopup":case"linkViaRedirect":return D4;case"reauthViaPopup":case"reauthViaRedirect":return k4;default:xr(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Mc(2e3,1e4);async function M4(t,e,n){if(Ln(t.app))return Promise.reject(Bn(t,"operation-not-supported-in-this-environment"));const r=Fh(t);PV(t,e,sy);const s=SI(r,n);return new _i(r,"signInViaPopup",e,s).executeNotNull()}class _i extends bI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,_i.currentPopupAction&&_i.currentPopupAction.cancel(),_i.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_i.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O4.get())};e()}}_i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="pendingRedirect",td=new Map;class V4 extends bI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const r=await F4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F4(t,e){const n=z4(e),r=$4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function U4(t,e){td.set(t._key(),e)}function $4(t){return Or(t._redirectPersistence)}function z4(t){return ed(L4,t.config.apiKey,t.name)}async function B4(t,e,n=!1){if(Ln(t.app))return Promise.reject(ji(t));const r=Fh(t),s=SI(r,e),o=await new V4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=10*60*1e3;class H4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!II(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W4&&this.cachedEventUids.clear(),this.cachedEventUids.has(o0(e))}saveEventToCache(e){this.cachedEventUids.add(o0(e)),this.lastProcessedEventTime=Date.now()}}function o0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function II({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return II(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e={}){return Fa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q4=/^https?/;async function X4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G4(t);for(const n of e)try{if(Y4(n))return}catch{}xr(t,"unauthorized-domain")}function Y4(t){const e=sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q4.test(n))return!1;if(K4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Mc(3e4,6e4);function a0(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z4(t){return new Promise((e,n)=>{var s,i,o;function r(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),n(Bn(t,"network-request-failed"))},timeout:J4.get()})}if((i=(s=hr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=hr().gapi)!=null&&o.load)r();else{const a=r4("iframefcb");return hr()[a]=()=>{gapi.load?r():n(Bn(t,"network-request-failed"))},t4(`${n4()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw nd=null,e})}let nd=null;function eF(t){return nd=nd||Z4(t),nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new Mc(5e3,15e3),nF="__/auth/iframe",rF="emulator/auth/iframe",sF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oF(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zv(e,rF):`https://${t.config.authDomain}/${nF}`,r={apiKey:e.apiKey,appName:t.name,v:Va},s=iF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Oc(r).slice(1)}`}async function aF(t){const e=await eF(t),n=hr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:oF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),a=hr().setTimeout(()=>{i(o)},tF.get());function u(){hr().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cF=500,uF=600,dF="_blank",hF="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fF(t,e,n,r=cF,s=uF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...lF,width:r.toString(),height:s.toString(),top:i,left:o},d=Mt().toLowerCase();n&&(a=oI(d)?dF:n),sI(d)&&(e=e||hF,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[y,I])=>`${p}${y}=${I},`,"");if(GV(d)&&a!=="_self")return pF(e||"",a),new l0(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new l0(f)}function pF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="__/auth/handler",gF="emulator/auth/handler",vF=encodeURIComponent("fac");async function c0(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Va,eventId:s};if(e instanceof sy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Lc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),d=u?`#${vF}=${encodeURIComponent(u)}`:"";return`${yF(t)}?${Oc(a).slice(1)}${d}`}function yF({config:t}){return t.emulator?Zv(t,gF):`https://${t.authDomain}/${mF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class xF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xI,this._completeRedirectFn=B4,this._overrideRedirectResult=U4}async _openPopup(e,n,r,s){var o;Hr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await c0(e,n,r,sg(),s);return fF(e,i,iy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await c0(e,n,r,sg(),s);return E4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Hr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aF(e),r=new H4(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wp,{type:wp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[wp];i!==void 0&&n(!!i),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dI()||iI()||ny()}}const wF=xF;var u0="@firebase/auth",d0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TF(t){xa(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hI(t)},d=new ZV(r,s,i,u);return i4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xa(new Bi("auth-internal",e=>{const n=Fh(e.getProvider("auth").getImmediate());return(r=>new _F(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(u0,d0,EF(t)),Us(u0,d0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=5*60,bF=zb("authIdTokenMaxAge")||SF;let h0=null;const IF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bF)return;const s=n==null?void 0:n.token;h0!==s&&(h0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CF(t=Kb()){const e=Xv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s4(t,{popupRedirectResolver:wF,persistence:[R4,x4,xI]}),r=zb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=IF(i.toString());p4(n,o,()=>o(n.currentUser)),f4(n,a=>o(a))}}const s=Ub("auth");return s&&o4(n,`http://${s}`),n}function NF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}e4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Bn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",NF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TF("Browser");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,CI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function C(){}C.prototype=T.prototype,_.F=T.prototype,_.prototype=new C,_.prototype.constructor=_,_.D=function(A,R,k){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return T.prototype[R].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,T,C){C||(C=0);const A=Array(16);if(typeof T=="string")for(var R=0;R<16;++R)A[R]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(R=0;R<16;++R)A[R]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=_.g[0],C=_.g[1],R=_.g[2];let k=_.g[3],P;P=T+(k^C&(R^k))+A[0]+3614090360&4294967295,T=C+(P<<7&4294967295|P>>>25),P=k+(R^T&(C^R))+A[1]+3905402710&4294967295,k=T+(P<<12&4294967295|P>>>20),P=R+(C^k&(T^C))+A[2]+606105819&4294967295,R=k+(P<<17&4294967295|P>>>15),P=C+(T^R&(k^T))+A[3]+3250441966&4294967295,C=R+(P<<22&4294967295|P>>>10),P=T+(k^C&(R^k))+A[4]+4118548399&4294967295,T=C+(P<<7&4294967295|P>>>25),P=k+(R^T&(C^R))+A[5]+1200080426&4294967295,k=T+(P<<12&4294967295|P>>>20),P=R+(C^k&(T^C))+A[6]+2821735955&4294967295,R=k+(P<<17&4294967295|P>>>15),P=C+(T^R&(k^T))+A[7]+4249261313&4294967295,C=R+(P<<22&4294967295|P>>>10),P=T+(k^C&(R^k))+A[8]+1770035416&4294967295,T=C+(P<<7&4294967295|P>>>25),P=k+(R^T&(C^R))+A[9]+2336552879&4294967295,k=T+(P<<12&4294967295|P>>>20),P=R+(C^k&(T^C))+A[10]+4294925233&4294967295,R=k+(P<<17&4294967295|P>>>15),P=C+(T^R&(k^T))+A[11]+2304563134&4294967295,C=R+(P<<22&4294967295|P>>>10),P=T+(k^C&(R^k))+A[12]+1804603682&4294967295,T=C+(P<<7&4294967295|P>>>25),P=k+(R^T&(C^R))+A[13]+4254626195&4294967295,k=T+(P<<12&4294967295|P>>>20),P=R+(C^k&(T^C))+A[14]+2792965006&4294967295,R=k+(P<<17&4294967295|P>>>15),P=C+(T^R&(k^T))+A[15]+1236535329&4294967295,C=R+(P<<22&4294967295|P>>>10),P=T+(R^k&(C^R))+A[1]+4129170786&4294967295,T=C+(P<<5&4294967295|P>>>27),P=k+(C^R&(T^C))+A[6]+3225465664&4294967295,k=T+(P<<9&4294967295|P>>>23),P=R+(T^C&(k^T))+A[11]+643717713&4294967295,R=k+(P<<14&4294967295|P>>>18),P=C+(k^T&(R^k))+A[0]+3921069994&4294967295,C=R+(P<<20&4294967295|P>>>12),P=T+(R^k&(C^R))+A[5]+3593408605&4294967295,T=C+(P<<5&4294967295|P>>>27),P=k+(C^R&(T^C))+A[10]+38016083&4294967295,k=T+(P<<9&4294967295|P>>>23),P=R+(T^C&(k^T))+A[15]+3634488961&4294967295,R=k+(P<<14&4294967295|P>>>18),P=C+(k^T&(R^k))+A[4]+3889429448&4294967295,C=R+(P<<20&4294967295|P>>>12),P=T+(R^k&(C^R))+A[9]+568446438&4294967295,T=C+(P<<5&4294967295|P>>>27),P=k+(C^R&(T^C))+A[14]+3275163606&4294967295,k=T+(P<<9&4294967295|P>>>23),P=R+(T^C&(k^T))+A[3]+4107603335&4294967295,R=k+(P<<14&4294967295|P>>>18),P=C+(k^T&(R^k))+A[8]+1163531501&4294967295,C=R+(P<<20&4294967295|P>>>12),P=T+(R^k&(C^R))+A[13]+2850285829&4294967295,T=C+(P<<5&4294967295|P>>>27),P=k+(C^R&(T^C))+A[2]+4243563512&4294967295,k=T+(P<<9&4294967295|P>>>23),P=R+(T^C&(k^T))+A[7]+1735328473&4294967295,R=k+(P<<14&4294967295|P>>>18),P=C+(k^T&(R^k))+A[12]+2368359562&4294967295,C=R+(P<<20&4294967295|P>>>12),P=T+(C^R^k)+A[5]+4294588738&4294967295,T=C+(P<<4&4294967295|P>>>28),P=k+(T^C^R)+A[8]+2272392833&4294967295,k=T+(P<<11&4294967295|P>>>21),P=R+(k^T^C)+A[11]+1839030562&4294967295,R=k+(P<<16&4294967295|P>>>16),P=C+(R^k^T)+A[14]+4259657740&4294967295,C=R+(P<<23&4294967295|P>>>9),P=T+(C^R^k)+A[1]+2763975236&4294967295,T=C+(P<<4&4294967295|P>>>28),P=k+(T^C^R)+A[4]+1272893353&4294967295,k=T+(P<<11&4294967295|P>>>21),P=R+(k^T^C)+A[7]+4139469664&4294967295,R=k+(P<<16&4294967295|P>>>16),P=C+(R^k^T)+A[10]+3200236656&4294967295,C=R+(P<<23&4294967295|P>>>9),P=T+(C^R^k)+A[13]+681279174&4294967295,T=C+(P<<4&4294967295|P>>>28),P=k+(T^C^R)+A[0]+3936430074&4294967295,k=T+(P<<11&4294967295|P>>>21),P=R+(k^T^C)+A[3]+3572445317&4294967295,R=k+(P<<16&4294967295|P>>>16),P=C+(R^k^T)+A[6]+76029189&4294967295,C=R+(P<<23&4294967295|P>>>9),P=T+(C^R^k)+A[9]+3654602809&4294967295,T=C+(P<<4&4294967295|P>>>28),P=k+(T^C^R)+A[12]+3873151461&4294967295,k=T+(P<<11&4294967295|P>>>21),P=R+(k^T^C)+A[15]+530742520&4294967295,R=k+(P<<16&4294967295|P>>>16),P=C+(R^k^T)+A[2]+3299628645&4294967295,C=R+(P<<23&4294967295|P>>>9),P=T+(R^(C|~k))+A[0]+4096336452&4294967295,T=C+(P<<6&4294967295|P>>>26),P=k+(C^(T|~R))+A[7]+1126891415&4294967295,k=T+(P<<10&4294967295|P>>>22),P=R+(T^(k|~C))+A[14]+2878612391&4294967295,R=k+(P<<15&4294967295|P>>>17),P=C+(k^(R|~T))+A[5]+4237533241&4294967295,C=R+(P<<21&4294967295|P>>>11),P=T+(R^(C|~k))+A[12]+1700485571&4294967295,T=C+(P<<6&4294967295|P>>>26),P=k+(C^(T|~R))+A[3]+2399980690&4294967295,k=T+(P<<10&4294967295|P>>>22),P=R+(T^(k|~C))+A[10]+4293915773&4294967295,R=k+(P<<15&4294967295|P>>>17),P=C+(k^(R|~T))+A[1]+2240044497&4294967295,C=R+(P<<21&4294967295|P>>>11),P=T+(R^(C|~k))+A[8]+1873313359&4294967295,T=C+(P<<6&4294967295|P>>>26),P=k+(C^(T|~R))+A[15]+4264355552&4294967295,k=T+(P<<10&4294967295|P>>>22),P=R+(T^(k|~C))+A[6]+2734768916&4294967295,R=k+(P<<15&4294967295|P>>>17),P=C+(k^(R|~T))+A[13]+1309151649&4294967295,C=R+(P<<21&4294967295|P>>>11),P=T+(R^(C|~k))+A[4]+4149444226&4294967295,T=C+(P<<6&4294967295|P>>>26),P=k+(C^(T|~R))+A[11]+3174756917&4294967295,k=T+(P<<10&4294967295|P>>>22),P=R+(T^(k|~C))+A[2]+718787259&4294967295,R=k+(P<<15&4294967295|P>>>17),P=C+(k^(R|~T))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+k&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const C=T-this.blockSize,A=this.C;let R=this.h,k=0;for(;k<T;){if(R==0)for(;k<=C;)s(this,_,k),k+=this.blockSize;if(typeof _=="string"){for(;k<T;)if(A[R++]=_.charCodeAt(k++),R==this.blockSize){s(this,A),R=0;break}}else for(;k<T;)if(A[R++]=_[k++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var C=_.length-8;C<_.length;++C)_[C]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,C=0;C<4;++C)for(let A=0;A<32;A+=8)_[T++]=this.g[C]>>>A&255;return _};function i(_,T){var C=a;return Object.prototype.hasOwnProperty.call(C,_)?C[_]:C[_]=T(_)}function o(_,T){this.h=T;const C=[];let A=!0;for(let R=_.length-1;R>=0;R--){const k=_[R]|0;A&&k==T||(C[R]=k,A=!1)}this.g=C}var a={};function u(_){return-128<=_&&_<128?i(_,function(T){return new o([T|0],T<0?-1:0)}):new o([_|0],_<0?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return S(d(-_));const T=[];let C=1;for(let A=0;_>=C;A++)T[A]=_/C|0,C*=4294967296;return new o(T,0)}function h(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return S(h(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(T,8));let A=f;for(let k=0;k<_.length;k+=8){var R=Math.min(8,_.length-k);const P=parseInt(_.substring(k,k+R),T);R<8?(R=d(Math.pow(T,R)),A=A.j(R).add(d(P))):(A=A.j(C),A=A.add(d(P)))}return A}var f=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();let _=0,T=1;for(let C=0;C<this.g.length;C++){const A=this.i(C);_+=(A>=0?A:4294967296+A)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(I(this))return"0";if(x(this))return"-"+S(this).toString(_);const T=d(Math.pow(_,6));var C=this;let A="";for(;;){const R=j(C,T).g;C=E(C,R.j(T));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(_);if(C=R,I(C))return k+A;for(;k.length<6;)k="0"+k;A=k+A}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function I(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=E(this,_),x(_)?-1:I(_)?0:1};function S(_){const T=_.g.length,C=[];for(let A=0;A<T;A++)C[A]=~_.g[A];return new o(C,~_.h).add(p)}t.abs=function(){return x(this)?S(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),C=[];let A=0;for(let R=0;R<=T;R++){let k=A+(this.i(R)&65535)+(_.i(R)&65535),P=(k>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);A=P>>>16,k&=65535,P&=65535,C[R]=P<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(_,T){return _.add(S(T))}t.j=function(_){if(I(this)||I(_))return f;if(x(this))return x(_)?S(this).j(S(_)):S(S(this).j(_));if(x(_))return S(this.j(S(_)));if(this.l(y)<0&&_.l(y)<0)return d(this.m()*_.m());const T=this.g.length+_.g.length,C=[];for(var A=0;A<2*T;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(let R=0;R<_.g.length;R++){const k=this.i(A)>>>16,P=this.i(A)&65535,B=_.i(R)>>>16,re=_.i(R)&65535;C[2*A+2*R]+=P*re,w(C,2*A+2*R),C[2*A+2*R+1]+=k*re,w(C,2*A+2*R+1),C[2*A+2*R+1]+=P*B,w(C,2*A+2*R+1),C[2*A+2*R+2]+=k*B,w(C,2*A+2*R+2)}for(_=0;_<T;_++)C[_]=C[2*_+1]<<16|C[2*_];for(_=T;_<2*T;_++)C[_]=0;return new o(C,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function b(_,T){this.g=_,this.h=T}function j(_,T){if(I(T))throw Error("division by zero");if(I(_))return new b(f,f);if(x(_))return T=j(S(_),T),new b(S(T.g),S(T.h));if(x(T))return T=j(_,S(T)),new b(S(T.g),T.h);if(_.g.length>30){if(x(_)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var C=p,A=T;A.l(_)<=0;)C=D(C),A=D(A);var R=M(C,1),k=M(A,1);for(A=M(A,2),C=M(C,2);!I(A);){var P=k.add(A);P.l(_)<=0&&(R=R.add(C),k=P),A=M(A,1),C=M(C,1)}return T=E(_,R.j(T)),new b(R,T)}for(R=f;_.l(T)>=0;){for(C=Math.max(1,Math.floor(_.m()/T.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),k=d(C),P=k.j(T);x(P)||P.l(_)>0;)C-=A,k=d(C),P=k.j(T);I(k)&&(k=p),R=R.add(k),_=E(_,P)}return new b(R,_)}t.B=function(_){return j(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)&_.i(A);return new o(C,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)|_.i(A);return new o(C,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)^_.i(A);return new o(C,this.h^_.h)};function D(_){const T=_.g.length+1,C=[];for(let A=0;A<T;A++)C[A]=_.i(A)<<1|_.i(A-1)>>>31;return new o(C,_.h)}function M(_,T){const C=T>>5;T%=32;const A=_.g.length-C,R=[];for(let k=0;k<A;k++)R[k]=T>0?_.i(k+C)>>>T|_.i(k+C+1)<<32-T:_.i(k+C);return new o(R,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,$s=o}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NI,El,AI,rd,ag,PI,RI,jI;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var v=r;c=c.split(".");for(var N=0;N<c.length-1;N++){var L=c[N];if(!(L in v))break e;v=v[L]}c=c[c.length-1],N=v[c],m=m(N),m!=N&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(m){var v=[],N;for(N in m)Object.prototype.hasOwnProperty.call(m,N)&&v.push([N,m[N]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function u(c,m,v){return c.call.apply(c.bind,arguments)}function d(c,m,v){return d=u,d.apply(null,arguments)}function h(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var N=v.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function f(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(N,L,V){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return m.prototype[L].apply(N,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const m=c.length;if(m>0){const v=Array(m);for(let N=0;N<m;N++)v[N]=c[N];return v}return[]}function I(c,m){for(let N=1;N<arguments.length;N++){const L=arguments[N];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const V=L.length||0;c.length=v+V;for(let H=0;H<V;H++)c[v+H]=L[H]}else c.push(L)}}class x{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function S(c){o.setTimeout(()=>{throw c},0)}function E(){var c=_;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class w{constructor(){this.h=this.g=null}add(m,v){const N=b.get();N.set(m,v),this.h?this.h.next=N:this.g=N,this.h=N}}var b=new x(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,_=new w,T=()=>{const c=Promise.resolve(void 0);D=()=>{c.then(C)}};function C(){for(var c;c=E();){try{c.h.call(c.g)}catch(v){S(v)}var m=b;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}M=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};o.addEventListener("test",v,m),o.removeEventListener("test",v,m)}catch{}return c}();function P(c){return/^[\s\xa0]*$/.test(c)}function B(c,m){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}f(B,R),B.prototype.init=function(c,m){const v=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ue(c,m,v,N,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!N,this.ha=L,this.key=++Q,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function W(c,m,v){for(const N in c)m.call(v,c[N],N,c)}function X(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function ae(c){const m={};for(const v in c)m[v]=c[v];return m}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(c,m){let v,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(v in N)c[v]=N[v];for(let V=0;V<Se.length;V++)v=Se[V],Object.prototype.hasOwnProperty.call(N,v)&&(c[v]=N[v])}}function ze(c){this.src=c,this.g={},this.h=0}ze.prototype.add=function(c,m,v,N,L){const V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);const H=at(c,m,N,L);return H>-1?(m=c[H],v||(m.fa=!1)):(m=new ue(m,this.src,V,!!N,L),m.fa=v,c.push(m)),m};function Xt(c,m){const v=m.type;if(v in c.g){var N=c.g[v],L=Array.prototype.indexOf.call(N,m,void 0),V;(V=L>=0)&&Array.prototype.splice.call(N,L,1),V&&(F(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function at(c,m,v,N){for(let L=0;L<c.length;++L){const V=c[L];if(!V.da&&V.listener==m&&V.capture==!!v&&V.ha==N)return L}return-1}var ee="closure_lm_"+(Math.random()*1e6|0),Pe={};function lt(c,m,v,N,L){if(Array.isArray(m)){for(let V=0;V<m.length;V++)lt(c,m[V],v,N,L);return null}return v=qc(v),c&&c[re]?c.J(m,v,a(N)?!!N.capture:!!N,L):je(c,m,v,!1,N,L)}function je(c,m,v,N,L,V){if(!m)throw Error("Invalid event type");const H=a(L)?!!L.capture:!!L;let fe=Sr(c);if(fe||(c[ee]=fe=new ze(c)),v=fe.add(m,v,N,H,V),v.proxy)return v;if(N=Ce(),v.proxy=N,N.src=c,N.listener=v,c.addEventListener)k||(L=H),L===void 0&&(L=!1),c.addEventListener(m.toString(),N,L);else if(c.attachEvent)c.attachEvent(ln(m.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ce(){function c(v){return m.call(c.src,c.listener,v)}const m=ci;return c}function be(c,m,v,N,L){if(Array.isArray(m))for(var V=0;V<m.length;V++)be(c,m[V],v,N,L);else N=a(N)?!!N.capture:!!N,v=qc(v),c&&c[re]?(c=c.i,V=String(m).toString(),V in c.g&&(m=c.g[V],v=at(m,v,N,L),v>-1&&(F(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[V],c.h--)))):c&&(c=Sr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=at(m,v,N,L)),(v=c>-1?m[c]:null)&&_t(v))}function _t(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[re])Xt(m.i,c);else{var v=c.type,N=c.proxy;m.removeEventListener?m.removeEventListener(v,N,c.capture):m.detachEvent?m.detachEvent(ln(v),N):m.addListener&&m.removeListener&&m.removeListener(N),(v=Sr(m))?(Xt(v,c),v.h==0&&(v.src=null,m[ee]=null)):F(c)}}}function ln(c){return c in Pe?Pe[c]:Pe[c]="on"+c}function ci(c,m){if(c.da)c=!0;else{m=new B(m,this);const v=c.listener,N=c.ha||c.src;c.fa&&_t(c),c=v.call(N,m)}return c}function Sr(c){return c=c[ee],c instanceof ze?c:null}var br="__closure_events_fn_"+(Math.random()*1e9>>>0);function qc(c){return typeof c=="function"?c:(c[br]||(c[br]=function(m){return c.handleEvent(m)}),c[br])}function et(){A.call(this),this.i=new ze(this),this.M=this,this.G=null}f(et,A),et.prototype[re]=!0,et.prototype.removeEventListener=function(c,m,v,N){be(this,c,m,v,N)};function Lt(c,m){var v,N=c.G;if(N)for(v=[];N;N=N.G)v.push(N);if(c=c.M,N=m.type||m,typeof m=="string")m=new R(m,c);else if(m instanceof R)m.target=m.target||c;else{var L=m;m=new R(N,c),gt(m,L)}L=!0;let V,H;if(v)for(H=v.length-1;H>=0;H--)V=m.g=v[H],L=Gc(V,N,!0,m)&&L;if(V=m.g=c,L=Gc(V,N,!0,m)&&L,L=Gc(V,N,!1,m)&&L,v)for(H=0;H<v.length;H++)V=m.g=v[H],L=Gc(V,N,!1,m)&&L}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let N=0;N<v.length;N++)F(v[N]);delete c.g[m],c.h--}}this.G=null},et.prototype.J=function(c,m,v,N){return this.i.add(String(c),m,!1,v,N)},et.prototype.K=function(c,m,v,N){return this.i.add(String(c),m,!0,v,N)};function Gc(c,m,v,N){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let V=0;V<m.length;++V){const H=m[V];if(H&&!H.da&&H.capture==v){const fe=H.listener,ct=H.ha||H.src;H.fa&&Xt(c.i,H),L=fe.call(ct,N)!==!1&&L}}return L&&!N.defaultPrevented}function _P(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function rx(c){c.g=_P(()=>{c.g=null,c.i&&(c.i=!1,rx(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class EP extends A{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:rx(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ha(c){A.call(this),this.h=c,this.g={}}f(Ha,A);var sx=[];function ix(c){W(c.g,function(m,v){this.g.hasOwnProperty(v)&&_t(m)},c),c.g={}}Ha.prototype.N=function(){Ha.Z.N.call(this),ix(this)},Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gf=o.JSON.stringify,TP=o.JSON.parse,SP=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function ox(){}function ax(){}var qa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vf(){R.call(this,"d")}f(vf,R);function yf(){R.call(this,"c")}f(yf,R);var ui={},lx=null;function Kc(){return lx=lx||new et}ui.Ia="serverreachability";function cx(c){R.call(this,ui.Ia,c)}f(cx,R);function Ga(c){const m=Kc();Lt(m,new cx(m))}ui.STAT_EVENT="statevent";function ux(c,m){R.call(this,ui.STAT_EVENT,c),this.stat=m}f(ux,R);function Vt(c){const m=Kc();Lt(m,new ux(m,c))}ui.Ja="timingevent";function dx(c,m){R.call(this,ui.Ja,c),this.size=m}f(dx,R);function Ka(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function Qa(){this.g=!0}Qa.prototype.ua=function(){this.g=!1};function bP(c,m,v,N,L,V){c.info(function(){if(c.g)if(V){var H="",fe=V.split("&");for(let ke=0;ke<fe.length;ke++){var ct=fe[ke].split("=");if(ct.length>1){const vt=ct[0];ct=ct[1];const Zn=vt.split("_");H=Zn.length>=2&&Zn[1]=="type"?H+(vt+"="+ct+"&"):H+(vt+"=redacted&")}}}else H=null;else H=V;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+m+`
`+v+`
`+H})}function IP(c,m,v,N,L,V,H){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+m+`
`+v+`
`+V+" "+H})}function io(c,m,v,N){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+NP(c,v)+(N?" "+N:"")})}function CP(c,m){c.info(function(){return"TIMEOUT: "+m})}Qa.prototype.info=function(){};function NP(c,m){if(!c.g)return m;if(!m)return null;try{const V=JSON.parse(m);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var v=V[c];if(!(v.length<2)){var N=v[1];if(Array.isArray(N)&&!(N.length<1)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(let H=1;H<N.length;H++)N[H]=""}}}}return gf(V)}catch{return m}}var Qc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fx;function xf(){}f(xf,ox),xf.prototype.g=function(){return new XMLHttpRequest},fx=new xf;function Xa(c){return encodeURIComponent(String(c))}function AP(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Xr(c,m,v,N){this.j=c,this.i=m,this.l=v,this.S=N||1,this.V=new Ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new px}function px(){this.i=null,this.g="",this.h=!1}var mx={},wf={};function _f(c,m,v){c.M=1,c.A=Yc(Jn(m)),c.u=v,c.R=!0,gx(c,null)}function gx(c,m){c.F=Date.now(),Xc(c),c.B=Jn(c.A);var v=c.B,N=c.S;Array.isArray(N)||(N=[String(N)]),Ax(v.i,"t",N),c.C=0,v=c.j.L,c.h=new px,c.g=Gx(c.j,v?m:null,!c.u),c.P>0&&(c.O=new EP(d(c.Y,c,c.g),c.P)),m=c.V,v=c.g,N=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(sx[0]=L.toString()),L=sx);for(let V=0;V<L.length;V++){const H=lt(v,L[V],N||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=c.J?ae(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Ga(),bP(c.i,c.v,c.B,c.l,c.S,c.u)}Xr.prototype.ba=function(c){c=c.target;const m=this.O;m&&Zr(c)==3?m.j():this.Y(c)},Xr.prototype.Y=function(c){try{if(c==this.g)e:{const fe=Zr(this.g),ct=this.g.ya(),ke=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||Mx(this.g)))){this.K||fe!=4||ct==7||(ct==8||ke<=0?Ga(3):Ga(2)),Ef(this);var m=this.g.ca();this.X=m;var v=PP(this);if(this.o=m==200,IP(this.i,this.v,this.B,this.l,this.S,fe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var N,L=this.g;if((N=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var V=N;break t}}V=null}if(c=V)io(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tf(this,c);else{this.o=!1,this.m=3,Vt(12),di(this),Ya(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=RP(this,v),vt==wf){fe==4&&(this.m=4,Vt(14),c=!1),io(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==mx){this.m=4,Vt(15),io(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else io(this.i,this.l,vt,null),Tf(this,vt);if(vx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||v.length!=0||this.h.h||(this.m=1,Vt(16),c=!1),this.o=this.o&&c,!c)io(this.i,this.l,v,"[Invalid Chunked Response]"),di(this),Ya(this);else if(v.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Rf(H),H.P=!0,Vt(11))}}else io(this.i,this.l,v,null),Tf(this,v);fe==4&&di(this),this.o&&!this.K&&(fe==4?Bx(this.j,this):(this.o=!1,Xc(this)))}else HP(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),di(this),Ya(this)}}}catch{}finally{}};function PP(c){if(!vx(c))return c.g.la();const m=Mx(c.g);if(m==="")return"";let v="";const N=m.length,L=Zr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return di(c),Ya(c),"";c.h.i=new o.TextDecoder}for(let V=0;V<N;V++)c.h.h=!0,v+=c.h.i.decode(m[V],{stream:!(L&&V==N-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function vx(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function RP(c,m){var v=c.C,N=m.indexOf(`
`,v);return N==-1?wf:(v=Number(m.substring(v,N)),isNaN(v)?mx:(N+=1,N+v>m.length?wf:(m=m.slice(N,N+v),c.C=N+v,m)))}Xr.prototype.cancel=function(){this.K=!0,di(this)};function Xc(c){c.T=Date.now()+c.H,yx(c,c.H)}function yx(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ka(d(c.aa,c),m)}function Ef(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Xr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(CP(this.i,this.B),this.M!=2&&(Ga(),Vt(17)),di(this),this.m=2,Ya(this)):yx(this,this.T-c)};function Ya(c){c.j.I==0||c.K||Bx(c.j,c)}function di(c){Ef(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,ix(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Tf(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Sf(v.h,c))){if(!c.L&&Sf(v.h,c)&&v.I==3){try{var N=v.Ba.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)nu(v),eu(v);else break e;Pf(v),Vt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ka(d(v.Va,v),6e3));_x(v.h)<=1&&v.ta&&(v.ta=void 0)}else fi(v,11)}else if((c.L||v.g==c)&&nu(v),!P(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let ke=L[m];const vt=ke[0];if(!(vt<=v.K))if(v.K=vt,ke=ke[1],v.I==2)if(ke[0]=="c"){v.M=ke[1],v.ba=ke[2];const Zn=ke[3];Zn!=null&&(v.ka=Zn,v.j.info("VER="+v.ka));const pi=ke[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const es=ke[5];es!=null&&typeof es=="number"&&es>0&&(N=1.5*es,v.O=N,v.j.info("backChannelRequestTimeoutMs_="+N)),N=v;const ts=c.g;if(ts){const su=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(su){var V=N.h;V.g||su.indexOf("spdy")==-1&&su.indexOf("quic")==-1&&su.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(bf(V,V.h),V.h=null))}if(N.G){const jf=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;jf&&(N.wa=jf,Me(N.J,N.G,jf))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),N=v;var H=c;if(N.na=qx(N,N.L?N.ba:null,N.W),H.L){Ex(N.h,H);var fe=H,ct=N.O;ct&&(fe.H=ct),fe.D&&(Ef(fe),Xc(fe)),N.g=H}else $x(N);v.i.length>0&&tu(v)}else ke[0]!="stop"&&ke[0]!="close"||fi(v,7);else v.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?fi(v,7):Af(v):ke[0]!="noop"&&v.l&&v.l.qa(ke),v.A=0)}}Ga(4)}catch{}}var jP=class{constructor(c,m){this.g=c,this.map=m}};function xx(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wx(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _x(c){return c.h?1:c.g?c.g.size:0}function Sf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function bf(c,m){c.g?c.g.add(m):c.h=m}function Ex(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}xx.prototype.cancel=function(){if(this.i=Tx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tx(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return y(c.i)}var Sx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kP(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const N=c[v].indexOf("=");let L,V=null;N>=0?(L=c[v].substring(0,N),V=c[v].substring(N+1)):L=c[v],m(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Yr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Yr?(this.l=c.l,Ja(this,c.j),this.o=c.o,this.g=c.g,Za(this,c.u),this.h=c.h,If(this,Px(c.i)),this.m=c.m):c&&(m=String(c).match(Sx))?(this.l=!1,Ja(this,m[1]||"",!0),this.o=el(m[2]||""),this.g=el(m[3]||"",!0),Za(this,m[4]),this.h=el(m[5]||"",!0),If(this,m[6]||"",!0),this.m=el(m[7]||"")):(this.l=!1,this.i=new nl(null,this.l))}Yr.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(tl(m,bx,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(tl(m,bx,!0),"@"),c.push(Xa(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(tl(v,v.charAt(0)=="/"?MP:OP,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",tl(v,VP)),c.join("")},Yr.prototype.resolve=function(c){const m=Jn(this);let v=!!c.j;v?Ja(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var N=c.h;if(v)Za(m,c.u);else if(v=!!c.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var L=m.h.lastIndexOf("/");L!=-1&&(N=m.h.slice(0,L+1)+N)}if(L=N,L==".."||L==".")N="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){N=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let H=0;H<L.length;){const fe=L[H++];fe=="."?N&&H==L.length&&V.push(""):fe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),N&&H==L.length&&V.push("")):(V.push(fe),N=!0)}N=V.join("/")}else N=L}return v?m.h=N:v=c.i.toString()!=="",v?If(m,Px(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Jn(c){return new Yr(c)}function Ja(c,m,v){c.j=v?el(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Za(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function If(c,m,v){m instanceof nl?(c.i=m,FP(c.i,c.l)):(v||(m=tl(m,LP)),c.i=new nl(m,c.l))}function Me(c,m,v){c.i.set(m,v)}function Yc(c){return Me(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function el(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function tl(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,DP),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bx=/[#\/\?@]/g,OP=/[#\?:]/g,MP=/[#\?]/g,LP=/[#\?@]/g,VP=/#/g;function nl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function hi(c){c.g||(c.g=new Map,c.h=0,c.i&&kP(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=nl.prototype,t.add=function(c,m){hi(this),this.i=null,c=oo(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Ix(c,m){hi(c),m=oo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Cx(c,m){return hi(c),m=oo(c,m),c.g.has(m)}t.forEach=function(c,m){hi(this),this.g.forEach(function(v,N){v.forEach(function(L){c.call(m,L,N,this)},this)},this)};function Nx(c,m){hi(c);let v=[];if(typeof m=="string")Cx(c,m)&&(v=v.concat(c.g.get(oo(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}t.set=function(c,m){return hi(this),this.i=null,c=oo(this,c),Cx(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=Nx(this,c),c.length>0?String(c[0]):m):m};function Ax(c,m,v){Ix(c,m),v.length>0&&(c.i=null,c.g.set(oo(c,m),y(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let N=0;N<m.length;N++){var v=m[N];const L=Xa(v);v=Nx(this,v);for(let V=0;V<v.length;V++){let H=L;v[V]!==""&&(H+="="+Xa(v[V])),c.push(H)}}return this.i=c.join("&")};function Px(c){const m=new nl;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function oo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function FP(c,m){m&&!c.j&&(hi(c),c.i=null,c.g.forEach(function(v,N){const L=N.toLowerCase();N!=L&&(Ix(this,N),Ax(this,L,v))},c)),c.j=m}function UP(c,m){const v=new Qa;if(o.Image){const N=new Image;N.onload=h(Jr,v,"TestLoadImage: loaded",!0,m,N),N.onerror=h(Jr,v,"TestLoadImage: error",!1,m,N),N.onabort=h(Jr,v,"TestLoadImage: abort",!1,m,N),N.ontimeout=h(Jr,v,"TestLoadImage: timeout",!1,m,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else m(!1)}function $P(c,m){const v=new Qa,N=new AbortController,L=setTimeout(()=>{N.abort(),Jr(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:N.signal}).then(V=>{clearTimeout(L),V.ok?Jr(v,"TestPingServer: ok",!0,m):Jr(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Jr(v,"TestPingServer: error",!1,m)})}function Jr(c,m,v,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(v)}catch{}}function zP(){this.g=new SP}function Cf(c){this.i=c.Sb||null,this.h=c.ab||!1}f(Cf,ox),Cf.prototype.g=function(){return new Jc(this.i,this.h)};function Jc(c,m){et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Jc,et),t=Jc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,sl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rx(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rx(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?rl(this):sl(this),this.readyState==3&&Rx(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,rl(this))},t.Na=function(c){this.g&&(this.response=c,rl(this))},t.ga=function(){this.g&&rl(this)};function rl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,sl(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function sl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jx(c){let m="";return W(c,function(v,N){m+=N,m+=":",m+=v,m+=`\r
`}),m}function Nf(c,m,v){e:{for(N in v){var N=!1;break e}N=!0}N||(v=jx(v),typeof c=="string"?v!=null&&Xa(v):Me(c,m,v))}function Xe(c){et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Xe,et);var BP=/^https?$/i,WP=["POST","PUT"];t=Xe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,v,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fx.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){kx(this,V);return}if(c=v||"",v=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)v.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())v.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(v.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(WP,m,void 0)>=0)||N||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of v)this.g.setRequestHeader(V,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(V){kx(this,V)}};function kx(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Dx(c),Zc(c)}function Dx(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Lt(this,"complete"),Lt(this,"abort"),Zc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zc(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ox(this):this.Xa())},t.Xa=function(){Ox(this)};function Ox(c){if(c.h&&typeof i<"u"){if(c.v&&Zr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Lt(c,"readystatechange"),Zr(c)==4){c.h=!1;try{const V=c.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var N;if(N=V===0){let H=String(c.D).match(Sx)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),N=!BP.test(H?H.toLowerCase():"")}v=N}if(v)Lt(c,"complete"),Lt(c,"success");else{c.o=6;try{var L=Zr(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Dx(c)}}finally{Zc(c)}}}}function Zc(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Lt(c,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),TP(m)}};function Mx(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function HP(c){const m={};c=(c.g&&Zr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(P(c[N]))continue;var v=AP(c[N]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const V=m[L]||[];m[L]=V,V.push(v)}X(m,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function il(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Lx(c){this.za=0,this.i=[],this.j=new Qa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=il("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=il("baseRetryDelayMs",5e3,c),this.Za=il("retryDelaySeedMs",1e4,c),this.Ta=il("forwardChannelMaxRetries",2,c),this.va=il("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xx(c&&c.concurrentRequestLimit),this.Ba=new zP,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Lx.prototype,t.ka=8,t.I=1,t.connect=function(c,m,v,N){Vt(0),this.W=c,this.H=m||{},v&&N!==void 0&&(this.H.OSID=v,this.H.OAID=N),this.F=this.X,this.J=qx(this,null,this.W),tu(this)};function Af(c){if(Vx(c),c.I==3){var m=c.V++,v=Jn(c.J);if(Me(v,"SID",c.M),Me(v,"RID",m),Me(v,"TYPE","terminate"),ol(c,v),m=new Xr(c,c.j,m),m.M=2,m.A=Yc(Jn(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&o.Image&&(new Image().src=m.A,v=!0),v||(m.g=Gx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Xc(m)}Hx(c)}function eu(c){c.g&&(Rf(c),c.g.cancel(),c.g=null)}function Vx(c){eu(c),c.v&&(o.clearTimeout(c.v),c.v=null),nu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function tu(c){if(!wx(c.h)&&!c.m){c.m=!0;var m=c.Ea;D||T(),M||(D(),M=!0),_.add(m,c),c.D=0}}function qP(c,m){return _x(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ka(d(c.Ea,c,m),Wx(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Xr(this,this.j,c);let V=this.o;if(this.U&&(V?(V=ae(V),gt(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var N=this.i[v];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ux(this,L,m),v=Jn(this.J),Me(v,"RID",c),Me(v,"CVER",22),this.G&&Me(v,"X-HTTP-Session-Id",this.G),ol(this,v),V&&(this.R?m="headers="+Xa(jx(V))+"&"+m:this.u&&Nf(v,this.u,V)),bf(this.h,L),this.Ra&&Me(v,"TYPE","init"),this.S?(Me(v,"$req",m),Me(v,"SID","null"),L.U=!0,_f(L,v,null)):_f(L,v,m),this.I=2}}else this.I==3&&(c?Fx(this,c):this.i.length==0||wx(this.h)||Fx(this))};function Fx(c,m){var v;m?v=m.l:v=c.V++;const N=Jn(c.J);Me(N,"SID",c.M),Me(N,"RID",v),Me(N,"AID",c.K),ol(c,N),c.u&&c.o&&Nf(N,c.u,c.o),v=new Xr(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ux(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bf(c.h,v),_f(v,N,m)}function ol(c,m){c.H&&W(c.H,function(v,N){Me(m,N,v)}),c.l&&W({},function(v,N){Me(m,N,v)})}function Ux(c,m,v){v=Math.min(c.i.length,v);const N=c.l?d(c.l.Ka,c.l,c):null;e:{var L=c.i;let fe=-1;for(;;){const ct=["count="+v];fe==-1?v>0?(fe=L[0].g,ct.push("ofs="+fe)):fe=0:ct.push("ofs="+fe);let ke=!0;for(let vt=0;vt<v;vt++){var V=L[vt].g;const Zn=L[vt].map;if(V-=fe,V<0)fe=Math.max(0,L[vt].g-100),ke=!1;else try{V="req"+V+"_"||"";try{var H=Zn instanceof Map?Zn:Object.entries(Zn);for(const[pi,es]of H){let ts=es;a(es)&&(ts=gf(es)),ct.push(V+pi+"="+encodeURIComponent(ts))}}catch(pi){throw ct.push(V+"type="+encodeURIComponent("_badmap")),pi}}catch{N&&N(Zn)}}if(ke){H=ct.join("&");break e}}H=void 0}return c=c.i.splice(0,v),m.G=c,H}function $x(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;D||T(),M||(D(),M=!0),_.add(m,c),c.A=0}}function Pf(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ka(d(c.Da,c),Wx(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,zx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ka(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),eu(this),zx(this))};function Rf(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function zx(c){c.g=new Xr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Jn(c.na);Me(m,"RID","rpc"),Me(m,"SID",c.M),Me(m,"AID",c.K),Me(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Me(m,"TO",c.ia),Me(m,"TYPE","xmlhttp"),ol(c,m),c.u&&c.o&&Nf(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Yc(Jn(m)),v.u=null,v.R=!0,gx(v,c)}t.Va=function(){this.C!=null&&(this.C=null,eu(this),Pf(this),Vt(19))};function nu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Bx(c,m){var v=null;if(c.g==m){nu(c),Rf(c),c.g=null;var N=2}else if(Sf(c.h,m))v=m.G,Ex(c.h,m),N=1;else return;if(c.I!=0){if(m.o)if(N==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;N=Kc(),Lt(N,new dx(N,v)),tu(c)}else $x(c);else if(L=m.m,L==3||L==0&&m.X>0||!(N==1&&qP(c,m)||N==2&&Pf(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:fi(c,5);break;case 4:fi(c,10);break;case 3:fi(c,6);break;default:fi(c,2)}}}function Wx(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function fi(c,m){if(c.j.info("Error code "+m),m==2){var v=d(c.bb,c),N=c.Ua;const L=!N;N=new Yr(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ja(N,"https"),Yc(N),L?UP(N.toString(),v):$P(N.toString(),v)}else Vt(2);c.I=0,c.l&&c.l.pa(m),Hx(c),Vx(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Hx(c){if(c.I=0,c.ja=[],c.l){const m=Tx(c.h);(m.length!=0||c.i.length!=0)&&(I(c.ja,m),I(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function qx(c,m,v){var N=v instanceof Yr?Jn(v):new Yr(v);if(N.g!="")m&&(N.g=m+"."+N.g),Za(N,N.u);else{var L=o.location;N=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const V=new Yr(null);N&&Ja(V,N),m&&(V.g=m),L&&Za(V,L),v&&(V.h=v),N=V}return v=c.G,m=c.wa,v&&m&&Me(N,v,m),Me(N,"VER",c.ka),ol(c,N),N}function Gx(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new Cf({ab:v})):new Xe(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kx(){}t=Kx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ru(){}ru.prototype.g=function(c,m){return new cn(c,m)};function cn(c,m){et.call(this),this.g=new Lx(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!P(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ao(this)}f(cn,et),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Af(this.g)},cn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=gf(c),c=v);m.i.push(new jP(m.Ya++,c)),m.I==3&&tu(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,cn.Z.N.call(this)};function Qx(c){vf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}f(Qx,vf);function Xx(){yf.call(this),this.status=1}f(Xx,yf);function ao(c){this.g=c}f(ao,Kx),ao.prototype.ra=function(){Lt(this.g,"a")},ao.prototype.qa=function(c){Lt(this.g,new Qx(c))},ao.prototype.pa=function(c){Lt(this.g,new Xx)},ao.prototype.oa=function(){Lt(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,jI=function(){return new ru},RI=function(){return Kc()},PI=ui,ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,rd=Qc,hx.COMPLETE="complete",AI=hx,ax.EventType=qa,qa.OPEN="a",qa.CLOSE="b",qa.ERROR="c",qa.MESSAGE="d",et.prototype.listen=et.prototype.J,El=ax,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,NI=Xe}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",m0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Kv("@firebase/firestore");function fo(){return Hi.logLevel}function G(t,...e){if(Hi.logLevel<=ve.DEBUG){const n=e.map(ay);Hi.debug(`Firestore (${Ua}): ${t}`,...n)}}function qr(t,...e){if(Hi.logLevel<=ve.ERROR){const n=e.map(ay);Hi.error(`Firestore (${Ua}): ${t}`,...n)}}function _a(t,...e){if(Hi.logLevel<=ve.WARN){const n=e.map(ay);Hi.warn(`Firestore (${Ua}): ${t}`,...n)}}function ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kI(t,r,n)}function kI(t,e,n){let r=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qr(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||kI(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class PF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RF{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new DI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class jF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=OF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function lg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return _p(s)===_p(i)?ye(s,i):_p(s)?1:-1}return ye(t.length,e.length)}const MF=55296,LF=57343;function _p(t){const e=t.charCodeAt(0);return e>=MF&&e<=LF}function Ea(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="__name__";class nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=nr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ye(e.length,n.length)}static compareSegments(e,n){const r=nr.isNumericId(e),s=nr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?nr.extractNumericId(e).compare(nr.extractNumericId(n)):lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class qe extends nr{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const VF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends nr{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return VF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v0}static keyField(){return new St([v0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(qe.fromString(e))}static fromName(e){return new te(qe.fromString(e).popFirst(5))}static empty(){return new te(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UF(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function y0(t){if(!te.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cy(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fc(t,e){if(!OI(t))throw new Y($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=-62135596800,w0=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*w0);return new Fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x0)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fc(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:it("string",Fe._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Fe(0,0))}static max(){return new le(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function $F(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Ks(s,te.empty(),e)}function zF(t){return new Ks(t.readTime,t.key,hc)}class Ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ks(le.min(),te.empty(),hc)}static max(){return new Ks(le.max(),te.empty(),hc)}}function BF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==WF)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function qF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=-1;function Bh(t){return t==null}function Qd(t){return t===0&&1/t==-1/0}function GF(t){return typeof t=="number"&&Number.isInteger(t)&&!Qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="";function KF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_0(e)),e=QF(t.get(n),e);return _0(e)}function QF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case MI:n+="";break;default:n+=i}}return n}function _0(t){return t+MI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Au(this.root,e,this.comparator,!1)}getReverseIterator(){return new Au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Au(this.root,e,this.comparator,!0)}}class Au{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=s??Tt.EMPTY,this.right=i??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new pn([])}unionWith(e){let n=new mt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VI("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const XF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=XF.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="server_timestamp",UI="__type__",$I="__previous_value__",zI="__local_write_time__";function dy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[UI])==null?void 0:r.stringValue)===FI}function Wh(t){const e=t.mapValue.fields[$I];return dy(e)?Wh(e):e}function fc(t){const e=Qs(t.mapValue.fields[zI].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r,s,i,o,a,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const Xd="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||Xd}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===Xd}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="__type__",WI="__max__",Pu={mapValue:{fields:{__type__:{stringValue:WI}}}},HI="__vector__",Yd="value";function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:ZF(t)?9007199254740991:JF(t)?10:11:ie(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Qs(s.timestampValue),a=Qs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xs(s.bytesValue).isEqual(Xs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?Qd(o)===Qd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(E0(o)!==E0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wr(o[u],a[u])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function mc(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),u=tt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return S0(t.timestampValue,e.timestampValue);case 4:return S0(fc(t),fc(e));case 5:return lg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xs(i),u=Xs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){const h=ye(a[d],u[d]);if(h!==0)return h}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ye(tt(i.latitude),tt(o.latitude));return a!==0?a:ye(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return b0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,y,I,x;const a=i.fields||{},u=o.fields||{},d=(p=a[Yd])==null?void 0:p.arrayValue,h=(y=u[Yd])==null?void 0:y.arrayValue,f=ye(((I=d==null?void 0:d.values)==null?void 0:I.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:b0(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Pu.mapValue&&o===Pu.mapValue)return 0;if(i===Pu.mapValue)return 1;if(o===Pu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=lg(u[f],h[f]);if(p!==0)return p;const y=Ta(a[u[f]],d[h[f]]);if(y!==0)return y}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function S0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Qs(t),r=Qs(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function b0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ta(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function Sa(t){return cg(t)}function cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=cg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${cg(n.fields[o])}`;return s+"}"}(t.mapValue):ie(61005,{value:t})}function sd(t){switch(Ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(t);return e?16+sd(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+sd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ii(r.fields,(i,o)=>{s+=i.length+sd(o)}),s}(t.mapValue);default:throw ie(13486,{value:t})}}function ug(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function I0(t){return!!t&&"nullValue"in t}function C0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function JF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BI])==null?void 0:r.stringValue)===HI}function Fl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return{...t}}function ZF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=St.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Fl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];id(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ii(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new nn(Fl(this.value))}}function qI(t){const e=[];return ii(t.fields,(n,r)=>{const s=new St([n]);if(id(r)){const i=qI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,le.min(),le.min(),le.min(),nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Dt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Dt(e,2,n,le.min(),le.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,le.min(),le.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.position=e,this.inclusive=n}}function N0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Ta(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function e3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{}class ht extends GI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n3(e,n,r):n==="array-contains"?new i3(e,r):n==="in"?new o3(e,r):n==="not-in"?new a3(e,r):n==="array-contains-any"?new l3(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r3(e,r):new s3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ta(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends GI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return KI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KI(t){return t.op==="and"}function QI(t){return t3(t)&&KI(t)}function t3(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function dg(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(QI(t))return t.filters.map(e=>dg(e)).join(",");{const e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function XI(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&wr(r.value,s.value)}(t,e):t instanceof _r?function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&XI(o,s.filters[a]),!0):!1}(t,e):void ie(19439)}function YI(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(YI).join(" ,")+"}"}(t):"Filter"}class n3 extends ht{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class r3 extends ht{constructor(e,n){super(e,"in",n),this.keys=JI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class s3 extends ht{constructor(e,n){super(e,"not-in",n),this.keys=JI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class i3 extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&mc(n.arrayValue,this.value)}}class o3 extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class a3 extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class l3 extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function P0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new c3(t,e,n,r,s,i,o)}function fy(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sa(r)).join(",")),e.Te=n}return e.Te}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A0(t.startAt,e.startAt)&&A0(t.endAt,e.endAt)}function hg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u3(t,e,n,r,s,i,o,a){return new Hh(t,e,n,r,s,i,o,a)}function my(t){return new Hh(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d3(t){return t.collectionGroup!==null}function Ul(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Zd(i,r))}),n.has(St.keyField().canonicalString())||e.Ie.push(new Zd(St.keyField(),r))}return e.Ie}function fr(t){const e=de(t);return e.Ee||(e.Ee=h3(e,Ul(t))),e.Ee}function h3(t,e){if(t.limitType==="F")return P0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Zd(s.field,i)});const n=t.endAt?new Jd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jd(t.startAt.position,t.startAt.inclusive):null;return P0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e,n){return new Hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qh(t,e){return py(fr(t),fr(e))&&t.limitType===e.limitType}function ZI(t){return`${fy(fr(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>YI(s)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Sa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Sa(s)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function Gh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const d=N0(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Ul(r),s)||r.endAt&&!function(o,a,u){const d=N0(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Ul(r),s))}(t,e)}function f3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eC(t){return(e,n)=>{let r=!1;for(const s of Ul(t)){const i=p3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function p3(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),d=a.data.field(i);return u!==null&&d!==null?Ta(u,d):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return LI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new Qe(te.comparator);function Gr(){return m3}const tC=new Qe(te.comparator);function Tl(...t){let e=tC;for(const n of t)e=e.insert(n.key,n);return e}function nC(t){let e=tC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return $l()}function rC(){return $l()}function $l(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const g3=new Qe(te.comparator),v3=new mt(te.comparator);function xe(...t){let e=v3;for(const n of t)e=e.add(n);return e}const y3=new mt(ye);function x3(){return y3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function w3(t,e){return GF(e)?sC(e):gy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function _3(t,e,n){return t instanceof eh?function(s,i){const o={fields:{[UI]:{stringValue:FI},[zI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dy(i)&&(i=Wh(i)),i&&(o.fields[$I]=i),{mapValue:o}}(n,e):t instanceof gc?oC(t,e):t instanceof vc?aC(t,e):function(s,i){const o=iC(s,i),a=j0(o)+j0(s.Ae);return ug(o)&&ug(s.Ae)?sC(a):gy(s.serializer,a)}(t,e)}function E3(t,e,n){return t instanceof gc?oC(t,e):t instanceof vc?aC(t,e):n}function iC(t,e){return t instanceof th?function(r){return ug(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class eh extends Kh{}class gc extends Kh{constructor(e){super(),this.elements=e}}function oC(t,e){const n=lC(e);for(const r of t.elements)n.some(s=>wr(s,r))||n.push(r);return{arrayValue:{values:n}}}class vc extends Kh{constructor(e){super(),this.elements=e}}function aC(t,e){let n=lC(e);for(const r of t.elements)n=n.filter(s=>!wr(s,r));return{arrayValue:{values:n}}}class th extends Kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function j0(t){return tt(t.integerValue||t.doubleValue)}function lC(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function T3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gc&&s instanceof gc||r instanceof vc&&s instanceof vc?Ea(r.elements,s.elements,wr):r instanceof th&&s instanceof th?wr(r.Ae,s.Ae):r instanceof eh&&s instanceof eh}(t.transform,e.transform)}class S3{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qh{}function cC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dC(t.key,pr.none()):new Uc(t.key,t.data,pr.none());{const n=t.data,r=nn.empty();let s=new mt(St.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new oi(t.key,r,new pn(s.toArray()),pr.none())}}function b3(t,e,n){t instanceof Uc?function(s,i,o){const a=s.value.clone(),u=D0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(s,i,o){if(!od(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=D0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(uC(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zl(t,e,n,r){return t instanceof Uc?function(i,o,a,u){if(!od(i.precondition,o))return a;const d=i.value.clone(),h=O0(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof oi?function(i,o,a,u){if(!od(i.precondition,o))return a;const d=O0(i.fieldTransforms,u,o),h=o.data;return h.setAll(uC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return od(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function I3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=iC(r.transform,s||null);i!=null&&(n===null&&(n=nn.empty()),n.set(r.field,i))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ea(r,s,(i,o)=>T3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Qh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class oi extends Qh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D0(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,E3(o,a,n[s]))}return r}function O0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,_3(i,o,e))}return r}class dC extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C3 extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&b3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=cC(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>k0(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>k0(n,r))}}class vy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return g3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new vy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,_e;function R3(t){switch(t){case $.OK:return ie(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function hC(t){if(t===void 0)return qr("GRPC error has no .code"),$.UNKNOWN;switch(t){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return ie(39323,{code:t})}}(_e=rt||(rt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new $s([4294967295,4294967295],0);function M0(t){const e=j3().encode(t),n=new CI;return n.update(e),new Uint8Array(n.digest())}function L0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $s([n,r],0),new $s([s,i],0)]}class yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$s.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply($s.fromNumber(r)));return s.compare(k3)===1&&(s=new $s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=M0(e),[r,s]=L0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new yy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=M0(e),[r,s]=L0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xh(le.min(),s,new Qe(ye),Gr(),xe())}}class $c{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $c(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class fC{constructor(e,n){this.targetId=e,this.Ce=n}}class pC{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class V0{constructor(){this.ve=0,this.Fe=F0(),this.Me=Ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),r=xe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie(38017,{changeType:i})}}),new $c(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=F0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gr(),this.Je=Ru(),this.He=Ru(),this.Ye=new Qe(ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(hg(i))if(r===0){const o=new te(i.path);this.et(n,o,Dt.newNoDocument(o,le.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xs(r).toUint8Array()}catch(u){if(u instanceof VI)return _a("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new yy(o,s,i)}catch(u){return _a(u instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&hg(a.target)){const u=new te(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Dt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=xe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Xh(e,n,this.Ye,this.je,r);return this.je=Gr(),this.Je=Ru(),this.He=Ru(),this.Ye=new Qe(ye),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new V0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new mt(ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new mt(ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ru(){return new Qe(te.comparator)}function F0(){return new Qe(te.comparator)}const O3={asc:"ASCENDING",desc:"DESCENDING"},M3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L3={and:"AND",or:"OR"};class V3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function F3(t,e){return nh(t,e.toTimestamp())}function mr(t){return Ae(!!t,49232),le.fromTimestamp(function(n){const r=Qs(n);return new Fe(r.seconds,r.nanos)}(t))}function xy(t,e){return mg(t,e).canonicalString()}function mg(t,e){const n=function(s){return new qe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gC(t){const e=qe.fromString(t);return Ae(_C(e),10190,{key:e.toString()}),e}function gg(t,e){return xy(t.databaseId,e.path)}function Ep(t,e){const n=gC(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(yC(n))}function vC(t,e){return xy(t.databaseId,e)}function U3(t){const e=gC(t);return e.length===4?qe.emptyPath():yC(e)}function vg(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yC(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function U0(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function $3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),Ct.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?$.UNKNOWN:hC(d.code);return new Y(h,d.message||"")}(o);n=new pC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ep(t,r.document.name),i=mr(r.document.updateTime),o=r.document.createTime?mr(r.document.createTime):le.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Dt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new ad(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ep(t,r.document),i=r.readTime?mr(r.readTime):le.min(),o=Dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ad([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ep(t,r.document),i=r.removedTargetIds||[];n=new ad([],i,s,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new P3(s,i),a=r.targetId;n=new fC(a,o)}}return n}function z3(t,e){let n;if(e instanceof Uc)n={update:U0(t,e.key,e.value)};else if(e instanceof dC)n={delete:gg(t,e.key)};else if(e instanceof oi)n={update:U0(t,e.key,e.data),updateMask:Y3(e.fieldMask)};else{if(!(e instanceof C3))return ie(16599,{Vt:e.type});n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof th)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:F3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie(27497)}(t,e.precondition)),n}function B3(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?mr(s.updateTime):mr(i);return o.isEqual(le.min())&&(o=mr(i)),new S3(o,s.transformResults||[])}(n,e))):[]}function W3(t,e){return{documents:[vC(t,e.path)]}}function H3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vC(t,s);const i=function(d){if(d.length!==0)return wC(_r.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:mo(p.field),direction:K3(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function q3(t){let e=U3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=xC(f);return p instanceof _r&&QI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(I){return new Zd(go(I.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Bh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,y=f.values||[];return new Jd(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new Jd(y,p)}(n.endAt)),u3(e,s,o,i,a,"F",u,d)}function G3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=go(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=go(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=go(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=go(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(go(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>xC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function K3(t){return O3[t]}function Q3(t){return M3[t]}function X3(t){return L3[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return St.fromServerFormat(t.fieldPath)}function wC(t){return t instanceof ht?function(n){if(n.op==="=="){if(C0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:Q3(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(s=>wC(s));return r.length===1?r[0]:{compositeFilter:{op:X3(n.op),filters:r}}}(t):ie(54877,{filter:t})}function Y3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _C(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,s,i=le.min(),o=le.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.yt=e}}function Z3(t){const e=q3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.Cn=new t6}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ks.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class t6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EC=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(EC,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ba(0)}static cr(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="LruGarbageCollector",n6=1048576;function B0([t,e],[n,r]){const s=ye(t,n);return s===0?ye(e,r):s}class r6{constructor(e){this.Ir=e,this.buffer=new mt(B0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();B0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){za(n)?G(z0,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.Vr(3e5)})}}class i6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(zh.ce);const r=new r6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve($0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),fo()<=ve.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function o6(t,e){return new i6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zl(r.mutation,s,pn.empty(),Fe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Tl();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Gr();const o=$l(),a=function(){return $l()}();return n.forEach((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof oi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),zl(h.mutation,d,h.mutation.getFieldMask(),Fe.now())):o.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new l6(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=$l();let s=new Qe((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||pn.empty();h=a.applyToLocalView(d,h),r.set(u,h);const f=(s.get(a.batchId)||xe()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,h=u.value,f=rC();h.forEach(p=>{if(!i.has(p)){const y=cC(n.get(p),r.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ei());let a=hc,u=i;return o.next(d=>U.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,xe())).next(h=>({batchId:a,changes:nC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=Tl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Tl();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,u=>{const d=function(f,p){return new Hh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Dt.newInvalidDocument(h)))});let a=Tl();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&zl(h.mutation,d,pn.empty(),Fe.now()),Gh(n,d)&&(a=a.insert(u,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:mr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Z3(s.bundledQuery),readTime:mr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.overlays=new Qe(te.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ei(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ei(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ei(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new A3(n,r));let i=this.qr.get(n);i===void 0&&(i=xe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Qr=new mt(yt.$r),this.Ur=new mt(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new qe([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new qe([])),r=new yt(n,e),s=new yt(n,e+1);let i=xe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new yt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||ye(e.Yr,n.Yr)}static Kr(e,n){return ye(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mt(yt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new N3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?uy:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ye);return n.forEach(s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new yt(new te(i),0);let a=new mt(ye);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(u.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.ri=e,this.docs=function(){return new Qe(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Dt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Gr();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||BF(zF(h),r)<=0||(s.has(h.key)||Gh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ie(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new m6(this)}getSize(e){return U.resolve(this.size)}}class m6 extends a6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.persistence=e,this.si=new to(n=>fy(n),py),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new wy,this.targetCount=0,this.ai=ba.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ba(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new h6,this.referenceDelegate=e(this),this.Pi=new g6(this),this.indexManager=new e6,this.remoteDocumentCache=function(s){return new p6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new J3(n),this.Ii=new u6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new f6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new v6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class v6 extends HF{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Ri=new wy,this.Vi=null}static mi(e){return new _y(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.pi=new to(r=>KF(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=o6(this,n)}static mi(e,n){return new rh(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sd(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ey(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lL()?8:qF(Mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new y6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(fo()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(fo()<=ve.DEBUG&&G("QueryEngine","Query:",po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(fo()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):U.resolve())}ys(e,n){if(R0(n))return U.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fg(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(n,a);return this.Cs(n,d,o,u.readTime)?this.ys(e,fg(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,r,s){return R0(n)||s.isEqual(le.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(fo()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),po(n)),this.vs(e,o,n,$F(s,hc)).next(a=>a))})}Ds(e,n){let r=new mt(eC(e));return n.forEach((s,i)=>{Gh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return fo()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(e,n,Ks.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",w6=3e8;class _6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Qe(ye),this.xs=new to(i=>fy(i),py),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function E6(t,e,n,r){return new _6(t,e,n,r)}async function SC(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=xe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function T6(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,d,h){const f=d.batch,p=f.keys();let y=U.resolve();return p.forEach(I=>{y=y.next(()=>h.getEntry(u,I)).next(x=>{const S=d.docVersions.get(I);Ae(S!==null,48541),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=xe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bC(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function S6(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Ct.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(x,S,E){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=w6?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,y,h)&&a.push(n.Pi.updateTargetData(i,y))});let u=Gr(),d=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(b6(i,o,e.documentUpdates).next(h=>{u=h.ks,d=h.qs})),!r.isEqual(le.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=s,i))}function b6(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Gr();return n.forEach((a,u)=>{const d=i.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G(Ty,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:s}})}function I6(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function C6(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function yg(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!za(o))throw o;G(Ty,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function W0(t,e,n){const r=de(t);let s=le.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const f=de(u),p=f.xs.get(h);return p!==void 0?U.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,fr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:xe())).next(a=>(N6(r,f3(e),a),{documents:a,Qs:i})))}function N6(t,e,n){let r=t.Os.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class H0{constructor(){this.activeTargetIds=x3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A6{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class G0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(q0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function xg(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=xg(),a=this.zo(e,n.toUriEncodedString());G(Tp,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(a),h=La(d);return this.Jo(e,a,u,r,h).then(f=>(G(Tp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw _a(Tp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=R6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class D6 extends j6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=xg();return new Promise((a,u)=>{const d=new NI;d.setWithCredentials(!0),d.listenOnce(AI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case rd.NO_ERROR:const f=d.getResponseJson();G(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case rd.TIMEOUT:G(Pt,`RPC '${e}' ${o} timed out`),u(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const p=d.getStatus();if(G(Pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const x=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(I.status);u(new Y(x,I.message))}else u(new Y($.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Y($.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{G(Pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);G(Pt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=xg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jI(),a=RI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");G(Pt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);this.I_(f);let p=!1,y=!1;const I=new k6({Yo:S=>{y?G(Pt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(G(Pt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(Pt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),x=(S,E,w)=>{S.listen(E,b=>{try{w(b)}catch(j){setTimeout(()=>{throw j},0)}})};return x(f,El.EventType.OPEN,()=>{y||(G(Pt,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),x(f,El.EventType.CLOSE,()=>{y||(y=!0,G(Pt,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),x(f,El.EventType.ERROR,S=>{y||(y=!0,_a(Pt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),I.a_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),x(f,El.EventType.MESSAGE,S=>{var E;if(!y){const w=S.data[0];Ae(!!w,16349);const b=w,j=(b==null?void 0:b.error)||((E=b[0])==null?void 0:E.error);if(j){G(Pt,`RPC '${e}' stream ${s} received error:`,j);const D=j.status;let M=function(C){const A=rt[C];if(A!==void 0)return hC(A)}(D),_=j.message;M===void 0&&(M=$.INTERNAL,_="Unknown error status: "+D+" with message "+j.message),y=!0,I.a_(new Y(M,_)),f.close()}else G(Pt,`RPC '${e}' stream ${s} received:`,w),I.u_(w)}}),x(a,PI.STAT_EVENT,S=>{S.stat===ag.PROXY?G(Pt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===ag.NOPROXY&&G(Pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){return new V3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="PersistentStream";class CC{constructor(e,n,r,s,i,o,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(K0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O6 extends CC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$3(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?mr(o.readTime):le.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=vg(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=hg(u)?{documents:W3(i,u)}:{query:H3(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mC(i,o.resumeToken);const d=pg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=nh(i,o.snapshotVersion.toTimestamp());const d=pg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=G3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.q_(n)}}class M6 extends CC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=B3(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{}class V6 extends L6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,mg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,mg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class F6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class U6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{no(this)&&(G(Gi,"Restarting streams for network reachability change."),await async function(u){const d=de(u);d.Ea.add(4),await zc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Jh(d)}(this))})}),this.Ra=new F6(r,s)}}async function Jh(t){if(no(t))for(const e of t.da)await e(!0)}async function zc(t){for(const e of t.da)await e(!1)}function NC(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cy(n)?Iy(n):Ba(n).O_()&&by(n,e))}function Sy(t,e){const n=de(t),r=Ba(n);n.Ia.delete(e),r.O_()&&AC(n,e),n.Ia.size===0&&(r.O_()?r.L_():no(n)&&n.Ra.set("Unknown"))}function by(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).Y_(e)}function AC(t,e){t.Va.Ue(e),Ba(t).Z_(e)}function Iy(t){t.Va=new D3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.Ra.ua()}function Cy(t){return no(t)&&!Ba(t).x_()&&t.Ia.size>0}function no(t){return de(t).Ea.size===0}function PC(t){t.Va=void 0}async function $6(t){t.Ra.set("Online")}async function z6(t){t.Ia.forEach((e,n)=>{by(t,e)})}async function B6(t,e){PC(t),Cy(t)?(t.Ra.ha(e),Iy(t)):t.Ra.set("Unknown")}async function W6(t,e,n){if(t.Ra.set("Online"),e instanceof pC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){G(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof ad?t.Va.Ze(e):e instanceof fC?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await bC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),AC(i,u);const f=new Ns(h.target,u,d,h.sequenceNumber);by(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Gi,"Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!za(e))throw e;t.Ea.add(1),await zc(t),t.Ra.set("Offline"),n||(n=()=>bC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Gi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jh(t)})}function RC(t,e){return e().catch(n=>sh(t,n,e))}async function Zh(t){const e=de(t),n=Js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uy;for(;H6(e);)try{const s=await I6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,q6(e,s)}catch(s){await sh(e,s)}jC(e)&&kC(e)}function H6(t){return no(t)&&t.Ta.length<10}function q6(t,e){t.Ta.push(e);const n=Js(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jC(t){return no(t)&&!Js(t).x_()&&t.Ta.length>0}function kC(t){Js(t).start()}async function G6(t){Js(t).ra()}async function K6(t){const e=Js(t);for(const n of t.Ta)e.ea(n.mutations)}async function Q6(t,e,n){const r=t.Ta.shift(),s=vy.from(r,e,n);await RC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Zh(t)}async function X6(t,e){e&&Js(t).X_&&await async function(r,s){if(function(o){return R3(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Js(r).B_(),await RC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Zh(r)}}(t,e),jC(t)&&kC(t)}async function Q0(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),G(Gi,"RemoteStore received new credentials");const r=no(n);n.Ea.add(3),await zc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jh(n)}async function Y6(t,e){const n=de(t);e?(n.Ea.delete(2),await Jh(n)):e||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function Ba(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new O6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:$6.bind(null,t),t_:z6.bind(null,t),r_:B6.bind(null,t),H_:W6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Cy(t)?Iy(t):t.Ra.set("Unknown")):(await t.ma.stop(),PC(t))})),t.ma}function Js(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new M6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:G6.bind(null,t),r_:X6.bind(null,t),ta:K6.bind(null,t),na:Q6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Zh(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Gi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ny(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(t,e){if(qr("AsyncQueue",`${e}: ${t}`),za(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.ga=new Qe(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ia{constructor(e,n,r,s,i,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ia(e,n,zo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Z6{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=Y0(),i.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function Y0(){return new to(t=>ZI(t),qh)}async function eU(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new J6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ay(o,`Initialization of query '${po(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Py(n)}async function tU(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nU(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Py(n)}function rU(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Py(t){t.Ca.forEach(e=>{e.next()})}var wg,J0;(J0=wg||(wg={})).Ma="default",J0.Cache="cache";class sU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.key=e}}class OC{constructor(e){this.key=e}}class iU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=eC(e),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new X0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=Gh(this.query,f)?f:null,I=!!p&&this.mutatedKeys.has(p.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;p&&y?p.data.isEqual(y.data)?I!==x&&(r.track({type:3,doc:y}),S=!0):this.su(p,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.eu(y,u)>0||d&&this.eu(y,d)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),S=!0):p&&!y&&(r.track({type:1,doc:p}),S=!0,(u||d)&&(a=!0)),S&&(y?(o=o.add(y),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,I){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:S})}};return x(y)-x(I)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Ia(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new OC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new DC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ry="SyncEngine";class oU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aU{constructor(e){this.key=e,this.hu=!1}}class lU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new to(a=>ZI(a),qh),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(te.comparator),this.Au=new Map,this.Ru=new wy,this.Vu={},this.mu=new Map,this.fu=ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cU(t,e,n=!0){const r=$C(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await MC(r,e,n,!0),s}async function uU(t,e){const n=$C(t);await MC(n,e,!0,!1)}async function MC(t,e,n,r){const s=await C6(t.localStore,fr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await dU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&NC(t.remoteStore,s),a}async function dU(t,e,n,r,s){t.pu=(f,p,y)=>async function(x,S,E,w){let b=S.view.ru(E);b.Cs&&(b=await W0(x.localStore,S.query,!1).then(({documents:_})=>S.view.ru(_,b)));const j=w&&w.targetChanges.get(S.targetId),D=w&&w.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(b,x.isPrimaryClient,j,D);return eE(x,S.targetId,M.au),M.snapshot}(t,f,p,y);const i=await W0(t.localStore,e,!0),o=new iU(e,i.Qs),a=o.ru(i.documents),u=$c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,u);eE(t,n,d.au);const h=new oU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function hU(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!qh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Sy(r.remoteStore,s.targetId),_g(r,s.targetId)}).catch($a)):(_g(r,s.targetId),await yg(r.localStore,s.targetId,!0))}async function fU(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function pU(t,e,n){const r=_U(t);try{const s=await function(o,a){const u=de(o),d=Fe.now(),h=a.reduce((y,I)=>y.add(I.key),xe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Gr(),x=xe();return u.Ns.getEntries(y,h).next(S=>{I=S,I.forEach((E,w)=>{w.isValidDocument()||(x=x.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(S=>{f=S;const E=[];for(const w of a){const b=I3(w,f.get(w.key).overlayedDocument);b!=null&&E.push(new oi(w.key,b,qI(b.value.mapValue),pr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,E,a)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(f,x);return u.documentOverlayCache.saveOverlays(y,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:nC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Qe(ye)),d=d.insert(a,u),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Bc(r,s.changes),await Zh(r.remoteStore)}catch(s){const i=Ay(s,"Failed to persist write");n.reject(i)}}async function LC(t,e){const n=de(t);try{const r=await S6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await Bc(n,r,e)}catch(r){await $a(r)}}function Z0(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=de(o);u.onlineState=a;let d=!1;u.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&Py(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mU(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(te.comparator);o=o.insert(i,Dt.newNoDocument(i,le.min()));const a=xe().add(i),u=new Xh(le.min(),new Map,new Qe(ye),o,a);await LC(r,u),r.du=r.du.remove(i),r.Au.delete(e),jy(r)}else await yg(r.localStore,e,!1).then(()=>_g(r,e,n)).catch($a)}async function gU(t,e){const n=de(t),r=e.batch.batchId;try{const s=await T6(n.localStore,e);FC(n,r,null),VC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,s)}catch(s){await $a(s)}}async function vU(t,e,n){const r=de(t);try{const s=await function(o,a){const u=de(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ae(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(d,f))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);FC(r,e,n),VC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,s)}catch(s){await $a(s)}}function VC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function FC(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function _g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||UC(t,r)})}function UC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),jy(t))}function eE(t,e,n){for(const r of n)r instanceof DC?(t.Ru.addReference(r.key,e),yU(t,r)):r instanceof OC?(G(Ry,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UC(t,r.key)):ie(19791,{wu:r})}function yU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(Ry,"New document in limbo: "+n),t.Eu.add(r),jy(t))}function jy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(qe.fromString(e)),r=t.fu.next();t.Au.set(r,new aU(n)),t.du=t.du.insert(n,r),NC(t.remoteStore,new Ns(fr(my(n.path)),r,"TargetPurposeLimboResolution",zh.ce))}}async function Bc(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Ey.As(u.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,d){const h=de(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(d,p=>U.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>U.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!za(f))throw f;G(Ty,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.Ms.get(p),I=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(I);h.Ms=h.Ms.insert(p,x)}}}(r.localStore,i))}async function xU(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){G(Ry,"User change. New user:",e.toKey());const r=await SC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new Y($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(n,r.Ls)}}function wU(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let s=xe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function $C(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mU.bind(null,e),e.Pu.H_=nU.bind(null,e.eventManager),e.Pu.yu=rU.bind(null,e.eventManager),e}function _U(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vU.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return E6(this.persistence,new x6,e.initialUser,this.serializer)}Cu(e){return new TC(_y.mi,this.serializer)}Du(e){return new A6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class EU extends ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new s6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new TC(r=>rh.mi(r,n),this.serializer)}}class Eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xU.bind(null,this.syncEngine),await Y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Z6}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=function(i){return new D6(i)}(e.databaseInfo);return function(i,o,a,u){return new V6(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new U6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Z0(this.syncEngine,n,0),function(){return G0.v()?new G0:new P6}())}createSyncEngine(e,n){return function(s,i,o,a,u,d,h){const f=new lU(s,i,o,a,u,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);G(Gi,"RemoteStore shutting down."),i.Ea.add(5),await zc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class SU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jt.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ay(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bp(t,e){t.asyncQueue.verifyOperationInProgress(),G(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bU(t);G(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Q0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Q0(e.remoteStore,s)),t._onlineComponents=e}async function bU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Zs,"Using user provided OfflineComponentProvider");try{await bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await bp(t,new ih)}}else G(Zs,"Using default OfflineComponentProvider"),await bp(t,new EU(void 0));return t._offlineComponents}async function zC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Zs,"Using user provided OnlineComponentProvider"),await tE(t,t._uninitializedComponentsProvider._online)):(G(Zs,"Using default OnlineComponentProvider"),await tE(t,new Eg))),t._onlineComponents}function IU(t){return zC(t).then(e=>e.syncEngine)}async function CU(t){const e=await zC(t),n=e.eventManager;return n.onListen=cU.bind(null,e.syncEngine),n.onUnlisten=hU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fU.bind(null,e.syncEngine),n}function NU(t,e,n={}){const r=new zs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const h=new TU({next:p=>{h.Nu(),o.enqueueAndForget(()=>tU(i,f));const y=p.docs.has(a);!y&&p.fromCache?d.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?d.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new sU(my(a.path),h,{includeMetadataChanges:!0,qa:!0});return eU(i,f)}(await CU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firestore.googleapis.com",rE=!0;class sE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WC,this.ssl=rE}else this.host=e.host,this.ssl=e.ssl??rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n6)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ky{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AF;switch(r.type){case"firstParty":return new kF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nE.get(n);r&&(G("ComponentProvider","Removing Datastore"),nE.delete(n),r.terminate())}(this),Promise.resolve()}}function AU(t,e,n,r={}){var d;t=qi(t,ky);const s=La(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Bb(`https://${a}`),Wb("Firestore",!0)),i.host!==WC&&i.host!==a&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!zi(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=jt.MOCK_USER;else{h=ZM(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jt(p)}t._authCredentials=new PF(new DI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dy(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fc(n,pt._jsonSchema))return new pt(e,r||null,new te(qe.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:it("string",pt._jsonSchemaVersion),referencePath:it("string")};class yc extends Dy{constructor(e,n,r){super(e,n,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new te(e))}withConverter(e){return new yc(this.firestore,e,this._path)}}function Ip(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=ly.newId()),FF("doc","path",e),t instanceof ky){const r=qe.fromString(e,...n);return y0(r),new pt(t,null,new te(r))}{if(!(t instanceof pt||t instanceof yc))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return y0(r),new pt(t.firestore,t instanceof yc?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IC(this,"async_queue_retry"),this._c=()=>{const r=Sp();r&&G(iE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!za(e))throw e;G(iE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",aE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ny.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ie(47125,{Pc:aE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ef extends ky{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new oE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function PU(t,e){const n=typeof t=="object"?t:Kb(),r=typeof t=="string"?t:Xd,s=Xv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=YM("firestore");i&&AU(s,...i)}return s}function HC(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RU(t),t._firestoreClient}function RU(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,d,h){return new YF(a,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Ct.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fc(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:it("string",Sn._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(Fc(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:it("string",gr._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fc(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new vr(e.vectorValues);throw new Y($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:it("string",vr._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=/^__.*__$/;class kU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class qC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class My{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new My({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GC(this.Ac)&&jU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}Cc(e,n,r,s=!1){return new My({Ac:e,methodName:n,Dc:r,path:St.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KC(t){const e=t._freezeSettings(),n=Yh(t._databaseId);return new DU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OU(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Ly("Data must be an object, but it was:",o,r);const a=QC(r,o);let u,d;if(i.merge)u=new pn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Tg(e,f,n);if(!o.contains(p))throw new Y($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YC(h,p)||h.push(p)}u=new pn(h),d=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,d=o.fieldTransforms;return new kU(new nn(a),u,d)}class nf extends Oy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function MU(t,e,n,r){const s=t.Cc(1,e,n);Ly("Data must be an object, but it was:",s,r);const i=[],o=nn.empty();ii(r,(u,d)=>{const h=Vy(e,u,n);d=Gt(d);const f=s.yc(h);if(d instanceof nf)i.push(h);else{const p=rf(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new pn(i);return new qC(o,a,s.fieldTransforms)}function LU(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Tg(e,r,n)],u=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Tg(e,i[p])),u.push(i[p+1]);const d=[],h=nn.empty();for(let p=a.length-1;p>=0;--p)if(!YC(d,a[p])){const y=a[p];let I=u[p];I=Gt(I);const x=o.yc(y);if(I instanceof nf)d.push(y);else{const S=rf(I,x);S!=null&&(d.push(y),h.set(y,S))}}const f=new pn(d);return new qC(h,f,o.fieldTransforms)}function rf(t,e){if(XC(t=Gt(t)))return Ly("Unsupported field value:",e,t),QC(t,e);if(t instanceof Oy)return function(r,s){if(!GC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=rf(a,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Fe.fromDate(r);return{timestampValue:nh(s.serializer,i)}}if(r instanceof Fe){const i=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(s.serializer,i)}}if(r instanceof gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:mC(s.serializer,r._byteString)};if(r instanceof pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof vr)return function(o,a){return{mapValue:{fields:{[BI]:{stringValue:HI},[Yd]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return gy(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${cy(r)}`)}(t,e)}function QC(t,e){const n={};return LI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,s)=>{const i=rf(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function XC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof gr||t instanceof Sn||t instanceof pt||t instanceof Oy||t instanceof vr)}function Ly(t,e,n){if(!XC(n)||!OI(n)){const r=cy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Tg(t,e,n){if((e=Gt(e))instanceof tf)return e._internalPath;if(typeof e=="string")return Vy(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const VU=new RegExp("[~\\*/\\[\\]]");function Vy(t,e,n){if(e.search(VU)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tf(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Y($.INVALID_ARGUMENT,a+t+u)}function YC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FU extends JC{data(){return super.data()}}function ZC(t,e){return typeof e=="string"?Vy(t,e):e instanceof tf?e._internalPath:e._delegate._internalPath}class UU{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ii(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Yd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>tt(o.doubleValue));return new vr(n)}convertGeoPoint(e){return new gr(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ae(_C(r),9688,{name:e});const s=new pc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||qr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends JC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ZC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ki._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",ki._jsonSchema={type:it("string",ki._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class ld extends ki{data(e={}){return super.data(e)}}class Bl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ld(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new ld(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new ld(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:zU(a.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){t=qi(t,pt);const e=qi(t.firestore,ef);return NU(HC(e),t._key).then(n=>GU(e,t,n))}Bl._jsonSchemaVersion="firestore/querySnapshot/1.0",Bl._jsonSchema={type:it("string",Bl._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class WU extends UU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function HU(t,e,n){t=qi(t,pt);const r=qi(t.firestore,ef),s=$U(t.converter,e,n);return eN(r,[OU(KC(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,pr.none())])}function qU(t,e,n,...r){t=qi(t,pt);const s=qi(t.firestore,ef),i=KC(s);let o;return o=typeof(e=Gt(e))=="string"||e instanceof tf?LU(i,"updateDoc",t._key,e,n,r):MU(i,"updateDoc",t._key,e),eN(s,[o.toMutation(t._key,pr.exists(!0))])}function eN(t,e){return function(r,s){const i=new zs;return r.asyncQueue.enqueueAndForget(async()=>pU(await IU(r),s,i)),i.promise}(HC(t),e)}function GU(t,e,n){const r=n.docs.get(e._key),s=new WU(t);return new ki(t,s,e._key,r,new bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ua=s})(Va),xa(new Bi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ef(new RF(r.getProvider("auth-internal")),new DF(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Us(p0,m0,e),Us(p0,m0,"esm2020")})();const KU={apiKey:"AIzaSyApDku-geNVplwIgRBz2U0rs46aAVo-_mE",authDomain:"aios-97581.firebaseapp.com",projectId:"aios-97581",storageBucket:"aios-97581.appspot.com",messagingSenderId:"307575156824",appId:"1:307575156824:web:00924bd384df1f29909a2d"},tN=Gb(KU),Cp=CF(tN),Np=PU(tN),Fy=new Rr;Fy.addScope("email");Fy.addScope("profile");class Ap{static async signInWithGoogle(){try{const n=(await M4(Cp,Fy)).user;return await this.saveUserToFirestore(n),n}catch(e){throw console.error("Google sign-in error:",e),e}}static async signOut(){try{await g4(Cp)}catch(e){throw console.error("Sign-out error:",e),e}}static onAuthStateChanged(e){return m4(Cp,e)}static async saveUserToFirestore(e){try{const n=Ip(Np,"users",e.uid),r={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"light",notifications:!0,language:"en"}};await HU(n,r,{merge:!0})}catch(n){throw console.error("Error saving user to Firestore:",n),n}}static async getUserData(e){try{const n=Ip(Np,"users",e),r=await BU(n);if(r.exists())return r.data();throw new Error("User data not found")}catch(n){throw console.error("Error getting user data:",n),n}}static async updateUserData(e,n){try{const r=Ip(Np,"users",e);await qU(r,{...n,updatedAt:new Date})}catch(r){throw console.error("Error updating user data:",r),r}}}const nN=g.createContext(void 0);function QU({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(!0);g.useEffect(()=>Ap.onAuthStateChanged(d=>{n(d),s(!1)}),[]);const a={user:e,loading:r,signInWithGoogle:async()=>{try{s(!0),await Ap.signInWithGoogle()}catch(u){throw console.error("Sign-in error:",u),u}finally{s(!1)}},signOut:async()=>{try{s(!0),await Ap.signOut()}catch(u){throw console.error("Sign-out error:",u),u}finally{s(!1)}},isAuthenticated:!!e};return l.jsx(nN.Provider,{value:a,children:t})}function Wc(){const t=g.useContext(nN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const me=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("glass-card rounded-lg border bg-card/80 backdrop-blur-xl text-card-foreground shadow-sm transition-all duration-300 hover:shadow-lg",t),...e}));me.displayName="Card";const De=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));De.displayName="CardHeader";const Ue=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight cyber-text",t),...e}));Ue.displayName="CardTitle";const XU=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));XU.displayName="CardDescription";const Ie=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));Ie.displayName="CardContent";const YU=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));YU.displayName="CardFooter";function JU(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4",children:l.jsx(me,{className:"w-full max-w-md",children:l.jsxs(Ie,{className:"p-8 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-accent rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"fas fa-robot text-white text-2xl"})}),l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AuraOS"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-Powered Social Media Platform"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Loading your workspace..."}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),l.jsxs("div",{className:"text-left space-y-2 text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Initializing AI systems"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Loading social media integrations"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),l.jsx("span",{children:"Connecting to Firestore database"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-muted rounded-full"}),l.jsx("span",{children:"Preparing your dashboard"})]})]})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Powered by advanced AI"}),l.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-brain text-primary"}),l.jsx("span",{children:"Smart Agents"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-share-alt text-accent"}),l.jsx("span",{children:"Auto Posting"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-chart-line text-green-500"}),l.jsx("span",{children:"Analytics"})]})]})]})]})})})}const ZU=Rc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 relative overflow-hidden",{variants:{variant:{default:"neon-button bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 neon-glow-md hover:neon-glow-lg",destructive:"bg-gradient-to-r from-destructive to-red-500 text-destructive-foreground hover:from-destructive/90 hover:to-red-500/90 neon-glow-md hover:neon-glow-lg",outline:"border border-primary/50 bg-transparent hover:bg-primary/10 hover:text-primary hover:border-primary neon-glow-sm hover:neon-glow-md",secondary:"bg-gradient-to-r from-secondary to-secondary/80 text-secondary-foreground hover:from-secondary/90 hover:to-secondary/70 neon-glow-sm hover:neon-glow-md",ghost:"hover:bg-primary/10 hover:text-primary transition-all duration-300",link:"text-primary underline-offset-4 hover:underline neon-text",neon:"neon-button bg-gradient-to-r from-primary via-accent to-primary text-primary-foreground animate-neon-pulse hover:animate-none",cyber:"cyber-border bg-gradient-to-r from-primary/20 to-accent/20 text-primary hover:from-primary/30 hover:to-accent/30 animate-cyber-border",holographic:"holographic text-white font-bold animate-holographic-shift"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xl:"h-12 rounded-lg px-10 text-base"}},defaultVariants:{variant:"default",size:"default"}}),Z=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?V2:"button";return l.jsx(o,{className:ce(ZU({variant:e,size:n,className:t})),ref:i,...s})});Z.displayName="Button";const e5=Rc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zt=g.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ce(e5({variant:e}),t),...n}));zt.displayName="Alert";const t5=g.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",t),...e}));t5.displayName="AlertTitle";const Bt=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",t),...e}));Bt.displayName="AlertDescription";var n5="Separator",lE="horizontal",r5=["horizontal","vertical"],rN=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=lE,...s}=t,i=s5(r)?r:lE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(se.div,{"data-orientation":i,...a,...s,ref:e})});rN.displayName=n5;function s5(t){return r5.includes(t)}var sN=rN;const Xn=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>l.jsx(sN,{ref:s,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Xn.displayName=sN.displayName;function i5(){const{signInWithGoogle:t,loading:e}=Wc(),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=async()=>{try{r(null),i(!0),await t()}catch(a){r(a.message||"Failed to sign in with Google")}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-primary to-accent rounded-3xl flex items-center justify-center mx-auto mb-6",children:l.jsx("i",{className:"fas fa-robot text-white text-3xl"})}),l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"AuraOS"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"AI-Powered Social Media Automation"})]}),l.jsxs(me,{className:"shadow-2xl border-0 bg-card/80 backdrop-blur-sm",children:[l.jsxs(De,{className:"text-center pb-4",children:[l.jsx(Ue,{className:"text-2xl font-semibold",children:"Welcome Back"}),l.jsx("p",{className:"text-muted-foreground",children:"Sign in to access your AI-powered social media dashboard"})]}),l.jsxs(Ie,{className:"space-y-6",children:[n&&l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:n})}),l.jsx(Z,{onClick:o,disabled:s||e,className:"w-full h-12 text-base font-medium bg-white hover:bg-gray-50 text-gray-900 border border-gray-300 shadow-sm",variant:"outline",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-900 mr-3"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),l.jsx(Xn,{className:"my-6",children:l.jsx("span",{className:"text-xs text-muted-foreground bg-card px-2",children:"or"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium text-foreground text-center",children:"What you'll get access to:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fas fa-robot text-primary"}),l.jsx("span",{children:"AI Agents"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fas fa-share-alt text-accent"}),l.jsx("span",{children:"Auto Posting"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fas fa-chart-line text-green-500"}),l.jsx("span",{children:"Analytics"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fab fa-telegram text-blue-500"}),l.jsx("span",{children:"Telegram Bot"})]})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing in, you agree to our"," ",l.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})})]})]}),l.jsx("div",{className:"text-center mt-8",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"Powered by Firebase • Secure Authentication • Cloud Storage"})})]})})}function o5({children:t}){const{user:e,loading:n,isAuthenticated:r}=Wc();return n?l.jsx(JU,{}):r?l.jsx(l.Fragment,{children:t}):l.jsx(i5,{})}var Uy="Avatar",[a5,mz]=Kn(Uy),[l5,iN]=a5(Uy),oN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return l.jsx(l5,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(se.span,{...r,ref:e})})});oN.displayName=Uy;var aN="AvatarImage",lN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=iN(aN,n),a=c5(r,i),u=Ze(d=>{s(d),o.onImageLoadingStatusChange(d)});return ot(()=>{a!=="idle"&&u(a)},[a,u]),a==="loaded"?l.jsx(se.img,{...i,ref:e,src:r}):null});lN.displayName=aN;var cN="AvatarFallback",uN=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=iN(cN,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(u)}},[r]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(se.span,{...s,ref:e}):null});uN.displayName=cN;function cE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function c5(t,{referrerPolicy:e,crossOrigin:n}){const r=d5(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=g.useState(()=>cE(i,t));return ot(()=>{a(cE(i,t))},[i,t]),ot(()=>{const u=f=>()=>{a(f)};if(!i)return;const d=u("loaded"),h=u("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}function u5(){return()=>{}}function d5(){return g.useSyncExternalStore(u5,()=>!0,()=>!1)}var dN=oN,hN=lN,fN=uN;const Bo=g.forwardRef(({className:t,...e},n)=>l.jsx(dN,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Bo.displayName=dN.displayName;const sf=g.forwardRef(({className:t,...e},n)=>l.jsx(hN,{ref:n,className:ce("aspect-square h-full w-full",t),...e}));sf.displayName=hN.displayName;const Wo=g.forwardRef(({className:t,...e},n)=>l.jsx(fN,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wo.displayName=fN.displayName;const h5=[{name:"Dashboard",href:"/",icon:"fas fa-home"},{name:"Social Feed",href:"/social-feed",icon:"fas fa-users",hasNotification:!0},{name:"Workflows",href:"/workflows",icon:"fas fa-project-diagram"},{name:"AI Agents",href:"/ai-agents",icon:"fas fa-robot"},{name:"Smart Learning",href:"/smart-learning",icon:"fas fa-brain"},{name:"AI Tools",href:"/advanced-ai-tools",icon:"fas fa-tools"},{name:"Telegram",href:"/telegram",icon:"fab fa-telegram"},{name:"Analytics",href:"/analytics",icon:"fas fa-chart-bar"},{name:"Settings",href:"/settings",icon:"fas fa-cog"}];function ro(){var s,i,o;const[t]=Gk(),{user:e,signOut:n}=Wc();qt({queryKey:["userData",e==null?void 0:e.uid],queryFn:()=>e!=null&&e.uid?Promise.resolve({displayName:e.displayName,email:e.email}):null,enabled:!!(e!=null&&e.uid)});const r=async()=>{try{await n()}catch(a){console.error("Sign out error:",a)}};return l.jsxs("div",{className:"w-64 glass-card border-r border-border/50 flex flex-col backdrop-blur-xl cyber-scrollbar",children:[l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 gradient-cyber-primary rounded-xl flex items-center justify-center neon-glow-lg animate-neon-pulse",children:l.jsx("i",{className:"fas fa-robot text-white text-lg"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-bold text-xl neon-text animate-neon-flicker",children:"AuraOS"}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"v2.0"})]})]})}),l.jsx("nav",{className:"flex-1 px-4 pb-4",children:l.jsx("ul",{className:"space-y-2",children:h5.map(a=>{const u=t===a.href;return l.jsx("li",{children:l.jsx(Xk,{href:a.href,children:l.jsxs("a",{className:ce("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group relative overflow-hidden",u?"gradient-cyber-primary text-white neon-glow-lg animate-neon-pulse":"text-muted-foreground hover:text-foreground hover:bg-primary/10 hover:neon-glow-sm hover:border-primary/30 border border-transparent"),"data-testid":`nav-${a.name.toLowerCase().replace(" ","-")}`,children:[l.jsx("i",{className:`${a.icon} w-5 transition-transform duration-300 group-hover:scale-110`}),l.jsx("span",{className:"font-medium",children:a.name}),a.hasNotification&&l.jsx("div",{className:"ml-auto w-2 h-2 bg-accent rounded-full animate-neon-pulse neon-glow-sm"}),u&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-cyber-scan"})]})})},a.name)})})}),l.jsx(Xn,{className:"bg-border/30"}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-primary/10 transition-all duration-300 group",children:[l.jsxs(Bo,{className:"w-10 h-10 border border-primary/30 neon-glow-sm group-hover:neon-glow-md transition-all duration-300",children:[l.jsx(sf,{src:(e==null?void 0:e.photoURL)||void 0,alt:(e==null?void 0:e.displayName)||"User"}),l.jsx(Wo,{className:"bg-gradient-to-r from-primary/20 to-accent/20 text-primary font-bold",children:((s=e==null?void 0:e.displayName)==null?void 0:s.split(" ").map(a=>a[0]).join(""))||((o=(i=e==null?void 0:e.email)==null?void 0:i[0])==null?void 0:o.toUpperCase())||"U"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-foreground truncate neon-text","data-testid":"text-user-name",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"user@example.com"})]}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:r,"data-testid":"button-sign-out",title:"Sign Out",className:"hover:bg-primary/20 hover:text-primary transition-all duration-300 neon-glow-sm hover:neon-glow-md",children:l.jsx("i",{className:"fas fa-sign-out-alt"})})]})})]})}function so({title:t,subtitle:e,actions:n}){return l.jsx("header",{className:"glass-card border-b border-border/50 px-6 py-4 backdrop-blur-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold neon-text animate-neon-flicker","data-testid":"text-page-title",children:t}),e&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":"text-page-subtitle",children:e})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Z,{variant:"ghost",size:"sm",className:"relative neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-notifications",children:[l.jsx("i",{className:"fas fa-bell text-lg"}),l.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full animate-neon-pulse neon-glow-sm"})]}),n]})]})})}function f5(){var r,s,i,o;const{data:t,isLoading:e}=qt({queryKey:["/api/users/user-1/stats"]});if(e)return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((a,u)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-3",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),l.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})},u))});const n=[{title:"Total Posts",value:((r=t==null?void 0:t.totalPosts)==null?void 0:r.toLocaleString())||"0",change:"+12%",changeText:"from last month",icon:"fas fa-file-alt",iconBg:"bg-primary/10",iconColor:"text-primary",isPositive:!0,testId:"stat-total-posts"},{title:"Active Agents",value:((s=t==null?void 0:t.activeAgents)==null?void 0:s.toString())||"0",change:"+3",changeText:"new this week",icon:"fas fa-robot",iconBg:"bg-accent/10",iconColor:"text-accent",isPositive:!0,testId:"stat-active-agents"},{title:"Engagement Rate",value:`${((i=t==null?void 0:t.engagementRate)==null?void 0:i.toFixed(1))||"0.0"}%`,change:"+0.8%",changeText:"from last week",icon:"fas fa-heart",iconBg:"bg-green-500/10",iconColor:"text-green-500",isPositive:!0,testId:"stat-engagement-rate"},{title:"Automations Run",value:((o=t==null?void 0:t.automationsRun)==null?void 0:o.toLocaleString())||"0",change:"+24%",changeText:"efficiency gain",icon:"fas fa-bolt",iconBg:"bg-blue-500/10",iconColor:"text-blue-500",isPositive:!0,testId:"stat-automations-run"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(a=>l.jsx(me,{className:"p-6","data-testid":a.testId,children:l.jsxs(Ie,{className:"p-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:a.title}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":`${a.testId}-value`,children:a.value})]}),l.jsx("div",{className:`w-12 h-12 ${a.iconBg} rounded-lg flex items-center justify-center`,children:l.jsx("i",{className:`${a.icon} ${a.iconColor} text-xl`})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-sm ${a.isPositive?"text-green-600":"text-red-600"}`,"data-testid":`${a.testId}-change`,children:a.change}),l.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`${a.testId}-change-text`,children:a.changeText})]})]})},a.testId))})}const p5=Rc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wt({className:t,variant:e,...n}){return l.jsx("div",{className:ce(p5({variant:e}),t),...n})}function pN({post:t}){const[e,n]=g.useState(!1),r=si(),s=tn({mutationFn:async()=>pa("POST",`/api/posts/${t.id}/like`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/posts"]}),n(!0)}}),i=o=>{const a=new Date,u=new Date(o),d=Math.floor((a.getTime()-u.getTime())/(1e3*60*60));return d<1?"Just now":d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`};return l.jsx(me,{className:"overflow-hidden transition-all duration-200 hover:shadow-md","data-testid":`post-card-${t.id}`,children:l.jsxs(Ie,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs(Bo,{className:"w-12 h-12",children:[l.jsx(sf,{src:t.author.identityIcon||void 0,alt:t.author.identityName}),l.jsx(Wo,{children:t.author.identityName.split(" ").map(o=>o[0]).join("")})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"font-semibold text-foreground","data-testid":`text-author-${t.id}`,children:t.author.identityName}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",t.author.username]}),l.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),l.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`text-timestamp-${t.id}`,children:i(t.createdAt||new Date)}),t.isAiGenerated&&l.jsxs(Wt,{variant:"secondary",className:"ml-auto bg-primary/10 text-primary","data-testid":`badge-ai-generated-${t.id}`,children:[l.jsx("i",{className:"fas fa-robot mr-1"}),"AI Enhanced"]})]}),l.jsx("p",{className:"text-foreground mb-4 whitespace-pre-wrap","data-testid":`text-content-${t.id}`,children:t.content}),t.imageUrl&&l.jsx("img",{src:t.imageUrl,alt:"Post content",className:"w-full h-48 object-cover rounded-lg mb-4","data-testid":`img-content-${t.id}`})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs(Z,{variant:"ghost",size:"sm",className:`flex items-center gap-2 transition-colors ${e?"text-red-500":"text-muted-foreground hover:text-red-500"}`,onClick:()=>s.mutate(),disabled:s.isPending,"data-testid":`button-like-${t.id}`,children:[l.jsx("i",{className:e?"fas fa-heart":"far fa-heart"}),l.jsx("span",{"data-testid":`text-likes-${t.id}`,children:e?t.likes+1:t.likes})]}),l.jsxs(Z,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors","data-testid":`button-comment-${t.id}`,children:[l.jsx("i",{className:"fas fa-comment"}),l.jsx("span",{"data-testid":`text-comments-${t.id}`,children:t.comments})]}),l.jsxs(Z,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-muted-foreground hover:text-green-500 transition-colors","data-testid":`button-share-${t.id}`,children:[l.jsx("i",{className:"fas fa-retweet"}),l.jsx("span",{"data-testid":`text-shares-${t.id}`,children:t.shares})]})]}),l.jsx(Z,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground","data-testid":`button-bookmark-${t.id}`,children:l.jsx("i",{className:"far fa-bookmark"})})]})]})})}function mN({template:t,showActions:e=!1}){const{toast:n}=jv(),r=si(),s=tn({mutationFn:async()=>(await pa("POST",`/api/agent-templates/${t.id}/use`),pa("POST","/api/user-agents",{userId:"user-1",templateId:t.id,name:t.name,config:t.config,isActive:!0})),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/user-agents"]}),r.invalidateQueries({queryKey:["/api/agent-templates"]}),n({title:"Agent created!",description:`${t.name} has been added to your agents.`})},onError:()=>{n({title:"Error",description:"Failed to create agent. Please try again.",variant:"destructive"})}}),i=o=>{const a={Content:"from-blue-500 to-purple-500",Engagement:"from-green-500 to-teal-500",Analytics:"from-orange-500 to-red-500",default:"from-gray-500 to-gray-600"};return a[o]||a.default};return l.jsx(me,{className:"transition-all duration-200 hover:shadow-md cursor-pointer","data-testid":`agent-template-${t.id}`,children:l.jsx(Ie,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${i(t.category)} rounded-lg flex items-center justify-center flex-shrink-0`,children:l.jsx("i",{className:`${t.icon} text-white text-sm`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-foreground","data-testid":`text-name-${t.id}`,children:t.name}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3","data-testid":`text-description-${t.id}`,children:t.description}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.isPopular&&l.jsx(Wt,{variant:"default",className:"bg-primary/10 text-primary","data-testid":`badge-popular-${t.id}`,children:"Popular"}),l.jsx(Wt,{variant:"outline","data-testid":`badge-category-${t.id}`,children:t.category}),l.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`text-usage-${t.id}`,children:["Used ",t.usageCount.toLocaleString()," times"]})]}),e&&l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(Z,{size:"sm",onClick:()=>s.mutate(),disabled:s.isPending,"data-testid":`button-use-${t.id}`,children:[l.jsx("i",{className:`fas ${s.isPending?"fa-spinner fa-spin":"fa-plus"} mr-1`}),s.isPending?"Creating...":"Use Template"]}),l.jsxs(Z,{size:"sm",variant:"outline","data-testid":`button-preview-${t.id}`,children:[l.jsx("i",{className:"fas fa-eye mr-1"}),"Preview"]})]})]})]})})})}const ei=g.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ei.displayName="Input";var m5=g.createContext(void 0);function of(t){const e=g.useContext(m5);return t||e||"ltr"}function Sg(t,[e,n]){return Math.min(n,Math.max(e,t))}function g5(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var $y="ScrollArea",[gN,gz]=Kn($y),[v5,An]=gN($y),vN=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,u]=g.useState(null),[d,h]=g.useState(null),[f,p]=g.useState(null),[y,I]=g.useState(null),[x,S]=g.useState(null),[E,w]=g.useState(0),[b,j]=g.useState(0),[D,M]=g.useState(!1),[_,T]=g.useState(!1),C=Te(e,R=>u(R)),A=of(s);return l.jsx(v5,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:a,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:I,scrollbarXEnabled:D,onScrollbarXEnabledChange:M,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:j,children:l.jsx(se.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});vN.displayName=$y;var yN="ScrollAreaViewport",xN=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=An(yN,n),a=g.useRef(null),u=Te(e,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(se.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});xN.displayName=yN;var Tr="ScrollAreaScrollbar",zy=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=An(Tr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(y5,{...r,ref:e,forceMount:n}):s.type==="scroll"?l.jsx(x5,{...r,ref:e,forceMount:n}):s.type==="auto"?l.jsx(wN,{...r,ref:e,forceMount:n}):s.type==="always"?l.jsx(By,{...r,ref:e}):null});zy.displayName=Tr;var y5=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=An(Tr,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let u=0;if(a){const d=()=>{window.clearTimeout(u),o(!0)},h=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Qn,{present:n||i,children:l.jsx(wN,{"data-state":i?"visible":"hidden",...r,ref:e})})}),x5=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=An(Tr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=lf(()=>u("SCROLL_END"),100),[a,u]=g5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,s.scrollHideDelay,u]),g.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const y=d[h];f!==y&&(u("SCROLL"),o()),f=y};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,i,u,o]),l.jsx(Qn,{present:n||a!=="hidden",children:l.jsx(By,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:J(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),wN=g.forwardRef((t,e)=>{const n=An(Tr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",u=lf(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?d:h)}},10);return Ca(n.viewport,u),Ca(n.content,u),l.jsx(Qn,{present:r||i,children:l.jsx(By,{"data-state":i?"visible":"hidden",...s,ref:e})})}),By=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=An(Tr,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,u]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=bN(a.viewport,a.content),h={...r,sizes:a,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,y){return b5(p,o.current,a,y)}return n==="horizontal"?l.jsx(w5,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,y=uE(p,a,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?l.jsx(_5,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,y=uE(p,a);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),w5=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=An(Tr,t.__scopeScrollArea),[o,a]=g.useState(),u=g.useRef(null),d=Te(e,u,i.onScrollbarXChange);return g.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),l.jsx(EN,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":af(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),CN(p,f)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:lh(o.paddingLeft),paddingEnd:lh(o.paddingRight)}})}})}),_5=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=An(Tr,t.__scopeScrollArea),[o,a]=g.useState(),u=g.useRef(null),d=Te(e,u,i.onScrollbarYChange);return g.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),l.jsx(EN,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":af(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),CN(p,f)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:lh(o.paddingTop),paddingEnd:lh(o.paddingBottom)}})}})}),[E5,_N]=gN(Tr),EN=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,y=An(Tr,n),[I,x]=g.useState(null),S=Te(e,C=>x(C)),E=g.useRef(null),w=g.useRef(""),b=y.viewport,j=r.content-r.viewport,D=Ze(h),M=Ze(u),_=lf(f,10);function T(C){if(E.current){const A=C.clientX-E.current.left,R=C.clientY-E.current.top;d({x:A,y:R})}}return g.useEffect(()=>{const C=A=>{const R=A.target;(I==null?void 0:I.contains(R))&&D(A,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,I,j,D]),g.useEffect(M,[r,M]),Ca(I,_),Ca(y.content,_),l.jsx(E5,{scope:n,scrollbar:I,hasThumb:s,onThumbChange:Ze(i),onThumbPointerUp:Ze(o),onThumbPositionChange:M,onThumbPointerDown:Ze(a),children:l.jsx(se.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:J(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),E.current=I.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),T(C))}),onPointerMove:J(t.onPointerMove,T),onPointerUp:J(t.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=w.current,y.viewport&&(y.viewport.style.scrollBehavior=""),E.current=null})})})}),ah="ScrollAreaThumb",TN=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_N(ah,t.__scopeScrollArea);return l.jsx(Qn,{present:n||s.hasThumb,children:l.jsx(T5,{ref:e,...r})})}),T5=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=An(ah,n),o=_N(ah,n),{onThumbPositionChange:a}=o,u=Te(e,f=>o.onThumbChange(f)),d=g.useRef(void 0),h=lf(()=>{d.current&&(d.current(),d.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(h(),!d.current){const y=I5(f,a);d.current=y,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,h,a]),l.jsx(se.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(t.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),I=f.clientX-y.left,x=f.clientY-y.top;o.onThumbPointerDown({x:I,y:x})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});TN.displayName=ah;var Wy="ScrollAreaCorner",SN=g.forwardRef((t,e)=>{const n=An(Wy,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(S5,{...t,ref:e}):null});SN.displayName=Wy;var S5=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=An(Wy,n),[i,o]=g.useState(0),[a,u]=g.useState(0),d=!!(i&&a);return Ca(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),u(h)}),Ca(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),d?l.jsx(se.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function lh(t){return t?parseInt(t,10):0}function bN(t,e){const n=t/e;return isNaN(n)?0:n}function af(t){const e=bN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function b5(t,e,n,r="ltr"){const s=af(n),i=s/2,o=e||i,a=s-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-a,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return IN([u,d],f)(t)}function uE(t,e,n="ltr"){const r=af(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,u=n==="ltr"?[0,o]:[o*-1,0],d=Sg(t,u);return IN([0,o],[0,a])(d)}function IN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function CN(t,e){return t>0&&t<e}var I5=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function lf(t,e){const n=Ze(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ca(t,e){const n=Ze(e);ot(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var NN=vN,C5=xN,N5=SN;const AN=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(NN,{ref:r,className:ce("relative overflow-hidden",t),...n,children:[l.jsx(C5,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(PN,{}),l.jsx(N5,{})]}));AN.displayName=NN.displayName;const PN=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx(zy,{ref:r,orientation:e,className:ce("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(TN,{className:"relative flex-1 rounded-full bg-border"})}));PN.displayName=zy.displayName;function A5(t,e){const n=g.useRef(null);return g.useEffect(()=>{const s=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${t}`,i=new WebSocket(s);return n.current=i,i.onopen=()=>{console.log("WebSocket connected")},i.onmessage=o=>{try{const a=JSON.parse(o.data);e(a)}catch(a){console.error("Failed to parse WebSocket message:",a)}},i.onclose=()=>{console.log("WebSocket disconnected")},i.onerror=o=>{console.error("WebSocket error:",o)},()=>{i.close()}},[t,e]),n.current}function cf(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState([]),o=g.useRef(null);A5("/ws",h=>{console.log("WebSocket message:",h)}),qt({queryKey:["/api/chat/history"],queryFn:()=>fetch("/api/chat/history?userId=user-1&limit=10").then(h=>h.json()),enabled:t});const a=tn({mutationFn:async h=>(await pa("POST","/api/chat",{message:h,userId:"user-1"})).json(),onSuccess:h=>{i(f=>[...f,{id:Date.now().toString(),type:"ai",content:h.response,timestamp:new Date}])}}),u=()=>{if(!n.trim())return;const h={id:Date.now().toString(),type:"user",content:n,timestamp:new Date};i(f=>[...f,h]),a.mutate(n),r("")},d=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),u())};return g.useEffect(()=>{var h;(h=o.current)==null||h.scrollIntoView({behavior:"smooth"})},[s]),g.useEffect(()=>{t&&s.length===0&&i([{id:"welcome",type:"ai",content:"Hi! I'm your AI assistant. I can help you create content, set up automations, or analyze your social media performance. What would you like to do?",timestamp:new Date}])},[t]),l.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:l.jsxs("div",{className:"relative",children:[l.jsx(Z,{className:"w-14 h-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 group",onClick:()=>e(!t),"data-testid":"button-toggle-chat",children:l.jsx("i",{className:`fas ${t?"fa-times":"fa-robot"} text-lg group-hover:scale-110 transition-transform`})}),t&&l.jsxs(me,{className:"absolute bottom-16 right-0 w-80 shadow-xl","data-testid":"chat-widget",children:[l.jsx(De,{className:"p-4 border-b",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Bo,{className:"w-8 h-8",children:[l.jsx(sf,{src:"",alt:"AI Assistant"}),l.jsx(Wo,{className:"bg-gradient-to-r from-primary to-accent text-white",children:l.jsx("i",{className:"fas fa-robot text-sm"})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"AI Assistant"}),l.jsx(Wt,{variant:"secondary",className:"text-xs bg-green-500/10 text-green-600",children:"Online"})]}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>e(!1),"data-testid":"button-close-chat",children:l.jsx("i",{className:"fas fa-times"})})]})}),l.jsxs(Ie,{className:"p-0",children:[l.jsx(AN,{className:"h-60 p-4",children:l.jsxs("div",{className:"space-y-4",children:[s.map(h=>l.jsxs("div",{className:`flex gap-3 ${h.type==="user"?"justify-end":"justify-start"}`,"data-testid":`chat-message-${h.type}-${h.id}`,children:[h.type==="ai"&&l.jsx(Bo,{className:"w-6 h-6 flex-shrink-0",children:l.jsx(Wo,{className:"bg-primary text-white",children:l.jsx("i",{className:"fas fa-robot text-xs"})})}),l.jsx("div",{className:`max-w-[70%] p-3 rounded-lg text-sm ${h.type==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted text-foreground"}`,children:h.content})]},h.id)),a.isPending&&l.jsxs("div",{className:"flex gap-3 justify-start",children:[l.jsx(Bo,{className:"w-6 h-6 flex-shrink-0",children:l.jsx(Wo,{className:"bg-primary text-white",children:l.jsx("i",{className:"fas fa-robot text-xs"})})}),l.jsxs("div",{className:"bg-muted text-foreground p-3 rounded-lg text-sm",children:[l.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"AI is thinking..."]})]}),l.jsx("div",{ref:o})]})}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ei,{placeholder:"Type your message...",value:n,onChange:h=>r(h.target.value),onKeyPress:d,disabled:a.isPending,"data-testid":"input-chat-message"}),l.jsx(Z,{onClick:u,disabled:a.isPending||!n.trim(),"data-testid":"button-send-message",children:l.jsx("i",{className:"fas fa-paper-plane"})})]})})]})]})]})})}function P5(){const{data:t,isLoading:e}=qt({queryKey:["/api/posts"]}),{data:n,isLoading:r}=qt({queryKey:["/api/agent-templates"]}),{data:s,isLoading:i}=qt({queryKey:["/api/user-agents"],queryFn:()=>fetch("/api/user-agents?userId=user-1").then(o=>o.json())});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background carbon-texture",children:[l.jsx(ro,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(so,{title:"Dashboard",subtitle:"Manage your AI-powered social platform"}),l.jsx("main",{className:"flex-1 overflow-auto cyber-scrollbar",children:l.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[l.jsx(f5,{}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold neon-text animate-neon-flicker",children:"Recent Posts"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Z,{variant:"neon",size:"sm","data-testid":"filter-all",children:"All"}),l.jsx(Z,{variant:"cyber",size:"sm","data-testid":"filter-ai-generated",children:"AI Generated"}),l.jsx(Z,{variant:"outline",size:"sm","data-testid":"filter-manual",children:"Manual"})]})]}),e?l.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((o,a)=>l.jsx(me,{className:"p-6 animate-pulse",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),l.jsx("div",{className:"h-32 bg-muted rounded"})]})},a))}):l.jsx("div",{className:"space-y-6",children:t==null?void 0:t.map(o=>l.jsx(pN,{post:o},o.id))}),l.jsxs(me,{className:"relative overflow-hidden",children:[l.jsx(De,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ue,{className:"gradient-cyber-primary bg-clip-text text-transparent",children:"Visual Workflow Builder"}),l.jsx(Z,{variant:"holographic",size:"sm","data-testid":"link-open-editor",children:"Open Editor"})]})}),l.jsx(Ie,{children:l.jsxs("div",{className:"relative bg-gradient-to-br from-muted/30 to-muted/10 rounded-xl p-6 min-h-[300px] overflow-hidden border border-primary/20",children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"grid grid-cols-12 grid-rows-8 h-full w-full",children:Array.from({length:96}).map((o,a)=>l.jsx("div",{className:"border border-primary/20"},a))})}),l.jsxs("div",{className:"relative flex items-center justify-center space-x-8",children:[l.jsx("div",{className:"gradient-cyber-primary text-white px-6 py-4 rounded-xl shadow-lg cursor-move transition-all duration-300 hover:scale-105 neon-glow-md hover:neon-glow-lg animate-hologram-flicker","data-testid":"workflow-node-trigger",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("i",{className:"fas fa-play-circle text-xl"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold",children:"Trigger"}),l.jsx("div",{className:"text-xs opacity-80",children:"New Mention"})]})]})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-0.5 w-16 bg-gradient-to-r from-primary to-accent"}),l.jsx("i",{className:"fas fa-chevron-right text-primary ml-2 animate-neon-pulse"})]}),l.jsx("div",{className:"gradient-cyber-secondary text-white px-6 py-4 rounded-xl shadow-lg cursor-move transition-all duration-300 hover:scale-105 neon-glow-md hover:neon-glow-lg animate-hologram-flicker","data-testid":"workflow-node-ai",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("i",{className:"fas fa-robot text-xl"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold",children:"AI Analysis"}),l.jsx("div",{className:"text-xs opacity-80",children:"Sentiment Check"})]})]})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-0.5 w-16 bg-gradient-to-r from-accent to-primary"}),l.jsx("i",{className:"fas fa-chevron-right text-accent ml-2 animate-neon-pulse"})]}),l.jsx("div",{className:"gradient-cyber-tertiary text-white px-6 py-4 rounded-xl shadow-lg cursor-move transition-all duration-300 hover:scale-105 neon-glow-md hover:neon-glow-lg animate-hologram-flicker","data-testid":"workflow-node-action",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("i",{className:"fas fa-reply text-xl"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold",children:"Auto Reply"}),l.jsx("div",{className:"text-xs opacity-80",children:"Generate Response"})]})]})})]}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground","data-testid":"text-last-run",children:"Last run: 2 minutes ago"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-primary neon-text","data-testid":"text-successful-runs",children:"✓ 12 successful runs today"}),l.jsx("span",{className:"text-muted-foreground","data-testid":"text-errors",children:"• 0 errors"})]})]})})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(me,{className:"relative overflow-hidden",children:[l.jsx(De,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ue,{className:"gradient-cyber-primary bg-clip-text text-transparent",children:"AI Agent Templates"}),l.jsx(Z,{variant:"neon",size:"sm","data-testid":"link-view-all-templates",children:"View All"})]})}),l.jsxs(Ie,{className:"space-y-3",children:[r?l.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((o,a)=>l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},a))}):n==null?void 0:n.slice(0,3).map(o=>l.jsx(mN,{template:o},o.id)),l.jsxs(Z,{className:"w-full gradient-cyber-primary hover:gradient-cyber-secondary transition-all duration-300 neon-glow-md hover:neon-glow-lg","data-testid":"button-create-agent",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Custom Agent"]})]})]}),l.jsxs(me,{className:"relative overflow-hidden",children:[l.jsx(De,{children:l.jsx(Ue,{className:"gradient-cyber-secondary bg-clip-text text-transparent",children:"Active Automations"})}),l.jsx(Ie,{className:"space-y-4",children:i?l.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((o,a)=>l.jsx("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg animate-pulse",children:l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})},a))}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-primary/10 to-accent/10 rounded-xl border border-primary/20 neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"automation-daily-scheduler",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-neon-pulse neon-glow-sm"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-foreground neon-text",children:"Daily Content Scheduler"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Last run: 30 min ago"})]})]}),l.jsx(Z,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:l.jsx("i",{className:"fas fa-ellipsis-v"})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-accent/10 to-primary/10 rounded-xl border border-accent/20 neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"automation-engagement-tracker",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 bg-accent rounded-full animate-neon-pulse neon-glow-sm"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-foreground neon-text",children:"Engagement Tracker"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Last run: 1 hour ago"})]})]}),l.jsx(Z,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:l.jsx("i",{className:"fas fa-ellipsis-v"})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-xl border border-yellow-500/20 neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"automation-hashtag-optimizer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full animate-neon-pulse neon-glow-sm"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-foreground neon-text",children:"Hashtag Optimizer"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Paused"})]})]}),l.jsx(Z,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:l.jsx("i",{className:"fas fa-ellipsis-v"})})]})]})})]}),l.jsxs(me,{className:"relative overflow-hidden",children:[l.jsx(De,{children:l.jsx(Ue,{className:"gradient-cyber-tertiary bg-clip-text text-transparent",children:"Quick Actions"})}),l.jsx(Ie,{children:l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(Z,{variant:"ghost",className:"p-4 bg-gradient-to-br from-primary/20 to-primary/10 text-primary hover:from-primary/30 hover:to-primary/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-schedule-post",children:[l.jsx("i",{className:"fas fa-calendar-plus text-xl mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Schedule Post"})]}),l.jsxs(Z,{variant:"ghost",className:"p-4 bg-gradient-to-br from-accent/20 to-accent/10 text-accent hover:from-accent/30 hover:to-accent/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-ai-generate",children:[l.jsx("i",{className:"fas fa-sparkles text-xl mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"AI Generate"})]}),l.jsxs(Z,{variant:"ghost",className:"p-4 bg-gradient-to-br from-blue-500/20 to-blue-500/10 text-blue-400 hover:from-blue-500/30 hover:to-blue-500/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-view-analytics",children:[l.jsx("i",{className:"fas fa-chart-bar text-xl mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Analytics"})]}),l.jsxs(Z,{variant:"ghost",className:"p-4 bg-gradient-to-br from-green-500/20 to-green-500/10 text-green-400 hover:from-green-500/30 hover:to-green-500/20 h-auto flex-col neon-glow-sm hover:neon-glow-md transition-all duration-300","data-testid":"button-create-workflow",children:[l.jsx("i",{className:"fas fa-plus text-xl mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"New Agent"})]})]})})]})]})]})]})})]}),l.jsx(cf,{})]})}var Pp="focusScope.autoFocusOnMount",Rp="focusScope.autoFocusOnUnmount",dE={bubbles:!1,cancelable:!0},R5="FocusScope",Hy=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=g.useState(null),d=Ze(s),h=Ze(i),f=g.useRef(null),p=Te(e,x=>u(x)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(b){if(y.paused||!a)return;const j=b.target;a.contains(j)?f.current=j:cs(f.current,{select:!0})},S=function(b){if(y.paused||!a)return;const j=b.relatedTarget;j!==null&&(a.contains(j)||cs(f.current,{select:!0}))},E=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&cs(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,y.paused]),g.useEffect(()=>{if(a){fE.add(y);const x=document.activeElement;if(!a.contains(x)){const E=new CustomEvent(Pp,dE);a.addEventListener(Pp,d),a.dispatchEvent(E),E.defaultPrevented||(j5(L5(RN(a)),{select:!0}),document.activeElement===x&&cs(a))}return()=>{a.removeEventListener(Pp,d),setTimeout(()=>{const E=new CustomEvent(Rp,dE);a.addEventListener(Rp,h),a.dispatchEvent(E),E.defaultPrevented||cs(x??document.body,{select:!0}),a.removeEventListener(Rp,h),fE.remove(y)},0)}}},[a,d,h,y]);const I=g.useCallback(x=>{if(!n&&!r||y.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,E=document.activeElement;if(S&&E){const w=x.currentTarget,[b,j]=k5(w);b&&j?!x.shiftKey&&E===j?(x.preventDefault(),n&&cs(b,{select:!0})):x.shiftKey&&E===b&&(x.preventDefault(),n&&cs(j,{select:!0})):E===w&&x.preventDefault()}},[n,r,y.paused]);return l.jsx(se.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});Hy.displayName=R5;function j5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(cs(r,{select:e}),document.activeElement!==n)return}function k5(t){const e=RN(t),n=hE(e,t),r=hE(e.reverse(),t);return[n,r]}function RN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hE(t,e){for(const n of t)if(!D5(n,{upTo:e}))return n}function D5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O5(t){return t instanceof HTMLInputElement&&"select"in t}function cs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O5(t)&&e&&t.select()}}var fE=M5();function M5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=pE(t,e),t.unshift(e)},remove(e){var n;t=pE(t,e),(n=t[0])==null||n.resume()}}}function pE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function L5(t){return t.filter(e=>e.tagName!=="A")}var jp=0;function jN(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mE()),document.body.insertAdjacentElement("beforeend",t[1]??mE()),jp++,()=>{jp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jp--}},[])}function mE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lr=function(){return lr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lr.apply(this,arguments)};function kN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function V5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var cd="right-scroll-bar-position",ud="width-before-scroll-bar",F5="with-scroll-bars-hidden",U5="--removed-body-scroll-bar-size";function kp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $5(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var z5=typeof window<"u"?g.useLayoutEffect:g.useEffect,gE=new WeakMap;function B5(t,e){var n=$5(null,function(r){return t.forEach(function(s){return kp(s,r)})});return z5(function(){var r=gE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||kp(a,null)}),i.forEach(function(a){s.has(a)||kp(a,o)})}gE.set(n,t)},[t]),n}function W5(t){return t}function H5(t,e){e===void 0&&(e=W5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function q5(t){t===void 0&&(t={});var e=H5(null);return e.options=lr({async:!0,ssr:!1},t),e}var DN=function(t){var e=t.sideCar,n=kN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,lr({},n))};DN.isSideCarExport=!0;function G5(t,e){return t.useMedium(e),DN}var ON=q5(),Dp=function(){},uf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Dp,onWheelCapture:Dp,onTouchMoveCapture:Dp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noIsolation,I=t.inert,x=t.allowPinchZoom,S=t.as,E=S===void 0?"div":S,w=t.gapMode,b=kN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,D=B5([n,e]),M=lr(lr({},b),s);return g.createElement(g.Fragment,null,h&&g.createElement(j,{sideCar:ON,removeScrollBar:d,shards:f,noIsolation:y,inert:I,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),lr(lr({},M),{ref:D})):g.createElement(E,lr({},M,{className:u,ref:D}),a))});uf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uf.classNames={fullWidth:ud,zeroRight:cd};var K5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=K5();return e&&t.setAttribute("nonce",e),t}function X5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Y5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var J5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Q5())&&(X5(e,n),Y5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Z5=function(){var t=J5();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MN=function(){var t=Z5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},e9={left:0,top:0,right:0,gap:0},Op=function(t){return parseInt(t||"",10)||0},t9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Op(n),Op(r),Op(s)]},n9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e9;var e=t9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r9=MN(),Ho="data-scroll-locked",s9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(F5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ho,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ud,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ho,`] {
    `).concat(U5,": ").concat(a,`px;
  }
`)},vE=function(){var t=parseInt(document.body.getAttribute(Ho)||"0",10);return isFinite(t)?t:0},i9=function(){g.useEffect(function(){return document.body.setAttribute(Ho,(vE()+1).toString()),function(){var t=vE()-1;t<=0?document.body.removeAttribute(Ho):document.body.setAttribute(Ho,t.toString())}},[])},o9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;i9();var i=g.useMemo(function(){return n9(s)},[s]);return g.createElement(r9,{styles:s9(i,!e,s,n?"":"!important")})},bg=!1;if(typeof window<"u")try{var ku=Object.defineProperty({},"passive",{get:function(){return bg=!0,!0}});window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{bg=!1}var co=bg?{passive:!1}:!1,a9=function(t){return t.tagName==="TEXTAREA"},LN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!a9(t)&&n[e]==="visible")},l9=function(t){return LN(t,"overflowY")},c9=function(t){return LN(t,"overflowX")},yE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=VN(t,r);if(s){var i=FN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},d9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VN=function(t,e){return t==="v"?l9(e):c9(e)},FN=function(t,e){return t==="v"?u9(e):d9(e)},h9=function(t,e){return t==="h"&&e==="rtl"?-1:1},f9=function(t,e,n,r,s){var i=h9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),d=!1,h=o>0,f=0,p=0;do{var y=FN(t,a),I=y[0],x=y[1],S=y[2],E=x-S-i*I;(I||E)&&VN(t,a)&&(f+=E,p+=I),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(d=!0),d},Du=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xE=function(t){return[t.deltaX,t.deltaY]},wE=function(t){return t&&"current"in t?t.current:t},p9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g9=0,uo=[];function v9(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(g9++)[0],i=g.useState(MN)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=V5([t.lockRef.current],(t.shards||[]).map(wE),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var E=Du(x),w=n.current,b="deltaX"in x?x.deltaX:w[0]-E[0],j="deltaY"in x?x.deltaY:w[1]-E[1],D,M=x.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in x&&_==="h"&&M.type==="range")return!1;var T=yE(_,M);if(!T)return!0;if(T?D=_:(D=_==="v"?"h":"v",T=yE(_,M)),!T)return!1;if(!r.current&&"changedTouches"in x&&(b||j)&&(r.current=D),!D)return!0;var C=r.current||D;return f9(C,S,x,C==="h"?b:j,!0)},[]),u=g.useCallback(function(x){var S=x;if(!(!uo.length||uo[uo.length-1]!==i)){var E="deltaY"in S?xE(S):Du(S),w=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&p9(D.delta,E)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(wE).filter(Boolean).filter(function(D){return D.contains(S.target)}),j=b.length>0?a(S,b[0]):!o.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),d=g.useCallback(function(x,S,E,w){var b={name:x,delta:S,target:E,should:w,shadowParent:y9(E)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),h=g.useCallback(function(x){n.current=Du(x),r.current=void 0},[]),f=g.useCallback(function(x){d(x.type,xE(x),x.target,a(x,t.lockRef.current))},[]),p=g.useCallback(function(x){d(x.type,Du(x),x.target,a(x,t.lockRef.current))},[]);g.useEffect(function(){return uo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,co),document.addEventListener("touchmove",u,co),document.addEventListener("touchstart",h,co),function(){uo=uo.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,co),document.removeEventListener("touchmove",u,co),document.removeEventListener("touchstart",h,co)}},[]);var y=t.removeScrollBar,I=t.inert;return g.createElement(g.Fragment,null,I?g.createElement(i,{styles:m9(s)}):null,y?g.createElement(o9,{gapMode:t.gapMode}):null)}function y9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const x9=G5(ON,v9);var qy=g.forwardRef(function(t,e){return g.createElement(uf,lr({},t,{ref:e,sideCar:x9}))});qy.classNames=uf.classNames;var w9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ho=new WeakMap,Ou=new WeakMap,Mu={},Mp=0,UN=function(t){return t&&(t.host||UN(t.parentNode))},_9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=UN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},E9=function(t,e,n,r){var s=_9(e,Array.isArray(t)?t:[t]);Mu[n]||(Mu[n]=new WeakMap);var i=Mu[n],o=[],a=new Set,u=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var y=p.getAttribute(r),I=y!==null&&y!=="false",x=(ho.get(p)||0)+1,S=(i.get(p)||0)+1;ho.set(p,x),i.set(p,S),o.push(p),x===1&&I&&Ou.set(p,!0),S===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return h(e),a.clear(),Mp++,function(){o.forEach(function(f){var p=ho.get(f)-1,y=i.get(f)-1;ho.set(f,p),i.set(f,y),p||(Ou.has(f)||f.removeAttribute(r),Ou.delete(f)),y||f.removeAttribute(n)}),Mp--,Mp||(ho=new WeakMap,ho=new WeakMap,Ou=new WeakMap,Mu={})}},$N=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=w9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),E9(r,s,n,"aria-hidden")):function(){return null}},Gy="Dialog",[zN,vz]=Kn(Gy),[T9,Yn]=zN(Gy),BN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),u=g.useRef(null),[d=!1,h]=ga({prop:r,defaultProp:s,onChange:i});return l.jsx(T9,{scope:e,triggerRef:a,contentRef:u,contentId:Ls(),titleId:Ls(),descriptionId:Ls(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};BN.displayName=Gy;var WN="DialogTrigger",HN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(WN,n),i=Te(e,s.triggerRef);return l.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xy(s.open),...r,ref:i,onClick:J(t.onClick,s.onOpenToggle)})});HN.displayName=WN;var Ky="DialogPortal",[S9,qN]=zN(Ky,{forceMount:void 0}),GN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Yn(Ky,e);return l.jsx(S9,{scope:e,forceMount:n,children:g.Children.map(r,o=>l.jsx(Qn,{present:n||i.open,children:l.jsx(Ah,{asChild:!0,container:s,children:o})}))})};GN.displayName=Ky;var ch="DialogOverlay",KN=g.forwardRef((t,e)=>{const n=qN(ch,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yn(ch,t.__scopeDialog);return i.modal?l.jsx(Qn,{present:r||i.open,children:l.jsx(I9,{...s,ref:e})}):null});KN.displayName=ch;var b9=ma("DialogOverlay.RemoveScroll"),I9=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(ch,n);return l.jsx(qy,{as:b9,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(se.div,{"data-state":Xy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ki="DialogContent",QN=g.forwardRef((t,e)=>{const n=qN(Ki,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yn(Ki,t.__scopeDialog);return l.jsx(Qn,{present:r||i.open,children:i.modal?l.jsx(C9,{...s,ref:e}):l.jsx(N9,{...s,ref:e})})});QN.displayName=Ki;var C9=g.forwardRef((t,e)=>{const n=Yn(Ki,t.__scopeDialog),r=g.useRef(null),s=Te(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return $N(i)},[]),l.jsx(XN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault())})}),N9=g.forwardRef((t,e)=>{const n=Yn(Ki,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(XN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XN=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Yn(Ki,n),u=g.useRef(null),d=Te(e,u);return jN(),l.jsxs(l.Fragment,{children:[l.jsx(Hy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Ac,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Xy(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(A9,{titleId:a.titleId}),l.jsx(R9,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Qy="DialogTitle",YN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(Qy,n);return l.jsx(se.h2,{id:s.titleId,...r,ref:e})});YN.displayName=Qy;var JN="DialogDescription",ZN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(JN,n);return l.jsx(se.p,{id:s.descriptionId,...r,ref:e})});ZN.displayName=JN;var eA="DialogClose",tA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(eA,n);return l.jsx(se.button,{type:"button",...r,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});tA.displayName=eA;function Xy(t){return t?"open":"closed"}var nA="DialogTitleWarning",[yz,rA]=M2(nA,{contentName:Ki,titleName:Qy,docsSlug:"dialog"}),A9=({titleId:t})=>{const e=rA(nA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},P9="DialogDescriptionWarning",R9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rA(P9).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},j9=BN,k9=HN,D9=GN,sA=KN,iA=QN,oA=YN,aA=ZN,O9=tA;const M9=j9,L9=k9,V9=D9,lA=g.forwardRef(({className:t,...e},n)=>l.jsx(sA,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lA.displayName=sA.displayName;const cA=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(V9,{children:[l.jsx(lA,{}),l.jsxs(iA,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(O9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Q1,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cA.displayName=iA.displayName;const uA=({className:t,...e})=>l.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});uA.displayName="DialogHeader";const dA=g.forwardRef(({className:t,...e},n)=>l.jsx(oA,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));dA.displayName=oA.displayName;const F9=g.forwardRef(({className:t,...e},n)=>l.jsx(aA,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));F9.displayName=aA.displayName;const Gn=g.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Gn.displayName="Textarea";var U9="Label",hA=g.forwardRef((t,e)=>l.jsx(se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hA.displayName=U9;var fA=hA;const $9=Rc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ao=g.forwardRef(({className:t,...e},n)=>l.jsx(fA,{ref:n,className:ce($9(),t),...e}));Ao.displayName=fA.displayName;function _E(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[u,d]=g.useState(!1),{toast:h}=jv(),f=si(),p=tn({mutationFn:async S=>pa("POST","/api/posts",{...S,authorId:"user-1"}),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/posts"]}),e(!1),r(""),i(""),a(""),h({title:"Post created!",description:"Your post has been shared successfully."})},onError:()=>{h({title:"Error",description:"Failed to create post. Please try again.",variant:"destructive"})}}),y=tn({mutationFn:async S=>(await pa("POST","/api/ai/generate-content",{prompt:S,type:"post"})).json(),onSuccess:S=>{r(S.content),d(!1),h({title:"Content generated!",description:"AI has generated content for your post."})},onError:()=>{d(!1),h({title:"Error",description:"Failed to generate content. Please try again.",variant:"destructive"})}}),I=()=>{if(!o.trim()){h({title:"Error",description:"Please enter a prompt for AI generation.",variant:"destructive"});return}d(!0),y.mutate(o)},x=()=>{if(!n.trim()){h({title:"Error",description:"Please enter some content for your post.",variant:"destructive"});return}p.mutate({content:n,imageUrl:s||void 0,isAiGenerated:!!o})};return l.jsxs(M9,{open:t,onOpenChange:e,children:[l.jsx(L9,{asChild:!0,children:l.jsxs(Z,{"data-testid":"button-create-post",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Post"]})}),l.jsxs(cA,{className:"sm:max-w-[600px]","data-testid":"dialog-create-post",children:[l.jsx(uA,{children:l.jsx(dA,{children:"Create New Post"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ao,{children:"AI Content Generation (Optional)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ei,{placeholder:"Describe what you want to post about...",value:o,onChange:S=>a(S.target.value),"data-testid":"input-ai-prompt"}),l.jsxs(Z,{onClick:I,disabled:u,"data-testid":"button-generate-content",children:[l.jsx("i",{className:`fas ${u?"fa-spinner fa-spin":"fa-magic"} mr-2`}),u?"Generating...":"Generate"]})]})]}),l.jsx(Xn,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ao,{htmlFor:"content",children:"Post Content"}),o&&l.jsxs(Wt,{variant:"secondary",className:"bg-primary/10 text-primary",children:[l.jsx("i",{className:"fas fa-robot mr-1"}),"AI Generated"]})]}),l.jsx(Gn,{id:"content",placeholder:"What's on your mind?",value:n,onChange:S=>r(S.target.value),className:"min-h-[120px]","data-testid":"textarea-content"}),l.jsxs("div",{className:"text-sm text-muted-foreground text-right",children:[n.length,"/500 characters"]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ao,{htmlFor:"imageUrl",children:"Image URL (Optional)"}),l.jsx(ei,{id:"imageUrl",placeholder:"https://example.com/image.jpg",value:s,onChange:S=>i(S.target.value),"data-testid":"input-image-url"})]}),s&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ao,{children:"Image Preview"}),l.jsx("img",{src:s,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border",onError:()=>{h({title:"Invalid image URL",description:"The image URL is not valid or accessible.",variant:"destructive"})},"data-testid":"img-preview"})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Z,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel",children:"Cancel"}),l.jsxs(Z,{onClick:x,disabled:p.isPending,"data-testid":"button-post",children:[l.jsx("i",{className:`fas ${p.isPending?"fa-spinner fa-spin":"fa-share"} mr-2`}),p.isPending?"Posting...":"Post"]})]})]})]})]})}function z9(){const{data:t,isLoading:e}=qt({queryKey:["/api/posts"]});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(ro,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(so,{title:"Social Feed",subtitle:"Engage with your community and share content",actions:l.jsx(_E,{})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:e?l.jsx("div",{className:"space-y-6",children:Array.from({length:5}).map((n,r)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-muted rounded-full"}),l.jsxs("div",{className:"space-y-2 flex-1",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/6"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-full"}),l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]}),l.jsx("div",{className:"h-48 bg-muted rounded"})]})},r))}):t!=null&&t.length?l.jsx("div",{className:"space-y-6",children:t.map(n=>l.jsx(pN,{post:n},n.id))}):l.jsx(me,{className:"p-12 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("i",{className:"fas fa-comments text-4xl text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No posts yet"}),l.jsx("p",{className:"text-muted-foreground",children:"Be the first to share something with the community!"})]}),l.jsx(_E,{})]})})})})]}),l.jsx(cf,{})]})}const B9=[{id:"trigger-1",type:"trigger",title:"Trigger",subtitle:"New Mention",position:{x:100,y:150},color:"bg-green-500",icon:"fas fa-play-circle"},{id:"ai-1",type:"ai",title:"AI Analysis",subtitle:"Sentiment Check",position:{x:350,y:150},color:"bg-primary",icon:"fas fa-robot"},{id:"action-1",type:"action",title:"Auto Reply",subtitle:"Generate Response",position:{x:600,y:150},color:"bg-accent",icon:"fas fa-reply"}];function W9(){const[t,e]=g.useState(B9),[n,r]=g.useState(null),[s,i]=g.useState(null),[o,a]=g.useState({x:0,y:0}),u=g.useCallback((p,y)=>{if(!t.find(w=>w.id===y))return;const x=p.currentTarget.getBoundingClientRect(),S=p.clientX-x.left,E=p.clientY-x.top;i(y),a({x:S,y:E}),r(y)},[t]),d=g.useCallback(p=>{if(!s)return;const I=p.currentTarget.getBoundingClientRect(),x=p.clientX-I.left-o.x,S=p.clientY-I.top-o.y;e(E=>E.map(w=>w.id===s?{...w,position:{x:Math.max(0,Math.min(x,700)),y:Math.max(0,Math.min(S,350))}}:w))},[s,o]),h=g.useCallback(()=>{i(null)},[]),f=p=>{const y={id:`${p}-${Date.now()}`,type:p,title:p==="trigger"?"New Trigger":p==="ai"?"AI Process":"New Action",subtitle:"Configure me",position:{x:200,y:200},color:p==="trigger"?"bg-green-500":p==="ai"?"bg-primary":"bg-accent",icon:p==="trigger"?"fas fa-play":p==="ai"?"fas fa-brain":"fas fa-cog"};e(I=>[...I,y])};return l.jsxs(me,{className:"h-[600px]",children:[l.jsx(De,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ue,{children:"Workflow Builder"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Z,{size:"sm",variant:"outline","data-testid":"button-save-workflow",children:[l.jsx("i",{className:"fas fa-save mr-2"}),"Save"]}),l.jsxs(Z,{size:"sm","data-testid":"button-run-workflow",children:[l.jsx("i",{className:"fas fa-play mr-2"}),"Run"]})]})]})}),l.jsx(Ie,{children:l.jsxs("div",{className:"flex gap-6 h-full",children:[l.jsxs("div",{className:"w-48 space-y-3",children:[l.jsx("h4",{className:"font-medium text-foreground mb-3",children:"Components"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("trigger"),"data-testid":"button-add-trigger",children:[l.jsx("i",{className:"fas fa-play-circle text-green-500 mr-2"}),"Trigger"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("ai"),"data-testid":"button-add-ai",children:[l.jsx("i",{className:"fas fa-robot text-primary mr-2"}),"AI Process"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("action"),"data-testid":"button-add-action",children:[l.jsx("i",{className:"fas fa-cog text-accent mr-2"}),"Action"]})]}),n&&l.jsxs("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg",children:[l.jsx("h5",{className:"font-medium mb-2",children:"Node Properties"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure the selected node's settings here."})]})]}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsxs("div",{className:"w-full h-full bg-muted/20 rounded-lg relative overflow-hidden cursor-crosshair border-2 border-dashed border-muted-foreground/20",onMouseMove:d,onMouseUp:h,onMouseLeave:h,"data-testid":"workflow-canvas",children:[l.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:t.map((p,y)=>{const I=t[y+1];return I?l.jsx("line",{x1:p.position.x+80,y1:p.position.y+25,x2:I.position.x,y2:I.position.y+25,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",strokeDasharray:"5,5",opacity:"0.5"},`line-${p.id}-${I.id}`):null})}),t.map(p=>l.jsx("div",{className:`absolute cursor-move select-none transition-all duration-200 hover:scale-105 ${n===p.id?"ring-2 ring-primary":""}`,style:{left:p.position.x,top:p.position.y,transform:s===p.id?"scale(1.05)":"scale(1)"},onMouseDown:y=>u(y,p.id),"data-testid":`workflow-node-${p.id}`,children:l.jsx("div",{className:`${p.color} text-white px-4 py-3 rounded-lg shadow-lg min-w-[160px]`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:p.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:p.title}),l.jsx("div",{className:"text-xs opacity-80",children:p.subtitle})]})]})})},p.id)),l.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
                    radial-gradient(circle, hsl(var(--muted-foreground)) 1px, transparent 1px)
                  `,backgroundSize:"20px 20px"}})]}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsxs("div",{className:"flex items-center justify-between text-sm bg-card/90 backdrop-blur-sm rounded-lg px-3 py-2 border",children:[l.jsxs("span",{className:"text-muted-foreground","data-testid":"text-node-count",children:[t.length," nodes"]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(Wt,{variant:"secondary","data-testid":"badge-status",children:[l.jsx("i",{className:"fas fa-circle text-green-500 mr-1"}),"Ready to run"]})})]})})]})]})})]})}function H9(){const{data:t,isLoading:e}=qt({queryKey:["/api/workflows"],queryFn:()=>fetch("/api/workflows?userId=user-1").then(n=>n.json())});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(ro,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(so,{title:"Workflows",subtitle:"Create and manage your automation workflows"}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(W9,{})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Your Workflows"})}),l.jsx(Ie,{children:e?l.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((n,r)=>l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},r))}):t!=null&&t.length?l.jsx("div",{className:"space-y-4",children:t.map(n=>l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg hover:bg-muted transition-colors","data-testid":`workflow-${n.id}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h4",{className:"font-medium text-foreground",children:n.name}),l.jsx(Wt,{variant:n.isActive?"default":"secondary","data-testid":`status-${n.id}`,children:n.isActive?"Active":"Inactive"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:n.description}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsxs("span",{"data-testid":`run-count-${n.id}`,children:[n.runCount," runs"]}),l.jsx("span",{"data-testid":`last-run-${n.id}`,children:n.lastRun?`Last: ${new Date(n.lastRun).toLocaleDateString()}`:"Never run"})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(Z,{size:"sm",variant:"outline","data-testid":`button-edit-${n.id}`,children:[l.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]}),l.jsxs(Z,{size:"sm",variant:"outline","data-testid":`button-toggle-${n.id}`,children:[l.jsx("i",{className:`fas ${n.isActive?"fa-pause":"fa-play"} mr-1`}),n.isActive?"Pause":"Start"]})]})]},n.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("i",{className:"fas fa-project-diagram text-4xl text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No workflows created yet"})]})})]}),l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Quick Start Templates"})}),l.jsxs(Ie,{className:"space-y-3",children:[l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-auto-responder",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-reply text-white text-sm"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Auto Responder"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Respond to mentions automatically"})]})]})}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-content-scheduler",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-calendar text-white text-sm"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Content Scheduler"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Schedule posts at optimal times"})]})]})}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-trend-analyzer",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-chart-line text-white text-sm"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Trend Analyzer"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor and respond to trends"})]})]})})]})]})]})]})})})]}),l.jsx(cf,{})]})}var Lp="rovingFocusGroup.onEntryFocus",q9={bubbles:!1,cancelable:!0},df="RovingFocusGroup",[Ig,pA,G9]=kv(df),[K9,mA]=Kn(df,[G9]),[Q9,X9]=K9(df),gA=g.forwardRef((t,e)=>l.jsx(Ig.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Ig.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Y9,{...t,ref:e})})}));gA.displayName=df;var Y9=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=g.useRef(null),y=Te(e,p),I=of(i),[x=null,S]=ga({prop:o,defaultProp:a,onChange:u}),[E,w]=g.useState(!1),b=Ze(d),j=pA(n),D=g.useRef(!1),[M,_]=g.useState(0);return g.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Lp,b),()=>T.removeEventListener(Lp,b)},[b]),l.jsx(Q9,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(T=>S(T),[S]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>_(T=>T-1),[]),children:l.jsx(se.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{D.current=!0}),onFocus:J(t.onFocus,T=>{const C=!D.current;if(T.target===T.currentTarget&&C&&!E){const A=new CustomEvent(Lp,q9);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=j().filter(Q=>Q.focusable),k=R.find(Q=>Q.active),P=R.find(Q=>Q.id===x),re=[k,P,...R].filter(Boolean).map(Q=>Q.ref.current);xA(re,h)}}D.current=!1}),onBlur:J(t.onBlur,()=>w(!1))})})}),vA="RovingFocusGroupItem",yA=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ls(),u=i||a,d=X9(vA,n),h=d.currentTabStopId===u,f=pA(n),{onFocusableItemAdd:p,onFocusableItemRemove:y}=d;return g.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),l.jsx(Ig.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(se.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:J(t.onMouseDown,I=>{r?d.onItemFocus(u):I.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){d.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const x=e$(I,d.orientation,d.dir);if(x!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let E=f().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")E.reverse();else if(x==="prev"||x==="next"){x==="prev"&&E.reverse();const w=E.indexOf(I.currentTarget);E=d.loop?t$(E,w+1):E.slice(w+1)}setTimeout(()=>xA(E))}})})})});yA.displayName=vA;var J9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Z9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function e$(t,e,n){const r=Z9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return J9[r]}function xA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function t$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var n$=gA,r$=yA,Yy="Tabs",[s$,xz]=Kn(Yy,[mA]),wA=mA(),[i$,Jy]=s$(Yy),_A=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:u="automatic",...d}=t,h=of(a),[f,p]=ga({prop:r,onChange:s,defaultProp:i});return l.jsx(i$,{scope:n,baseId:Ls(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:u,children:l.jsx(se.div,{dir:h,"data-orientation":o,...d,ref:e})})});_A.displayName=Yy;var EA="TabsList",TA=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Jy(EA,n),o=wA(n);return l.jsx(n$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(se.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});TA.displayName=EA;var SA="TabsTrigger",bA=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Jy(SA,n),a=wA(n),u=NA(o.baseId,r),d=AA(o.baseId,r),h=r===o.value;return l.jsx(r$,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(se.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:J(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:J(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:J(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});bA.displayName=SA;var IA="TabsContent",CA=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Jy(IA,n),u=NA(a.baseId,r),d=AA(a.baseId,r),h=r===a.value,f=g.useRef(h);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(Qn,{present:s||h,children:({present:p})=>l.jsx(se.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});CA.displayName=IA;function NA(t,e){return`${t}-trigger-${e}`}function AA(t,e){return`${t}-content-${e}`}var o$=_A,PA=TA,RA=bA,jA=CA;const Zy=o$,hf=g.forwardRef(({className:t,...e},n)=>l.jsx(PA,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));hf.displayName=PA.displayName;const Vn=g.forwardRef(({className:t,...e},n)=>l.jsx(RA,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Vn.displayName=RA.displayName;const Fn=g.forwardRef(({className:t,...e},n)=>l.jsx(jA,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Fn.displayName=jA.displayName;function a$(){const{data:t,isLoading:e}=qt({queryKey:["/api/agent-templates"]}),{data:n,isLoading:r}=qt({queryKey:["/api/user-agents"],queryFn:()=>fetch("/api/user-agents?userId=user-1").then(s=>s.json())});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(ro,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(so,{title:"AI Agents",subtitle:"Create and manage your intelligent automation agents"}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsxs(Zy,{defaultValue:"templates",className:"space-y-6",children:[l.jsxs(hf,{children:[l.jsx(Vn,{value:"templates","data-testid":"tab-templates",children:"Templates"}),l.jsx(Vn,{value:"my-agents","data-testid":"tab-my-agents",children:"My Agents"})]}),l.jsxs(Fn,{value:"templates",className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Agent Templates"}),l.jsx("p",{className:"text-muted-foreground",children:"Choose from pre-built templates or create your own"})]}),l.jsxs(Z,{"data-testid":"button-create-custom-agent",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Custom Agent"]})]}),e?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,i)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg"}),l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-full"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},i))}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(s=>l.jsx(mN,{template:s,showActions:!0},s.id))})]}),l.jsxs(Fn,{value:"my-agents",className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"My AI Agents"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your active automation agents"})]})}),r?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((s,i)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-full"}),l.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mt-4"})]})},i))}):n!=null&&n.length?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>l.jsx(me,{className:"p-6","data-testid":`agent-card-${s.id}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h3",{className:"font-semibold text-foreground",children:s.name}),l.jsx("div",{className:`w-3 h-3 rounded-full ${s.isActive?"bg-green-500":"bg-gray-400"}`,"data-testid":`status-${s.id}`})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Status:"}),l.jsx("span",{className:s.isActive?"text-green-600":"text-gray-500",children:s.isActive?"Active":"Inactive"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Runs:"}),l.jsx("span",{"data-testid":`run-count-${s.id}`,children:s.runCount})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Last Run:"}),l.jsx("span",{"data-testid":`last-run-${s.id}`,children:s.lastRun?new Date(s.lastRun).toLocaleDateString():"Never"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Z,{size:"sm",variant:s.isActive?"secondary":"default","data-testid":`button-toggle-${s.id}`,children:[l.jsx("i",{className:`fas ${s.isActive?"fa-pause":"fa-play"} mr-1`}),s.isActive?"Pause":"Start"]}),l.jsxs(Z,{size:"sm",variant:"outline","data-testid":`button-edit-${s.id}`,children:[l.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]})]})]})},s.id))}):l.jsx(me,{className:"p-12 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("i",{className:"fas fa-robot text-4xl text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No agents created yet"}),l.jsx("p",{className:"text-muted-foreground",children:"Create your first AI agent from a template or build a custom one"})]}),l.jsxs(Z,{"data-testid":"button-get-started",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Get Started"]})]})})]})]})})})]}),l.jsx(cf,{})]})}function l$(){var S,E,w,b,j;const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),u=si(),{data:d,isLoading:h,error:f}=qt({queryKey:["/api/telegram/status"],refetchInterval:3e4}),p=tn({mutationFn:async D=>{const M=await fetch("/api/telegram/send-message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!M.ok)throw new Error("Failed to send message");return M.json()},onSuccess:()=>{e(""),u.invalidateQueries({queryKey:["/api/telegram/status"]})}}),y=tn({mutationFn:async D=>{const M=await fetch("/api/telegram/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!M.ok)throw new Error("Failed to broadcast message");return M.json()},onSuccess:()=>{i(""),a(""),u.invalidateQueries({queryKey:["/api/telegram/status"]})}}),I=()=>{!t||!n||p.mutate({chatId:n,message:t})},x=()=>{if(!s||!o)return;const D=o.split(",").map(M=>M.trim()).filter(M=>M);D.length!==0&&y.mutate({message:s,chatIds:D})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(me,{children:[l.jsx(De,{children:l.jsxs(Ue,{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fab fa-telegram text-blue-500"}),"Telegram Bot Status"]})}),l.jsx(Ie,{children:h?l.jsxs("div",{className:"animate-pulse space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}):f?l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:"Failed to load Telegram bot status. Please check your configuration."})}):d?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wt,{variant:d.connected?"default":"secondary",children:d.connected?"🟢 Connected":"🔴 Disconnected"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",d.botInfo.username]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Bot ID:"})," ",d.botInfo.id]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",d.botInfo.firstName]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Can Join Groups:"}),d.botInfo.canJoinGroups?" ✅":" ❌"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Read Group Messages:"}),d.botInfo.canReadAllGroupMessages?" ✅":" ❌"]})]})]}):null})]}),l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Send Message"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Chat ID"}),l.jsx(ei,{placeholder:"Enter chat ID (e.g., 123456789)",value:n,onChange:D=>r(D.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Message"}),l.jsx(Gn,{placeholder:"Enter your message...",value:t,onChange:D=>e(D.target.value),rows:3})]})]}),l.jsx(Z,{onClick:I,disabled:!t||!n||p.isPending,className:"w-full",children:p.isPending?"Sending...":"Send Message"}),p.isError&&l.jsx(zt,{variant:"destructive",children:l.jsxs(Bt,{children:["Failed to send message: ",(S=p.error)==null?void 0:S.message]})}),p.isSuccess&&l.jsx(zt,{children:l.jsxs(Bt,{children:["✅ Message sent successfully! Message ID: ",(E=p.data)==null?void 0:E.messageId]})})]})]}),l.jsx(Xn,{}),l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Broadcast Message"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Chat IDs (comma-separated)"}),l.jsx(ei,{placeholder:"123456789, 987654321, 555666777",value:o,onChange:D=>a(D.target.value)}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter multiple chat IDs separated by commas"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Broadcast Message"}),l.jsx(Gn,{placeholder:"Enter your broadcast message...",value:s,onChange:D=>i(D.target.value),rows:4})]}),l.jsx(Z,{onClick:x,disabled:!s||!o||y.isPending,className:"w-full",variant:"outline",children:y.isPending?"Broadcasting...":"Broadcast Message"}),y.isError&&l.jsx(zt,{variant:"destructive",children:l.jsxs(Bt,{children:["Failed to broadcast message: ",(w=y.error)==null?void 0:w.message]})}),y.isSuccess&&l.jsx(zt,{children:l.jsxs(Bt,{children:["✅ Broadcast completed! Check results: ",(j=(b=y.data)==null?void 0:b.results)==null?void 0:j.length," messages processed"]})})]})]}),l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Quick Actions"})}),l.jsx(Ie,{children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Z,{variant:"outline",onClick:()=>{r("123456789"),e("/start")},children:[l.jsx("i",{className:"fas fa-play mr-2"}),"Send /start Command"]}),l.jsxs(Z,{variant:"outline",onClick:()=>{r("123456789"),e("/help")},children:[l.jsx("i",{className:"fas fa-question-circle mr-2"}),"Send /help Command"]}),l.jsxs(Z,{variant:"outline",onClick:()=>{r("123456789"),e("/status")},children:[l.jsx("i",{className:"fas fa-chart-bar mr-2"}),"Send /status Command"]}),l.jsxs(Z,{variant:"outline",onClick:()=>{r("123456789"),e("/posts")},children:[l.jsx("i",{className:"fas fa-list mr-2"}),"Send /posts Command"]})]})})]})]})}function c$(){return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(ro,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(so,{title:"Telegram Integration",subtitle:"Manage your Telegram bot and send messages",actions:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Bot Status:"}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:l.jsx(l$,{})})})]})]})}function u$(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var d$=[" ","Enter","ArrowUp","ArrowDown"],h$=[" ","Enter"],Hc="Select",[ff,pf,f$]=kv(Hc),[Wa,wz]=Kn(Hc,[f$,Oh]),mf=Oh(),[p$,ai]=Wa(Hc),[m$,g$]=Wa(Hc),kA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:p,required:y,form:I}=t,x=mf(e),[S,E]=g.useState(null),[w,b]=g.useState(null),[j,D]=g.useState(!1),M=of(d),[_=!1,T]=ga({prop:r,defaultProp:s,onChange:i}),[C,A]=ga({prop:o,defaultProp:a,onChange:u}),R=g.useRef(null),k=S?I||!!S.closest("form"):!0,[P,B]=g.useState(new Set),re=Array.from(P).map(Q=>Q.props.value).join(";");return l.jsx(_M,{...x,children:l.jsxs(p$,{required:y,scope:e,trigger:S,onTriggerChange:E,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:D,contentId:Ls(),value:C,onValueChange:A,open:_,onOpenChange:T,dir:M,triggerPointerDownPosRef:R,disabled:p,children:[l.jsx(ff.Provider,{scope:e,children:l.jsx(m$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Q=>{B(ue=>new Set(ue).add(Q))},[]),onNativeOptionRemove:g.useCallback(Q=>{B(ue=>{const F=new Set(ue);return F.delete(Q),F})},[]),children:n})}),k?l.jsxs(sP,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:Q=>A(Q.target.value),disabled:p,form:I,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(P)]},re):null]})})};kA.displayName=Hc;var DA="SelectTrigger",OA=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=mf(n),o=ai(DA,n),a=o.disabled||r,u=Te(e,o.onTriggerChange),d=pf(n),h=g.useRef("touch"),[f,p,y]=iP(x=>{const S=d().filter(b=>!b.disabled),E=S.find(b=>b.value===o.value),w=oP(S,x,E);w!==void 0&&o.onValueChange(w.value)}),I=x=>{a||(o.onOpenChange(!0),y()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(Ib,{asChild:!0,...i,children:l.jsx(se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":rP(o.value)?"":void 0,...s,ref:u,onClick:J(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&I(x)}),onPointerDown:J(s.onPointerDown,x=>{h.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(I(x),x.preventDefault())}),onKeyDown:J(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(S&&x.key===" ")&&d$.includes(x.key)&&(I(),x.preventDefault())})})})});OA.displayName=DA;var MA="SelectValue",LA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,u=ai(MA,n),{onValueNodeHasChildrenChange:d}=u,h=i!==void 0,f=Te(e,u.onValueNodeChange);return ot(()=>{d(h)},[d,h]),l.jsx(se.span,{...a,ref:f,style:{pointerEvents:"none"},children:rP(u.value)?l.jsx(l.Fragment,{children:o}):i})});LA.displayName=MA;var v$="SelectIcon",VA=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(se.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});VA.displayName=v$;var y$="SelectPortal",FA=t=>l.jsx(Ah,{asChild:!0,...t});FA.displayName=y$;var Qi="SelectContent",UA=g.forwardRef((t,e)=>{const n=ai(Qi,t.__scopeSelect),[r,s]=g.useState();if(ot(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?eo.createPortal(l.jsx($A,{scope:t.__scopeSelect,children:l.jsx(ff.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(zA,{...t,ref:e})});UA.displayName=Qi;var Rn=10,[$A,li]=Wa(Qi),x$="SelectContentImpl",w$=ma("SelectContent.RemoveScroll"),zA=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:I,hideWhenDetached:x,avoidCollisions:S,...E}=t,w=ai(Qi,n),[b,j]=g.useState(null),[D,M]=g.useState(null),_=Te(e,ee=>j(ee)),[T,C]=g.useState(null),[A,R]=g.useState(null),k=pf(n),[P,B]=g.useState(!1),re=g.useRef(!1);g.useEffect(()=>{if(b)return $N(b)},[b]),jN();const Q=g.useCallback(ee=>{const[Pe,...lt]=k().map(be=>be.ref.current),[je]=lt.slice(-1),Ce=document.activeElement;for(const be of ee)if(be===Ce||(be==null||be.scrollIntoView({block:"nearest"}),be===Pe&&D&&(D.scrollTop=0),be===je&&D&&(D.scrollTop=D.scrollHeight),be==null||be.focus(),document.activeElement!==Ce))return},[k,D]),ue=g.useCallback(()=>Q([T,b]),[Q,T,b]);g.useEffect(()=>{P&&ue()},[P,ue]);const{onOpenChange:F,triggerPointerDownPosRef:W}=w;g.useEffect(()=>{if(b){let ee={x:0,y:0};const Pe=je=>{var Ce,be;ee={x:Math.abs(Math.round(je.pageX)-(((Ce=W.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(je.pageY)-(((be=W.current)==null?void 0:be.y)??0))}},lt=je=>{ee.x<=10&&ee.y<=10?je.preventDefault():b.contains(je.target)||F(!1),document.removeEventListener("pointermove",Pe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",lt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",lt,{capture:!0})}}},[b,F,W]),g.useEffect(()=>{const ee=()=>F(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[F]);const[X,ae]=iP(ee=>{const Pe=k().filter(Ce=>!Ce.disabled),lt=Pe.find(Ce=>Ce.ref.current===document.activeElement),je=oP(Pe,ee,lt);je&&setTimeout(()=>je.ref.current.focus())}),Se=g.useCallback((ee,Pe,lt)=>{const je=!re.current&&!lt;(w.value!==void 0&&w.value===Pe||je)&&(C(ee),je&&(re.current=!0))},[w.value]),gt=g.useCallback(()=>b==null?void 0:b.focus(),[b]),ze=g.useCallback((ee,Pe,lt)=>{const je=!re.current&&!lt;(w.value!==void 0&&w.value===Pe||je)&&R(ee)},[w.value]),Xt=r==="popper"?Cg:BA,at=Xt===Cg?{side:a,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:I,hideWhenDetached:x,avoidCollisions:S}:{};return l.jsx($A,{scope:n,content:b,viewport:D,onViewportChange:M,itemRefCallback:Se,selectedItem:T,onItemLeave:gt,itemTextRefCallback:ze,focusSelectedItem:ue,selectedItemText:A,position:r,isPositioned:P,searchRef:X,children:l.jsx(qy,{as:w$,allowPinchZoom:!0,children:l.jsx(Hy,{asChild:!0,trapped:w.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:J(s,ee=>{var Pe;(Pe=w.trigger)==null||Pe.focus({preventScroll:!0}),ee.preventDefault()}),children:l.jsx(Ac,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Xt,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ee=>ee.preventDefault(),...E,...at,onPlaced:()=>B(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:J(E.onKeyDown,ee=>{const Pe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!Pe&&ee.key.length===1&&ae(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let je=k().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Ce=ee.target,be=je.indexOf(Ce);je=je.slice(be+1)}setTimeout(()=>Q(je)),ee.preventDefault()}})})})})})})});zA.displayName=x$;var _$="SelectItemAlignedPosition",BA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ai(Qi,n),o=li(Qi,n),[a,u]=g.useState(null),[d,h]=g.useState(null),f=Te(e,_=>h(_)),p=pf(n),y=g.useRef(!1),I=g.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:E,focusSelectedItem:w}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&x&&S&&E){const _=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=A.left-T.left,be=C.left-Ce,_t=_.left-be,ln=_.width+_t,ci=Math.max(ln,T.width),Sr=window.innerWidth-Rn,br=Sg(be,[Rn,Math.max(Rn,Sr-ci)]);a.style.minWidth=ln+"px",a.style.left=br+"px"}else{const Ce=T.right-A.right,be=window.innerWidth-C.right-Ce,_t=window.innerWidth-_.right-be,ln=_.width+_t,ci=Math.max(ln,T.width),Sr=window.innerWidth-Rn,br=Sg(be,[Rn,Math.max(Rn,Sr-ci)]);a.style.minWidth=ln+"px",a.style.right=br+"px"}const R=p(),k=window.innerHeight-Rn*2,P=x.scrollHeight,B=window.getComputedStyle(d),re=parseInt(B.borderTopWidth,10),Q=parseInt(B.paddingTop,10),ue=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),W=re+Q+P+F+ue,X=Math.min(S.offsetHeight*5,W),ae=window.getComputedStyle(x),Se=parseInt(ae.paddingTop,10),gt=parseInt(ae.paddingBottom,10),ze=_.top+_.height/2-Rn,Xt=k-ze,at=S.offsetHeight/2,ee=S.offsetTop+at,Pe=re+Q+ee,lt=W-Pe;if(Pe<=ze){const Ce=R.length>0&&S===R[R.length-1].ref.current;a.style.bottom="0px";const be=d.clientHeight-x.offsetTop-x.offsetHeight,_t=Math.max(Xt,at+(Ce?gt:0)+be+ue),ln=Pe+_t;a.style.height=ln+"px"}else{const Ce=R.length>0&&S===R[0].ref.current;a.style.top="0px";const _t=Math.max(ze,re+x.offsetTop+(Ce?Se:0)+at)+lt;a.style.height=_t+"px",x.scrollTop=Pe-ze+x.offsetTop}a.style.margin=`${Rn}px 0`,a.style.minHeight=X+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,i.trigger,i.valueNode,a,d,x,S,E,i.dir,r]);ot(()=>b(),[b]);const[j,D]=g.useState();ot(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const M=g.useCallback(_=>{_&&I.current===!0&&(b(),w==null||w(),I.current=!1)},[b,w]);return l.jsx(T$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});BA.displayName=_$;var E$="SelectPopperPosition",Cg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rn,...i}=t,o=mf(n);return l.jsx(Cb,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cg.displayName=E$;var[T$,ex]=Wa(Qi,{}),Ng="SelectViewport",WA=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=li(Ng,n),o=ex(Ng,n),a=Te(e,i.onViewportChange),u=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(ff.Slot,{scope:n,children:l.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const y=Math.abs(u.current-h.scrollTop);if(y>0){const I=window.innerHeight-Rn*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),E=Math.max(x,S);if(E<I){const w=E+y,b=Math.min(I,w),j=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});WA.displayName=Ng;var HA="SelectGroup",[S$,b$]=Wa(HA),I$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ls();return l.jsx(S$,{scope:n,id:s,children:l.jsx(se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});I$.displayName=HA;var qA="SelectLabel",GA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=b$(qA,n);return l.jsx(se.div,{id:s.id,...r,ref:e})});GA.displayName=qA;var uh="SelectItem",[C$,KA]=Wa(uh),QA=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ai(uh,n),u=li(uh,n),d=a.value===r,[h,f]=g.useState(i??""),[p,y]=g.useState(!1),I=Te(e,w=>{var b;return(b=u.itemRefCallback)==null?void 0:b.call(u,w,r,s)}),x=Ls(),S=g.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(C$,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:g.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(ff.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(se.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:I,onFocus:J(o.onFocus,()=>y(!0)),onBlur:J(o.onBlur,()=>y(!1)),onClick:J(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:J(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:J(o.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:J(o.onPointerMove,w=>{var b;S.current=w.pointerType,s?(b=u.onItemLeave)==null||b.call(u):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=u.onItemLeave)==null||b.call(u))}),onKeyDown:J(o.onKeyDown,w=>{var j;((j=u.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(h$.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});QA.displayName=uh;var Il="SelectItemText",XA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ai(Il,n),a=li(Il,n),u=KA(Il,n),d=g$(Il,n),[h,f]=g.useState(null),p=Te(e,E=>f(E),u.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,u.value,u.disabled)}),y=h==null?void 0:h.textContent,I=g.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=d;return ot(()=>(x(I),()=>S(I)),[x,S,I]),l.jsxs(l.Fragment,{children:[l.jsx(se.span,{id:u.textId,...i,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eo.createPortal(i.children,o.valueNode):null]})});XA.displayName=Il;var YA="SelectItemIndicator",JA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return KA(YA,n).isSelected?l.jsx(se.span,{"aria-hidden":!0,...r,ref:e}):null});JA.displayName=YA;var Ag="SelectScrollUpButton",ZA=g.forwardRef((t,e)=>{const n=li(Ag,t.__scopeSelect),r=ex(Ag,t.__scopeSelect),[s,i]=g.useState(!1),o=Te(e,r.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(tP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});ZA.displayName=Ag;var Pg="SelectScrollDownButton",eP=g.forwardRef((t,e)=>{const n=li(Pg,t.__scopeSelect),r=ex(Pg,t.__scopeSelect),[s,i]=g.useState(!1),o=Te(e,r.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;i(h)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(tP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});eP.displayName=Pg;var tP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=li("SelectScrollButton",n),o=g.useRef(null),a=pf(n),u=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),ot(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:J(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:J(s.onPointerLeave,()=>{u()})})}),N$="SelectSeparator",nP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(se.div,{"aria-hidden":!0,...r,ref:e})});nP.displayName=N$;var Rg="SelectArrow",A$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mf(n),i=ai(Rg,n),o=li(Rg,n);return i.open&&o.position==="popper"?l.jsx(Nb,{...s,...r,ref:e}):null});A$.displayName=Rg;function rP(t){return t===""||t===void 0}var sP=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Te(e,s),o=u$(n);return g.useEffect(()=>{const a=s.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),l.jsx(Pc,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});sP.displayName="BubbleSelect";function iP(t){const e=Ze(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function oP(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=P$(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function P$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var R$=kA,aP=OA,j$=LA,k$=VA,D$=FA,lP=UA,O$=WA,cP=GA,uP=QA,M$=XA,L$=JA,dP=ZA,hP=eP,fP=nP;const Na=R$,Aa=j$,Xi=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(aP,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(k$,{asChild:!0,children:l.jsx(K1,{className:"h-4 w-4 opacity-50"})})]}));Xi.displayName=aP.displayName;const pP=g.forwardRef(({className:t,...e},n)=>l.jsx(dP,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(AD,{className:"h-4 w-4"})}));pP.displayName=dP.displayName;const mP=g.forwardRef(({className:t,...e},n)=>l.jsx(hP,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(K1,{className:"h-4 w-4"})}));mP.displayName=hP.displayName;const Yi=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(D$,{children:l.jsxs(lP,{ref:s,className:ce("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(pP,{}),l.jsx(O$,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(mP,{})]})}));Yi.displayName=lP.displayName;const V$=g.forwardRef(({className:t,...e},n)=>l.jsx(cP,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));V$.displayName=cP.displayName;const Be=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(uP,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(L$,{children:l.jsx(ND,{className:"h-4 w-4"})})}),l.jsx(M$,{children:e})]}));Be.displayName=uP.displayName;const F$=g.forwardRef(({className:t,...e},n)=>l.jsx(fP,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));F$.displayName=fP.displayName;var tx="Progress",nx=100,[U$,_z]=Kn(tx),[$$,z$]=U$(tx),gP=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=B$,...o}=t;(s||s===0)&&!EE(s)&&console.error(W$(`${s}`,"Progress"));const a=EE(s)?s:nx;r!==null&&!TE(r,a)&&console.error(H$(`${r}`,"Progress"));const u=TE(r,a)?r:null,d=dh(u)?i(u,a):void 0;return l.jsx($$,{scope:n,value:u,max:a,children:l.jsx(se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":dh(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":xP(u,a),"data-value":u??void 0,"data-max":a,...o,ref:e})})});gP.displayName=tx;var vP="ProgressIndicator",yP=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=z$(vP,n);return l.jsx(se.div,{"data-state":xP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});yP.displayName=vP;function B$(t,e){return`${Math.round(t/e*100)}%`}function xP(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function dh(t){return typeof t=="number"}function EE(t){return dh(t)&&!isNaN(t)&&t>0}function TE(t,e){return dh(t)&&!isNaN(t)&&t<=e&&t>=0}function W$(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nx}\`.`}function H$(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wP=gP,q$=yP;const qo=g.forwardRef(({className:t,value:e,...n},r)=>l.jsx(wP,{ref:r,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(q$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));qo.displayName=wP.displayName;function G$(){const{user:t}=Wc();si();const[e,n]=g.useState("content-generation"),{data:r,isLoading:s}=qt({queryKey:["/api/ai/performance-metrics",t==null?void 0:t.uid],enabled:!!(t!=null&&t.uid),refetchInterval:3e4}),i=tn({mutationFn:async h=>{const f=await fetch("/api/ai/smart-learning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to process smart learning request");return f.json()}}),o=tn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/content-generation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to generate content");return f.json()}}),a=tn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/sentiment-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to analyze sentiment");return f.json()}}),u=tn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/intent-classification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to classify intent");return f.json()}}),d=tn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/style-transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to transfer style");return f.json()}});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Smart Learning AI"}),l.jsx("p",{className:"text-muted-foreground",children:"Zero-shot learning with meta-loop adaptation"})]}),l.jsxs(Wt,{variant:"outline",className:"text-sm",children:[l.jsx("i",{className:"fas fa-brain mr-2"}),"Meta-Learning Active"]})]}),l.jsxs(me,{children:[l.jsx(De,{children:l.jsxs(Ue,{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-chart-line text-primary"}),"Performance Metrics"]})}),l.jsx(Ie,{children:s?l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}):r?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round(r.overallAccuracy*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Accuracy"}),l.jsx(qo,{value:r.overallAccuracy*100,className:"mt-2"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-accent",children:[Math.round(r.generalizationScore*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Generalization"}),l.jsx(qo,{value:r.generalizationScore*100,className:"mt-2"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[r.adaptationSpeed,"ms"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Adaptation Speed"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[Math.round(r.confidenceCalibration*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"}),l.jsx(qo,{value:r.confidenceCalibration*100,className:"mt-2"})]})]}):l.jsx(zt,{children:l.jsx(Bt,{children:"No performance metrics available. Start using the AI to see metrics."})})})]}),l.jsxs(Zy,{value:e,onValueChange:n,children:[l.jsxs(hf,{className:"grid w-full grid-cols-5",children:[l.jsx(Vn,{value:"content-generation",children:"Content Generation"}),l.jsx(Vn,{value:"sentiment-analysis",children:"Sentiment Analysis"}),l.jsx(Vn,{value:"intent-classification",children:"Intent Classification"}),l.jsx(Vn,{value:"style-transfer",children:"Style Transfer"}),l.jsx(Vn,{value:"meta-learning",children:"Meta Learning"})]}),l.jsx(Fn,{value:"content-generation",children:l.jsx(K$,{mutation:o})}),l.jsx(Fn,{value:"sentiment-analysis",children:l.jsx(Q$,{mutation:a})}),l.jsx(Fn,{value:"intent-classification",children:l.jsx(X$,{mutation:u})}),l.jsx(Fn,{value:"style-transfer",children:l.jsx(Y$,{mutation:d})}),l.jsx(Fn,{value:"meta-learning",children:l.jsx(J$,{mutation:i})})]})]})}function K$({mutation:t}){var u;const[e,n]=g.useState(""),[r,s]=g.useState("social_media"),[i,o]=g.useState("professional"),a=()=>{e.trim()&&t.mutate({prompt:e,topic:r,style:i})};return l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Zero-Shot Content Generation"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Prompt"}),l.jsx(Gn,{placeholder:"Enter your content prompt...",value:e,onChange:d=>n(d.target.value),rows:4})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Topic"}),l.jsxs(Na,{value:r,onValueChange:s,children:[l.jsx(Xi,{children:l.jsx(Aa,{})}),l.jsxs(Yi,{children:[l.jsx(Be,{value:"social_media",children:"Social Media"}),l.jsx(Be,{value:"technical",children:"Technical"}),l.jsx(Be,{value:"creative",children:"Creative"}),l.jsx(Be,{value:"analytical",children:"Analytical"}),l.jsx(Be,{value:"conversational",children:"Conversational"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Style"}),l.jsxs(Na,{value:i,onValueChange:o,children:[l.jsx(Xi,{children:l.jsx(Aa,{})}),l.jsxs(Yi,{children:[l.jsx(Be,{value:"professional",children:"Professional"}),l.jsx(Be,{value:"casual",children:"Casual"}),l.jsx(Be,{value:"formal",children:"Formal"}),l.jsx(Be,{value:"friendly",children:"Friendly"}),l.jsx(Be,{value:"technical",children:"Technical"})]})]})]})]}),l.jsx(Z,{onClick:a,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Generating...":"Generate Content"}),t.isError&&l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:(u=t.error)==null?void 0:u.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xn,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Generated Content:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t.data.output})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",t.data.executionTime,"ms"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",t.data.adaptationType]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Explanation:"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.data.explanation})]})]})]})]})}function Q$({mutation:t}){var s;const[e,n]=g.useState(""),r=()=>{e.trim()&&t.mutate({text:e})};return l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Zero-Shot Sentiment Analysis"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Text to Analyze"}),l.jsx(Gn,{placeholder:"Enter text for sentiment analysis...",value:e,onChange:i=>n(i.target.value),rows:4})]}),l.jsx(Z,{onClick:r,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Analyzing...":"Analyze Sentiment"}),t.isError&&l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:(s=t.error)==null?void 0:s.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xn,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Sentiment Analysis Result:"}),l.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:t.data.output>.1?"😊 Positive":t.data.output<-.1?"😞 Negative":"😐 Neutral"}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Score: ",t.data.output.toFixed(3)]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function X$({mutation:t}){var s;const[e,n]=g.useState(""),r=()=>{e.trim()&&t.mutate({text:e})};return l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Zero-Shot Intent Classification"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Text to Classify"}),l.jsx(Gn,{placeholder:"Enter text for intent classification...",value:e,onChange:i=>n(i.target.value),rows:4})]}),l.jsx(Z,{onClick:r,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Classifying...":"Classify Intent"}),t.isError&&l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:(s=t.error)==null?void 0:s.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xn,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Intent Classification Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg text-center",children:l.jsx(Wt,{variant:"outline",className:"text-lg",children:t.data.output})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function Y$({mutation:t}){var o;const[e,n]=g.useState(""),[r,s]=g.useState("professional"),i=()=>{e.trim()&&t.mutate({text:e,targetStyle:r})};return l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Zero-Shot Style Transfer"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Original Text"}),l.jsx(Gn,{placeholder:"Enter text to transfer style...",value:e,onChange:a=>n(a.target.value),rows:4})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Style"}),l.jsxs(Na,{value:r,onValueChange:s,children:[l.jsx(Xi,{children:l.jsx(Aa,{})}),l.jsxs(Yi,{children:[l.jsx(Be,{value:"professional",children:"Professional"}),l.jsx(Be,{value:"casual",children:"Casual"}),l.jsx(Be,{value:"formal",children:"Formal"}),l.jsx(Be,{value:"friendly",children:"Friendly"}),l.jsx(Be,{value:"technical",children:"Technical"})]})]})]}),l.jsx(Z,{onClick:i,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Transferring...":"Transfer Style"}),t.isError&&l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:(o=t.error)==null?void 0:o.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xn,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Style Transfer Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t.data.output})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function J$({mutation:t}){var u;const[e,n]=g.useState("content_generation"),[r,s]=g.useState(""),[i,o]=g.useState(""),a=()=>{if(!r.trim())return;let d={};try{d=i?JSON.parse(i):{}}catch{console.error("Invalid metadata JSON")}t.mutate({taskType:e,inputData:r,metadata:d})};return l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Meta Learning System"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Task Type"}),l.jsxs(Na,{value:e,onValueChange:n,children:[l.jsx(Xi,{children:l.jsx(Aa,{})}),l.jsxs(Yi,{children:[l.jsx(Be,{value:"content_generation",children:"Content Generation"}),l.jsx(Be,{value:"sentiment_analysis",children:"Sentiment Analysis"}),l.jsx(Be,{value:"intent_classification",children:"Intent Classification"}),l.jsx(Be,{value:"style_transfer",children:"Style Transfer"}),l.jsx(Be,{value:"custom",children:"Custom Task"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Input Data"}),l.jsx(Gn,{placeholder:"Enter input data for meta learning...",value:r,onChange:d=>s(d.target.value),rows:4})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Metadata (JSON)"}),l.jsx(Gn,{placeholder:'{"key": "value"}',value:i,onChange:d=>o(d.target.value),rows:2})]}),l.jsx(Z,{onClick:a,disabled:!r.trim()||t.isPending,className:"w-full",children:t.isPending?"Meta Learning...":"Execute Meta Learning"}),t.isError&&l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:(u=t.error)==null?void 0:u.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xn,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Meta Learning Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:l.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(t.data.output,null,2)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",t.data.executionTime,"ms"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",t.data.adaptationType]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Explanation:"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.data.explanation})]})]})]})]})}function Z$(){return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(ro,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(so,{title:"Smart Learning AI",subtitle:"Zero-shot learning with meta-loop adaptation",actions:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Meta-Learning:"}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm text-green-500",children:"Active"})]})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsx(G$,{})})})]})]})}function ez(){var w,b,j,D,M;const{user:t}=Wc();si();const[e,n]=g.useState(null),[r,s]=g.useState({}),[i,o]=g.useState("tools"),{data:a,isLoading:u}=qt({queryKey:["/api/ai-tools"],refetchInterval:3e4}),{data:d}=qt({queryKey:["/api/ai-tools/categories"],refetchInterval:3e4}),{data:h}=qt({queryKey:["/api/ai-tools/analytics"],refetchInterval:3e4}),f=tn({mutationFn:async({toolId:_,params:T})=>{const C=await fetch(`/api/ai-tools/${_}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:T,context:{userId:t==null?void 0:t.uid,sessionId:`session_${Date.now()}`,metadata:{source:"ui"}}})});if(!C.ok)throw new Error("Failed to execute tool");return C.json()}}),p=tn({mutationFn:async({query:_,category:T})=>{const C=await fetch("/api/ai-tools/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:_,category:T})});if(!C.ok)throw new Error("Failed to discover tools");return C.json()}}),y=_=>{n(_),s({})},I=(_,T)=>{s(C=>({...C,[_]:T}))},x=()=>{e&&f.mutate({toolId:e.id,params:r})},S=_=>({content:"fas fa-edit",analysis:"fas fa-chart-line",data_extraction:"fas fa-download",media:"fas fa-image",integration:"fas fa-plug",automation:"fas fa-cogs",monitoring:"fas fa-eye",nlp:"fas fa-language"})[_]||"fas fa-tool",E=_=>({content:"bg-blue-500",analysis:"bg-green-500",data_extraction:"bg-purple-500",media:"bg-pink-500",integration:"bg-orange-500",automation:"bg-red-500",monitoring:"bg-yellow-500",nlp:"bg-indigo-500"})[_]||"bg-gray-500";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Advanced AI Tools"}),l.jsx("p",{className:"text-muted-foreground",children:"Powerful AI tools with MCP integration"})]}),l.jsxs(Wt,{variant:"outline",className:"text-sm",children:[l.jsx("i",{className:"fas fa-brain mr-2"}),"MCP Enabled"]})]}),h&&l.jsxs(me,{children:[l.jsx(De,{children:l.jsxs(Ue,{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-chart-bar text-primary"}),"Tools Analytics"]})}),l.jsx(Ie,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:h.totalTools||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tools"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-accent",children:((w=h.categories)==null?void 0:w.length)||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Categories"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-500",children:h.totalExecutions||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Executions"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[Math.round(((b=h.toolStats)==null?void 0:b.reduce((_,T)=>_+T.usage.successRate,0))/(((j=h.toolStats)==null?void 0:j.length)||1)*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Success Rate"})]})]})})]}),l.jsxs(Zy,{value:i,onValueChange:o,children:[l.jsxs(hf,{className:"grid w-full grid-cols-3",children:[l.jsx(Vn,{value:"tools",children:"AI Tools"}),l.jsx(Vn,{value:"discover",children:"Discover"}),l.jsx(Vn,{value:"analytics",children:"Analytics"})]}),l.jsx(Fn,{value:"tools",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Available Tools"})}),l.jsx(Ie,{className:"space-y-4",children:u?l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((_,T)=>l.jsx("div",{className:"h-16 bg-muted rounded"},T))}):a?a.map(_=>l.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(e==null?void 0:e.id)===_.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>y(_),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg ${E(_.category)} flex items-center justify-center`,children:l.jsx("i",{className:`${S(_.category)} text-white`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-semibold text-sm",children:_.name}),l.jsxs(Wt,{variant:"secondary",className:"text-xs",children:["v",_.version]}),_.isActive?l.jsx(Wt,{variant:"default",className:"text-xs",children:"Active"}):l.jsx(Wt,{variant:"outline",className:"text-xs",children:"Inactive"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[_.usage.totalCalls," calls"]}),l.jsxs("span",{children:[Math.round(_.usage.successRate*100),"% success"]}),l.jsxs("span",{children:[_.usage.averageExecutionTime,"ms avg"]})]})]})]})},_.id)):l.jsx(zt,{children:l.jsx(Bt,{children:"No AI tools available"})})})]}),l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:e?`Execute: ${e.name}`:"Select a Tool"})}),l.jsx(Ie,{className:"space-y-4",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-4",children:e.parameters.map(_=>{var T;return l.jsxs("div",{children:[l.jsxs(Ao,{htmlFor:_.name,className:"text-sm font-medium",children:[_.name,_.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("div",{className:"mt-1",children:_.type==="string"&&_.name.includes("text")?l.jsx(Gn,{id:_.name,placeholder:_.description,value:r[_.name]||"",onChange:C=>I(_.name,C.target.value),rows:3}):_.type==="boolean"?l.jsxs(Na,{value:((T=r[_.name])==null?void 0:T.toString())||"",onValueChange:C=>I(_.name,C==="true"),children:[l.jsx(Xi,{children:l.jsx(Aa,{placeholder:_.description})}),l.jsxs(Yi,{children:[l.jsx(Be,{value:"true",children:"True"}),l.jsx(Be,{value:"false",children:"False"})]})]}):l.jsx(ei,{id:_.name,type:_.type==="number"?"number":"text",placeholder:_.description,value:r[_.name]||"",onChange:C=>I(_.name,_.type==="number"?Number(C.target.value):C.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.name)})}),l.jsx(Z,{onClick:x,disabled:f.isPending,className:"w-full",children:f.isPending?"Executing...":"Execute Tool"}),f.isError&&l.jsx(zt,{variant:"destructive",children:l.jsx(Bt,{children:(D=f.error)==null?void 0:D.message})}),f.isSuccess&&f.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Xn,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Execution Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(f.data.data,null,2)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Success:"})," ",f.data.success?"Yes":"No"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",f.data.executionTime,"ms"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(f.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Tool Used:"})," ",f.data.toolUsed]})]}),f.data.suggestions&&f.data.suggestions.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Suggestions:"}),l.jsx("ul",{className:"text-sm text-muted-foreground mt-1",children:f.data.suggestions.map((_,T)=>l.jsxs("li",{children:["• ",_]},T))})]})]})]}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("i",{className:"fas fa-tools text-4xl mb-4"}),l.jsx("p",{children:"Select a tool from the list to execute it"})]})})]})]})}),l.jsx(Fn,{value:"discover",children:l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Discover AI Tools"})}),l.jsxs(Ie,{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(ei,{placeholder:"Search for tools...",value:((M=p.variables)==null?void 0:M.query)||"",onChange:_=>{}}),l.jsxs(Na,{children:[l.jsx(Xi,{className:"w-48",children:l.jsx(Aa,{placeholder:"Category"})}),l.jsx(Yi,{children:d==null?void 0:d.map(_=>l.jsx(Be,{value:_,children:_},_))})]}),l.jsx(Z,{onClick:()=>{p.mutate({query:"content generation",category:"content"})},children:"Search"})]}),p.isSuccess&&p.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium",children:"Search Results:"}),p.data.map(_=>l.jsx("div",{className:"p-4 border rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded ${E(_.category)} flex items-center justify-center`,children:l.jsx("i",{className:`${S(_.category)} text-white text-sm`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h5",{className:"font-semibold",children:_.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:_.description}),l.jsx("div",{className:"flex gap-2 mt-2",children:_.capabilities.map(T=>l.jsx(Wt,{variant:"outline",className:"text-xs",children:T},T))})]})]})},_.id))]})]})]})}),l.jsx(Fn,{value:"analytics",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Tool Performance"})}),l.jsx(Ie,{children:h!=null&&h.toolStats?l.jsx("div",{className:"space-y-4",children:h.toolStats.map(_=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:_.name}),l.jsxs("span",{children:[Math.round(_.usage.successRate*100),"%"]})]}),l.jsx(qo,{value:_.usage.successRate*100})]},_.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("i",{className:"fas fa-chart-line text-4xl mb-4"}),l.jsx("p",{children:"No analytics data available"})]})})]}),l.jsxs(me,{children:[l.jsx(De,{children:l.jsx(Ue,{children:"Category Distribution"})}),l.jsx(Ie,{children:d?l.jsx("div",{className:"space-y-4",children:d.map(_=>{const T=(a==null?void 0:a.filter(A=>A.category===_))||[],C=a?T.length/a.length*100:0;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"capitalize",children:_}),l.jsxs("span",{children:[T.length," tools"]})]}),l.jsx(qo,{value:C})]},_)})}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("i",{className:"fas fa-chart-pie text-4xl mb-4"}),l.jsx("p",{children:"No category data available"})]})})]})]})})]})]})}function tz(){return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(ro,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(so,{title:"Advanced AI Tools",subtitle:"Powerful AI tools with MCP integration",actions:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"MCP:"}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm text-green-500",children:"Connected"})]})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsx(ez,{})})})]})]})}function nz(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(me,{className:"w-full max-w-md mx-4",children:l.jsxs(Ie,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(PD,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function rz(){return l.jsx(o5,{children:l.jsxs(Yk,{children:[l.jsx(rs,{path:"/",component:P5}),l.jsx(rs,{path:"/social-feed",component:z9}),l.jsx(rs,{path:"/workflows",component:H9}),l.jsx(rs,{path:"/ai-agents",component:a$}),l.jsx(rs,{path:"/telegram",component:c$}),l.jsx(rs,{path:"/smart-learning",component:Z$}),l.jsx(rs,{path:"/advanced-ai-tools",component:tz}),l.jsx(rs,{component:nz})]})})}function sz(){return l.jsx(QU,{children:l.jsx(v2,{client:P2,children:l.jsx(zM,{children:l.jsxs(FM,{children:[l.jsx(hO,{}),l.jsx(rz,{})]})})})})}KS(document.getElementById("root")).render(l.jsx(sz,{}));
