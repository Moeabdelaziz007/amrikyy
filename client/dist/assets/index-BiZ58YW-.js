var gw=t=>{throw TypeError(t)};var Qf=(t,e,n)=>e.has(t)||gw("Cannot "+n);var O=(t,e,n)=>(Qf(t,e,"read from private field"),n?n.call(t):e.get(t)),ne=(t,e,n)=>e.has(t)?gw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),G=(t,e,n,r)=>(Qf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pe=(t,e,n)=>(Qf(t,e,"access private method"),n);var mu=(t,e,n,r)=>({set _(s){G(t,e,s,n)},get _(){return O(t,e,r)}});function TP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sT={exports:{}},Ih={},iT={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),SP=Symbol.for("react.portal"),IP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),CP=Symbol.for("react.profiler"),AP=Symbol.for("react.provider"),NP=Symbol.for("react.context"),RP=Symbol.for("react.forward_ref"),PP=Symbol.for("react.suspense"),jP=Symbol.for("react.memo"),kP=Symbol.for("react.lazy"),yw=Symbol.iterator;function DP(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var oT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aT=Object.assign,lT={};function La(t,e,n){this.props=t,this.context=e,this.refs=lT,this.updater=n||oT}La.prototype.isReactComponent={};La.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};La.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cT(){}cT.prototype=La.prototype;function Gg(t,e,n){this.props=t,this.context=e,this.refs=lT,this.updater=n||oT}var Kg=Gg.prototype=new cT;Kg.constructor=Gg;aT(Kg,La.prototype);Kg.isPureReactComponent=!0;var vw=Array.isArray,uT=Object.prototype.hasOwnProperty,Qg={current:null},dT={key:!0,ref:!0,__self:!0,__source:!0};function hT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)uT.call(e,r)&&!dT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:jc,type:t,key:i,ref:o,props:s,_owner:Qg.current}}function OP(t,e){return{$$typeof:jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yg(t){return typeof t=="object"&&t!==null&&t.$$typeof===jc}function MP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xw=/\/+/g;function Yf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MP(""+t.key):e.toString(36)}function Yu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jc:case SP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Yf(o,0):r,vw(s)?(n="",t!=null&&(n=t.replace(xw,"$&/")+"/"),Yu(s,e,n,"",function(d){return d})):s!=null&&(Yg(s)&&(s=OP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vw(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Yf(i,a);o+=Yu(i,e,n,c,s)}else if(c=DP(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Yf(i,a++),o+=Yu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gu(t,e,n){if(t==null)return t;var r=[],s=0;return Yu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function LP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Xu={transition:null},VP={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:Qg};function fT(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:gu,forEach:function(t,e,n){gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gu(t,function(){e++}),e},toArray:function(t){return gu(t,function(e){return e})||[]},only:function(t){if(!Yg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=La;ge.Fragment=IP;ge.Profiler=CP;ge.PureComponent=Gg;ge.StrictMode=bP;ge.Suspense=PP;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VP;ge.act=fT;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)uT.call(e,c)&&!dT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:jc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:NP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AP,_context:t},t.Consumer=t};ge.createElement=hT;ge.createFactory=function(t){var e=hT.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:RP,render:t}};ge.isValidElement=Yg;ge.lazy=function(t){return{$$typeof:kP,_payload:{_status:-1,_result:t},_init:LP}};ge.memo=function(t,e){return{$$typeof:jP,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Xu.transition;Xu.transition={};try{t()}finally{Xu.transition=e}};ge.unstable_act=fT;ge.useCallback=function(t,e){return Kt.current.useCallback(t,e)};ge.useContext=function(t){return Kt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Kt.current.useEffect(t,e)};ge.useId=function(){return Kt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Kt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};ge.useRef=function(t){return Kt.current.useRef(t)};ge.useState=function(t){return Kt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Kt.current.useTransition()};ge.version="18.3.1";iT.exports=ge;var g=iT.exports;const ds=rT(g),pT=TP({__proto__:null,default:ds},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP=g,UP=Symbol.for("react.element"),$P=Symbol.for("react.fragment"),zP=Object.prototype.hasOwnProperty,BP=FP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WP={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zP.call(e,r)&&!WP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:UP,type:t,key:i,ref:o,props:s,_owner:BP.current}}Ih.Fragment=$P;Ih.jsx=mT;Ih.jsxs=mT;sT.exports=Ih;var l=sT.exports,gT={exports:{}},xn={},yT={exports:{}},vT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var X=F.length;F.push(W);e:for(;0<X;){var ae=X-1>>>1,Se=F[ae];if(0<s(Se,W))F[ae]=W,F[X]=Se,X=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],X=F.pop();if(X!==W){F[0]=X;e:for(var ae=0,Se=F.length,gt=Se>>>1;ae<gt;){var Be=2*(ae+1)-1,Yt=F[Be],ct=Be+1,te=F[ct];if(0>s(Yt,X))ct<Se&&0>s(te,Yt)?(F[ae]=te,F[ct]=X,ae=ct):(F[ae]=Yt,F[Be]=X,ae=Be);else if(ct<Se&&0>s(te,X))F[ae]=te,F[ct]=X,ae=ct;else break e}}return W}function s(F,W){var X=F.sortIndex-W.sortIndex;return X!==0?X:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,v=!1,b=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(F){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=F)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(d)}}function j(F){if(x=!1,I(F),!b)if(n(c)!==null)b=!0,Y(D);else{var W=n(d);W!==null&&ue(j,W.startTime-F)}}function D(F,W){b=!1,x&&(x=!1,E(T),T=-1),v=!0;var X=p;try{for(I(W),f=n(c);f!==null&&(!(f.expirationTime>W)||F&&!P());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,p=f.priorityLevel;var Se=ae(f.expirationTime<=W);W=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===n(c)&&r(c),I(W)}else r(c);f=n(c)}if(f!==null)var gt=!0;else{var Be=n(d);Be!==null&&ue(j,Be.startTime-W),gt=!1}return gt}finally{f=null,p=X,v=!1}}var M=!1,_=null,T=-1,C=5,N=-1;function P(){return!(t.unstable_now()-N<C)}function k(){if(_!==null){var F=t.unstable_now();N=F;var W=!0;try{W=_(!0,F)}finally{W?R():(M=!1,_=null)}}else M=!1}var R;if(typeof w=="function")R=function(){w(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=k,R=function(){re.postMessage(null)}}else R=function(){S(k,0)};function Y(F){_=F,M||(M=!0,R())}function ue(F,W){T=S(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,Y(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var X=p;p=W;try{return F()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=p;p=F;try{return W()}finally{p=X}},t.unstable_scheduleCallback=function(F,W,X){var ae=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,F){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=X+Se,F={id:h++,callback:W,priorityLevel:F,startTime:X,expirationTime:Se,sortIndex:-1},X>ae?(F.sortIndex=X,e(d,F),n(c)===null&&F===n(d)&&(x?(E(T),T=-1):x=!0,ue(j,X-ae))):(F.sortIndex=Se,e(c,F),b||v||(b=!0,Y(D))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var W=p;return function(){var X=p;p=W;try{return F.apply(this,arguments)}finally{p=X}}}})(vT);yT.exports=vT;var HP=yT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP=g,vn=HP;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xT=new Set,Zl={};function no(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(Zl[t]=e,t=0;t<e.length;t++)xT.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=Object.prototype.hasOwnProperty,GP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ww={},_w={};function KP(t){return Zp.call(_w,t)?!0:Zp.call(ww,t)?!1:GP.test(t)?_w[t]=!0:(ww[t]=!0,!1)}function QP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YP(t,e,n,r){if(e===null||typeof e>"u"||QP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xg=/[\-:]([a-z])/g;function Jg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);bt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);bt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xg,Jg);bt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var s=bt.hasOwnProperty(e)?bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YP(e,n,s,r)&&(n=null),r||s===null?KP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=qP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yu=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),ey=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),wT=Symbol.for("react.provider"),_T=Symbol.for("react.context"),ty=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),nm=Symbol.for("react.suspense_list"),ny=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),ET=Symbol.for("react.offscreen"),Ew=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=Ew&&t[Ew]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Xf;function Cl(t){if(Xf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xf=e&&e[1]||""}return`
`+Xf+t}var Jf=!1;function Zf(t,e){if(!t||Jf)return"";Jf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Jf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cl(t):""}function XP(t){switch(t.tag){case 5:return Cl(t.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return t=Zf(t.type,!1),t;case 11:return t=Zf(t.type.render,!1),t;case 1:return t=Zf(t.type,!0),t;default:return""}}function rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Eo:return"Portal";case em:return"Profiler";case ey:return"StrictMode";case tm:return"Suspense";case nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _T:return(t.displayName||"Context")+".Consumer";case wT:return(t._context.displayName||"Context")+".Provider";case ty:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ny:return e=t.displayName||null,e!==null?e:rm(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return rm(t(e))}catch{}}return null}function JP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(e);case 8:return e===ey?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZP(t){var e=TT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vu(t){t._valueTracker||(t._valueTracker=ZP(t))}function ST(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sm(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IT(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function im(t,e){IT(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?om(t,e.type,n):e.hasOwnProperty("defaultValue")&&om(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function om(t,e,n){(e!=="number"||Sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Al=Array.isArray;function Oo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Al(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function bT(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,AT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ej=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(t){ej.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ll[e]=Ll[t]})});function NT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ll.hasOwnProperty(t)&&Ll[t]?(""+e).trim():e+"px"}function RT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=NT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tj=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cm(t,e){if(e){if(tj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dm=null;function ry(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hm=null,Mo=null,Lo=null;function Cw(t){if(t=Oc(t)){if(typeof hm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Rh(e),hm(t.stateNode,t.type,e))}}function PT(t){Mo?Lo?Lo.push(t):Lo=[t]:Mo=t}function jT(){if(Mo){var t=Mo,e=Lo;if(Lo=Mo=null,Cw(t),e)for(t=0;t<e.length;t++)Cw(e[t])}}function kT(t,e){return t(e)}function DT(){}var ep=!1;function OT(t,e,n){if(ep)return t(e,n);ep=!0;try{return kT(t,e,n)}finally{ep=!1,(Mo!==null||Lo!==null)&&(DT(),jT())}}function tc(t,e){var n=t.stateNode;if(n===null)return null;var r=Rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var fm=!1;if(zr)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){fm=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{fm=!1}function nj(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Vl=!1,Id=null,bd=!1,pm=null,rj={onError:function(t){Vl=!0,Id=t}};function sj(t,e,n,r,s,i,o,a,c){Vl=!1,Id=null,nj.apply(rj,arguments)}function ij(t,e,n,r,s,i,o,a,c){if(sj.apply(this,arguments),Vl){if(Vl){var d=Id;Vl=!1,Id=null}else throw Error(z(198));bd||(bd=!0,pm=d)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Aw(t){if(ro(t)!==t)throw Error(z(188))}function oj(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Aw(s),t;if(i===r)return Aw(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function LT(t){return t=oj(t),t!==null?VT(t):null}function VT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VT(t);if(e!==null)return e;t=t.sibling}return null}var FT=vn.unstable_scheduleCallback,Nw=vn.unstable_cancelCallback,aj=vn.unstable_shouldYield,lj=vn.unstable_requestPaint,nt=vn.unstable_now,cj=vn.unstable_getCurrentPriorityLevel,sy=vn.unstable_ImmediatePriority,UT=vn.unstable_UserBlockingPriority,Cd=vn.unstable_NormalPriority,uj=vn.unstable_LowPriority,$T=vn.unstable_IdlePriority,bh=null,fr=null;function dj(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(bh,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:pj,hj=Math.log,fj=Math.LN2;function pj(t){return t>>>=0,t===0?32:31-(hj(t)/fj|0)|0}var wu=64,_u=4194304;function Nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nl(a):(i&=o,i!==0&&(r=Nl(i)))}else o=n&~s,o!==0?r=Nl(o):i!==0&&(r=Nl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),s=1<<n,r|=t[n],e&=~s;return r}function mj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=mj(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function mm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zT(){var t=wu;return wu<<=1,!(wu&4194240)&&(wu=64),t}function tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function yj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function iy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pe=0;function BT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WT,oy,HT,qT,GT,gm=!1,Eu=[],ks=null,Ds=null,Os=null,nc=new Map,rc=new Map,gs=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rw(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(e.pointerId)}}function yl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Oc(e),e!==null&&oy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xj(t,e,n,r,s){switch(e){case"focusin":return ks=yl(ks,t,e,n,r,s),!0;case"dragenter":return Ds=yl(Ds,t,e,n,r,s),!0;case"mouseover":return Os=yl(Os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return nc.set(i,yl(nc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rc.set(i,yl(rc.get(i)||null,t,e,n,r,s)),!0}return!1}function KT(t){var e=Ti(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=MT(n),e!==null){t.blockedOn=e,GT(t.priority,function(){HT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ym(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dm=r,n.target.dispatchEvent(r),dm=null}else return e=Oc(n),e!==null&&oy(e),t.blockedOn=n,!1;e.shift()}return!0}function Pw(t,e,n){Ju(t)&&n.delete(e)}function wj(){gm=!1,ks!==null&&Ju(ks)&&(ks=null),Ds!==null&&Ju(Ds)&&(Ds=null),Os!==null&&Ju(Os)&&(Os=null),nc.forEach(Pw),rc.forEach(Pw)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,gm||(gm=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,wj)))}function sc(t){function e(s){return vl(s,t)}if(0<Eu.length){vl(Eu[0],t);for(var n=1;n<Eu.length;n++){var r=Eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ks!==null&&vl(ks,t),Ds!==null&&vl(Ds,t),Os!==null&&vl(Os,t),nc.forEach(e),rc.forEach(e),n=0;n<gs.length;n++)r=gs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gs.length&&(n=gs[0],n.blockedOn===null);)KT(n),n.blockedOn===null&&gs.shift()}var Vo=Jr.ReactCurrentBatchConfig,Nd=!0;function _j(t,e,n,r){var s=Pe,i=Vo.transition;Vo.transition=null;try{Pe=1,ay(t,e,n,r)}finally{Pe=s,Vo.transition=i}}function Ej(t,e,n,r){var s=Pe,i=Vo.transition;Vo.transition=null;try{Pe=4,ay(t,e,n,r)}finally{Pe=s,Vo.transition=i}}function ay(t,e,n,r){if(Nd){var s=ym(t,e,n,r);if(s===null)dp(t,e,r,Rd,n),Rw(t,r);else if(xj(s,t,e,n,r))r.stopPropagation();else if(Rw(t,r),e&4&&-1<vj.indexOf(t)){for(;s!==null;){var i=Oc(s);if(i!==null&&WT(i),i=ym(t,e,n,r),i===null&&dp(t,e,r,Rd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dp(t,e,r,null,n)}}var Rd=null;function ym(t,e,n,r){if(Rd=null,t=ry(r),t=Ti(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rd=t,null}function QT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cj()){case sy:return 1;case UT:return 4;case Cd:case uj:return 16;case $T:return 536870912;default:return 16}default:return 16}}var Rs=null,ly=null,Zu=null;function YT(){if(Zu)return Zu;var t,e=ly,n=e.length,r,s="value"in Rs?Rs.value:Rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Zu=s.slice(t,1<r?1-r:void 0)}function ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function jw(){return!1}function wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tu:jw,this.isPropagationStopped=jw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cy=wn(Va),Dc=Ke({},Va,{view:0,detail:0}),Tj=wn(Dc),np,rp,xl,Ch=Ke({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(np=t.screenX-xl.screenX,rp=t.screenY-xl.screenY):rp=np=0,xl=t),np)},movementY:function(t){return"movementY"in t?t.movementY:rp}}),kw=wn(Ch),Sj=Ke({},Ch,{dataTransfer:0}),Ij=wn(Sj),bj=Ke({},Dc,{relatedTarget:0}),sp=wn(bj),Cj=Ke({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),Aj=wn(Cj),Nj=Ke({},Va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rj=wn(Nj),Pj=Ke({},Va,{data:0}),Dw=wn(Pj),jj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dj[t])?!!e[t]:!1}function uy(){return Oj}var Mj=Ke({},Dc,{key:function(t){if(t.key){var e=jj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uy,charCode:function(t){return t.type==="keypress"?ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lj=wn(Mj),Vj=Ke({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=wn(Vj),Fj=Ke({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uy}),Uj=wn(Fj),$j=Ke({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),zj=wn($j),Bj=Ke({},Ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wj=wn(Bj),Hj=[9,13,27,32],dy=zr&&"CompositionEvent"in window,Fl=null;zr&&"documentMode"in document&&(Fl=document.documentMode);var qj=zr&&"TextEvent"in window&&!Fl,XT=zr&&(!dy||Fl&&8<Fl&&11>=Fl),Mw=" ",Lw=!1;function JT(t,e){switch(t){case"keyup":return Hj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function Gj(t,e){switch(t){case"compositionend":return ZT(e);case"keypress":return e.which!==32?null:(Lw=!0,Mw);case"textInput":return t=e.data,t===Mw&&Lw?null:t;default:return null}}function Kj(t,e){if(So)return t==="compositionend"||!dy&&JT(t,e)?(t=YT(),Zu=ly=Rs=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XT&&e.locale!=="ko"?null:e.data;default:return null}}var Qj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qj[t.type]:e==="textarea"}function eS(t,e,n,r){PT(r),e=Pd(e,"onChange"),0<e.length&&(n=new cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ul=null,ic=null;function Yj(t){dS(t,0)}function Ah(t){var e=Co(t);if(ST(e))return t}function Xj(t,e){if(t==="change")return e}var tS=!1;if(zr){var ip;if(zr){var op="oninput"in document;if(!op){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),op=typeof Fw.oninput=="function"}ip=op}else ip=!1;tS=ip&&(!document.documentMode||9<document.documentMode)}function Uw(){Ul&&(Ul.detachEvent("onpropertychange",nS),ic=Ul=null)}function nS(t){if(t.propertyName==="value"&&Ah(ic)){var e=[];eS(e,ic,t,ry(t)),OT(Yj,e)}}function Jj(t,e,n){t==="focusin"?(Uw(),Ul=e,ic=n,Ul.attachEvent("onpropertychange",nS)):t==="focusout"&&Uw()}function Zj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ah(ic)}function ek(t,e){if(t==="click")return Ah(e)}function tk(t,e){if(t==="input"||t==="change")return Ah(e)}function nk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:nk;function oc(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zp.call(e,s)||!qn(t[s],e[s]))return!1}return!0}function $w(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zw(t,e){var n=$w(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$w(n)}}function rS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sS(){for(var t=window,e=Sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sd(t.document)}return e}function hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rk(t){var e=sS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rS(n.ownerDocument.documentElement,n)){if(r!==null&&hy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zw(n,i);var o=zw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sk=zr&&"documentMode"in document&&11>=document.documentMode,Io=null,vm=null,$l=null,xm=!1;function Bw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xm||Io==null||Io!==Sd(r)||(r=Io,"selectionStart"in r&&hy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&oc($l,r)||($l=r,r=Pd(vm,"onSelect"),0<r.length&&(e=new cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Io)))}function Su(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bo={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},ap={},iS={};zr&&(iS=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Nh(t){if(ap[t])return ap[t];if(!bo[t])return t;var e=bo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iS)return ap[t]=e[n];return t}var oS=Nh("animationend"),aS=Nh("animationiteration"),lS=Nh("animationstart"),cS=Nh("transitionend"),uS=new Map,Ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){uS.set(t,e),no(e,[t])}for(var lp=0;lp<Ww.length;lp++){var cp=Ww[lp],ik=cp.toLowerCase(),ok=cp[0].toUpperCase()+cp.slice(1);ii(ik,"on"+ok)}ii(oS,"onAnimationEnd");ii(aS,"onAnimationIteration");ii(lS,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(cS,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Hw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ij(r,e,void 0,t),t.currentTarget=null}function dS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Hw(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Hw(s,a,d),i=c}}}if(bd)throw t=pm,bd=!1,pm=null,t}function Fe(t,e){var n=e[Sm];n===void 0&&(n=e[Sm]=new Set);var r=t+"__bubble";n.has(r)||(hS(e,t,2,!1),n.add(r))}function up(t,e,n){var r=0;e&&(r|=4),hS(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function ac(t){if(!t[Iu]){t[Iu]=!0,xT.forEach(function(n){n!=="selectionchange"&&(ak.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,up("selectionchange",!1,e))}}function hS(t,e,n,r){switch(QT(e)){case 1:var s=_j;break;case 4:s=Ej;break;default:s=ay}n=s.bind(null,e,n,t),s=void 0,!fm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ti(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}OT(function(){var d=i,h=ry(n),f=[];e:{var p=uS.get(t);if(p!==void 0){var v=cy,b=t;switch(t){case"keypress":if(ed(n)===0)break e;case"keydown":case"keyup":v=Lj;break;case"focusin":b="focus",v=sp;break;case"focusout":b="blur",v=sp;break;case"beforeblur":case"afterblur":v=sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Uj;break;case oS:case aS:case lS:v=Aj;break;case cS:v=zj;break;case"scroll":v=Tj;break;case"wheel":v=Wj;break;case"copy":case"cut":case"paste":v=Rj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ow}var x=(e&4)!==0,S=!x&&t==="scroll",E=x?p!==null?p+"Capture":null:p;x=[];for(var w=d,I;w!==null;){I=w;var j=I.stateNode;if(I.tag===5&&j!==null&&(I=j,E!==null&&(j=tc(w,E),j!=null&&x.push(lc(w,j,I)))),S)break;w=w.return}0<x.length&&(p=new v(p,b,null,n,h),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==dm&&(b=n.relatedTarget||n.fromElement)&&(Ti(b)||b[Br]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=d,b=b?Ti(b):null,b!==null&&(S=ro(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(x=kw,j="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ow,j="onPointerLeave",E="onPointerEnter",w="pointer"),S=v==null?p:Co(v),I=b==null?p:Co(b),p=new x(j,w+"leave",v,n,h),p.target=S,p.relatedTarget=I,j=null,Ti(h)===d&&(x=new x(E,w+"enter",b,n,h),x.target=I,x.relatedTarget=S,j=x),S=j,v&&b)t:{for(x=v,E=b,w=0,I=x;I;I=po(I))w++;for(I=0,j=E;j;j=po(j))I++;for(;0<w-I;)x=po(x),w--;for(;0<I-w;)E=po(E),I--;for(;w--;){if(x===E||E!==null&&x===E.alternate)break t;x=po(x),E=po(E)}x=null}else x=null;v!==null&&qw(f,p,v,x,!1),b!==null&&S!==null&&qw(f,S,b,x,!0)}}e:{if(p=d?Co(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var D=Xj;else if(Vw(p))if(tS)D=tk;else{D=Zj;var M=Jj}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=ek);if(D&&(D=D(t,d))){eS(f,D,n,h);break e}M&&M(t,p,d),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&om(p,"number",p.value)}switch(M=d?Co(d):window,t){case"focusin":(Vw(M)||M.contentEditable==="true")&&(Io=M,vm=d,$l=null);break;case"focusout":$l=vm=Io=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,Bw(f,n,h);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":Bw(f,n,h)}var _;if(dy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else So?JT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(XT&&n.locale!=="ko"&&(So||T!=="onCompositionStart"?T==="onCompositionEnd"&&So&&(_=YT()):(Rs=h,ly="value"in Rs?Rs.value:Rs.textContent,So=!0)),M=Pd(d,T),0<M.length&&(T=new Dw(T,t,null,n,h),f.push({event:T,listeners:M}),_?T.data=_:(_=ZT(n),_!==null&&(T.data=_)))),(_=qj?Gj(t,n):Kj(t,n))&&(d=Pd(d,"onBeforeInput"),0<d.length&&(h=new Dw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=_))}dS(f,e)})}function lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tc(t,n),i!=null&&r.unshift(lc(t,i,s)),i=tc(t,e),i!=null&&r.push(lc(t,i,s))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=tc(n,i),c!=null&&o.unshift(lc(n,c,a))):s||(c=tc(n,i),c!=null&&o.push(lc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function Gw(t){return(typeof t=="string"?t:""+t).replace(lk,`
`).replace(ck,"")}function bu(t,e,n){if(e=Gw(e),Gw(t)!==e&&n)throw Error(z(425))}function jd(){}var wm=null,_m=null;function Em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(t){return Kw.resolve(null).then(t).catch(hk)}:Tm;function hk(t){setTimeout(function(){throw t})}function hp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),sc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sc(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),dr="__reactFiber$"+Fa,cc="__reactProps$"+Fa,Br="__reactContainer$"+Fa,Sm="__reactEvents$"+Fa,fk="__reactListeners$"+Fa,pk="__reactHandles$"+Fa;function Ti(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Br]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qw(t);t!==null;){if(n=t[dr])return n;t=Qw(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[dr]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Rh(t){return t[cc]||null}var Im=[],Ao=-1;function oi(t){return{current:t}}function ze(t){0>Ao||(t.current=Im[Ao],Im[Ao]=null,Ao--)}function Me(t,e){Ao++,Im[Ao]=t.current,t.current=e}var Ks={},Mt=oi(Ks),on=oi(!1),Fi=Ks;function pa(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function an(t){return t=t.childContextTypes,t!=null}function kd(){ze(on),ze(Mt)}function Yw(t,e,n){if(Mt.current!==Ks)throw Error(z(168));Me(Mt,e),Me(on,n)}function fS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,JP(t)||"Unknown",s));return Ke({},n,r)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Fi=Mt.current,Me(Mt,t),Me(on,on.current),!0}function Xw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=fS(t,e,Fi),r.__reactInternalMemoizedMergedChildContext=t,ze(on),ze(Mt),Me(Mt,t)):ze(on),Me(on,n)}var jr=null,Ph=!1,fp=!1;function pS(t){jr===null?jr=[t]:jr.push(t)}function mk(t){Ph=!0,pS(t)}function ai(){if(!fp&&jr!==null){fp=!0;var t=0,e=Pe;try{var n=jr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,Ph=!1}catch(s){throw jr!==null&&(jr=jr.slice(t+1)),FT(sy,ai),s}finally{Pe=e,fp=!1}}return null}var No=[],Ro=0,Od=null,Md=0,Tn=[],Sn=0,Ui=null,Or=1,Mr="";function wi(t,e){No[Ro++]=Md,No[Ro++]=Od,Od=t,Md=e}function mS(t,e,n){Tn[Sn++]=Or,Tn[Sn++]=Mr,Tn[Sn++]=Ui,Ui=t;var r=Or;t=Mr;var s=32-Bn(r)-1;r&=~(1<<s),n+=1;var i=32-Bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Or=1<<32-Bn(e)+s|n<<s|r,Mr=i+t}else Or=1<<i|n<<s|r,Mr=t}function fy(t){t.return!==null&&(wi(t,1),mS(t,1,0))}function py(t){for(;t===Od;)Od=No[--Ro],No[Ro]=null,Md=No[--Ro],No[Ro]=null;for(;t===Ui;)Ui=Tn[--Sn],Tn[Sn]=null,Mr=Tn[--Sn],Tn[Sn]=null,Or=Tn[--Sn],Tn[Sn]=null}var gn=null,pn=null,He=!1,Ln=null;function gS(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,pn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ui!==null?{id:Or,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,pn=null,!0):!1;default:return!1}}function bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cm(t){if(He){var e=pn;if(e){var n=e;if(!Jw(t,e)){if(bm(t))throw Error(z(418));e=Ms(n.nextSibling);var r=gn;e&&Jw(t,e)?gS(r,n):(t.flags=t.flags&-4097|2,He=!1,gn=t)}}else{if(bm(t))throw Error(z(418));t.flags=t.flags&-4097|2,He=!1,gn=t}}}function Zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function Cu(t){if(t!==gn)return!1;if(!He)return Zw(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Em(t.type,t.memoizedProps)),e&&(e=pn)){if(bm(t))throw yS(),Error(z(418));for(;e;)gS(t,e),e=Ms(e.nextSibling)}if(Zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=gn?Ms(t.stateNode.nextSibling):null;return!0}function yS(){for(var t=pn;t;)t=Ms(t.nextSibling)}function ma(){pn=gn=null,He=!1}function my(t){Ln===null?Ln=[t]:Ln.push(t)}var gk=Jr.ReactCurrentBatchConfig;function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Au(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function e_(t){var e=t._init;return e(t._payload)}function vS(t){function e(E,w){if(t){var I=E.deletions;I===null?(E.deletions=[w],E.flags|=16):I.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Us(E,w),E.index=0,E.sibling=null,E}function i(E,w,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<w?(E.flags|=2,w):I):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,I,j){return w===null||w.tag!==6?(w=wp(I,E.mode,j),w.return=E,w):(w=s(w,I),w.return=E,w)}function c(E,w,I,j){var D=I.type;return D===To?h(E,w,I.props.children,j,I.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ps&&e_(D)===w.type)?(j=s(w,I.props),j.ref=wl(E,w,I),j.return=E,j):(j=ad(I.type,I.key,I.props,null,E.mode,j),j.ref=wl(E,w,I),j.return=E,j)}function d(E,w,I,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=_p(I,E.mode,j),w.return=E,w):(w=s(w,I.children||[]),w.return=E,w)}function h(E,w,I,j,D){return w===null||w.tag!==7?(w=Mi(I,E.mode,j,D),w.return=E,w):(w=s(w,I),w.return=E,w)}function f(E,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=wp(""+w,E.mode,I),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yu:return I=ad(w.type,w.key,w.props,null,E.mode,I),I.ref=wl(E,null,w),I.return=E,I;case Eo:return w=_p(w,E.mode,I),w.return=E,w;case ps:var j=w._init;return f(E,j(w._payload),I)}if(Al(w)||ml(w))return w=Mi(w,E.mode,I,null),w.return=E,w;Au(E,w)}return null}function p(E,w,I,j){var D=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:a(E,w,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case yu:return I.key===D?c(E,w,I,j):null;case Eo:return I.key===D?d(E,w,I,j):null;case ps:return D=I._init,p(E,w,D(I._payload),j)}if(Al(I)||ml(I))return D!==null?null:h(E,w,I,j,null);Au(E,I)}return null}function v(E,w,I,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return E=E.get(I)||null,a(w,E,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yu:return E=E.get(j.key===null?I:j.key)||null,c(w,E,j,D);case Eo:return E=E.get(j.key===null?I:j.key)||null,d(w,E,j,D);case ps:var M=j._init;return v(E,w,I,M(j._payload),D)}if(Al(j)||ml(j))return E=E.get(I)||null,h(w,E,j,D,null);Au(w,j)}return null}function b(E,w,I,j){for(var D=null,M=null,_=w,T=w=0,C=null;_!==null&&T<I.length;T++){_.index>T?(C=_,_=null):C=_.sibling;var N=p(E,_,I[T],j);if(N===null){_===null&&(_=C);break}t&&_&&N.alternate===null&&e(E,_),w=i(N,w,T),M===null?D=N:M.sibling=N,M=N,_=C}if(T===I.length)return n(E,_),He&&wi(E,T),D;if(_===null){for(;T<I.length;T++)_=f(E,I[T],j),_!==null&&(w=i(_,w,T),M===null?D=_:M.sibling=_,M=_);return He&&wi(E,T),D}for(_=r(E,_);T<I.length;T++)C=v(_,E,T,I[T],j),C!==null&&(t&&C.alternate!==null&&_.delete(C.key===null?T:C.key),w=i(C,w,T),M===null?D=C:M.sibling=C,M=C);return t&&_.forEach(function(P){return e(E,P)}),He&&wi(E,T),D}function x(E,w,I,j){var D=ml(I);if(typeof D!="function")throw Error(z(150));if(I=D.call(I),I==null)throw Error(z(151));for(var M=D=null,_=w,T=w=0,C=null,N=I.next();_!==null&&!N.done;T++,N=I.next()){_.index>T?(C=_,_=null):C=_.sibling;var P=p(E,_,N.value,j);if(P===null){_===null&&(_=C);break}t&&_&&P.alternate===null&&e(E,_),w=i(P,w,T),M===null?D=P:M.sibling=P,M=P,_=C}if(N.done)return n(E,_),He&&wi(E,T),D;if(_===null){for(;!N.done;T++,N=I.next())N=f(E,N.value,j),N!==null&&(w=i(N,w,T),M===null?D=N:M.sibling=N,M=N);return He&&wi(E,T),D}for(_=r(E,_);!N.done;T++,N=I.next())N=v(_,E,T,N.value,j),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?T:N.key),w=i(N,w,T),M===null?D=N:M.sibling=N,M=N);return t&&_.forEach(function(k){return e(E,k)}),He&&wi(E,T),D}function S(E,w,I,j){if(typeof I=="object"&&I!==null&&I.type===To&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case yu:e:{for(var D=I.key,M=w;M!==null;){if(M.key===D){if(D=I.type,D===To){if(M.tag===7){n(E,M.sibling),w=s(M,I.props.children),w.return=E,E=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ps&&e_(D)===M.type){n(E,M.sibling),w=s(M,I.props),w.ref=wl(E,M,I),w.return=E,E=w;break e}n(E,M);break}else e(E,M);M=M.sibling}I.type===To?(w=Mi(I.props.children,E.mode,j,I.key),w.return=E,E=w):(j=ad(I.type,I.key,I.props,null,E.mode,j),j.ref=wl(E,w,I),j.return=E,E=j)}return o(E);case Eo:e:{for(M=I.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(E,w.sibling),w=s(w,I.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=_p(I,E.mode,j),w.return=E,E=w}return o(E);case ps:return M=I._init,S(E,w,M(I._payload),j)}if(Al(I))return b(E,w,I,j);if(ml(I))return x(E,w,I,j);Au(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,I),w.return=E,E=w):(n(E,w),w=wp(I,E.mode,j),w.return=E,E=w),o(E)):n(E,w)}return S}var ga=vS(!0),xS=vS(!1),Ld=oi(null),Vd=null,Po=null,gy=null;function yy(){gy=Po=Vd=null}function vy(t){var e=Ld.current;ze(Ld),t._currentValue=e}function Am(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fo(t,e){Vd=t,gy=Po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(gy!==t)if(t={context:t,memoizedValue:e,next:null},Po===null){if(Vd===null)throw Error(z(308));Po=t,Vd.dependencies={lanes:0,firstContext:t}}else Po=Po.next=t;return e}var Si=null;function xy(t){Si===null?Si=[t]:Si.push(t)}function wS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wr(t,r)}function Wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function wy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _S(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wr(t,n)}return s=r.interleaved,s===null?(e.next=e,xy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wr(t,n)}function td(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iy(t,n)}}function t_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var s=t.updateQueue;ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(p=e,v=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(v,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,p=typeof b=="function"?b.call(v,f,p):b,p==null)break e;f=Ke({},f,p);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zi|=o,t.lanes=o,t.memoizedState=f}}function n_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Mc={},pr=oi(Mc),uc=oi(Mc),dc=oi(Mc);function Ii(t){if(t===Mc)throw Error(z(174));return t}function _y(t,e){switch(Me(dc,e),Me(uc,t),Me(pr,Mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lm(e,t)}ze(pr),Me(pr,e)}function ya(){ze(pr),ze(uc),ze(dc)}function ES(t){Ii(dc.current);var e=Ii(pr.current),n=lm(e,t.type);e!==n&&(Me(uc,t),Me(pr,n))}function Ey(t){uc.current===t&&(ze(pr),ze(uc))}var qe=oi(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pp=[];function Ty(){for(var t=0;t<pp.length;t++)pp[t]._workInProgressVersionPrimary=null;pp.length=0}var nd=Jr.ReactCurrentDispatcher,mp=Jr.ReactCurrentBatchConfig,$i=0,Ge=null,ht=null,xt=null,$d=!1,zl=!1,hc=0,yk=0;function Nt(){throw Error(z(321))}function Sy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function Iy(t,e,n,r,s,i){if($i=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nd.current=t===null||t.memoizedState===null?_k:Ek,t=n(r,s),zl){i=0;do{if(zl=!1,hc=0,25<=i)throw Error(z(301));i+=1,xt=ht=null,e.updateQueue=null,nd.current=Tk,t=n(r,s)}while(zl)}if(nd.current=zd,e=ht!==null&&ht.next!==null,$i=0,xt=ht=Ge=null,$d=!1,e)throw Error(z(300));return t}function by(){var t=hc!==0;return hc=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ge.memoizedState=xt=t:xt=xt.next=t,xt}function Rn(){if(ht===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=xt===null?Ge.memoizedState:xt.next;if(e!==null)xt=e,ht=t;else{if(t===null)throw Error(z(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},xt===null?Ge.memoizedState=xt=t:xt=xt.next=t}return xt}function fc(t,e){return typeof e=="function"?e(t):e}function gp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if(($i&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ge.lanes|=h,zi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,qn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,zi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qn(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function TS(){}function SS(t,e){var n=Ge,r=Rn(),s=e(),i=!qn(r.memoizedState,s);if(i&&(r.memoizedState=s,sn=!0),r=r.queue,Cy(CS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,pc(9,bS.bind(null,n,r,s,e),void 0,null),wt===null)throw Error(z(349));$i&30||IS(n,e,s)}return s}function IS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bS(t,e,n,r){e.value=n,e.getSnapshot=r,AS(e)&&NS(t)}function CS(t,e,n){return n(function(){AS(e)&&NS(t)})}function AS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function NS(t){var e=Wr(t,1);e!==null&&Wn(e,t,1,-1)}function r_(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:t},e.queue=t,t=t.dispatch=wk.bind(null,Ge,t),[e.memoizedState,t]}function pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function RS(){return Rn().memoizedState}function rd(t,e,n,r){var s=ir();Ge.flags|=t,s.memoizedState=pc(1|e,n,void 0,r===void 0?null:r)}function jh(t,e,n,r){var s=Rn();r=r===void 0?null:r;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,r!==null&&Sy(r,o.deps)){s.memoizedState=pc(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=pc(1|e,n,i,r)}function s_(t,e){return rd(8390656,8,t,e)}function Cy(t,e){return jh(2048,8,t,e)}function PS(t,e){return jh(4,2,t,e)}function jS(t,e){return jh(4,4,t,e)}function kS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DS(t,e,n){return n=n!=null?n.concat([t]):null,jh(4,4,kS.bind(null,e,t),n)}function Ay(){}function OS(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MS(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LS(t,e,n){return $i&21?(qn(n,e)||(n=zT(),Ge.lanes|=n,zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function vk(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=mp.transition;mp.transition={};try{t(!1),e()}finally{Pe=n,mp.transition=r}}function VS(){return Rn().memoizedState}function xk(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FS(t))US(e,n);else if(n=wS(t,e,n,r),n!==null){var s=qt();Wn(n,t,r,s),$S(n,e,r)}}function wk(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FS(t))US(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,qn(a,o)){var c=e.interleaved;c===null?(s.next=s,xy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=wS(t,e,s,r),n!==null&&(s=qt(),Wn(n,t,r,s),$S(n,e,r))}}function FS(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function US(t,e){zl=$d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $S(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,iy(t,n)}}var zd={readContext:Nn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},_k={readContext:Nn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:s_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rd(4194308,4,kS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return rd(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xk.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:r_,useDebugValue:Ay,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=r_(!1),e=t[0];return t=vk.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=ir();if(He){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),wt===null)throw Error(z(349));$i&30||IS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,s_(CS.bind(null,r,i,t),[t]),r.flags|=2048,pc(9,bS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ir(),e=wt.identifierPrefix;if(He){var n=Mr,r=Or;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ek={readContext:Nn,useCallback:OS,useContext:Nn,useEffect:Cy,useImperativeHandle:DS,useInsertionEffect:PS,useLayoutEffect:jS,useMemo:MS,useReducer:gp,useRef:RS,useState:function(){return gp(fc)},useDebugValue:Ay,useDeferredValue:function(t){var e=Rn();return LS(e,ht.memoizedState,t)},useTransition:function(){var t=gp(fc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:TS,useSyncExternalStore:SS,useId:VS,unstable_isNewReconciler:!1},Tk={readContext:Nn,useCallback:OS,useContext:Nn,useEffect:Cy,useImperativeHandle:DS,useInsertionEffect:PS,useLayoutEffect:jS,useMemo:MS,useReducer:yp,useRef:RS,useState:function(){return yp(fc)},useDebugValue:Ay,useDeferredValue:function(t){var e=Rn();return ht===null?e.memoizedState=t:LS(e,ht.memoizedState,t)},useTransition:function(){var t=yp(fc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:TS,useSyncExternalStore:SS,useId:VS,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Nm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kh={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Fs(t),i=Fr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Wn(e,t,s,r),td(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Fs(t),i=Fr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(Wn(e,t,s,r),td(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Fs(t),s=Fr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(Wn(e,t,r,n),td(e,t,r))}};function i_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!oc(n,r)||!oc(s,i):!0}function zS(t,e,n){var r=!1,s=Ks,i=e.contextType;return typeof i=="object"&&i!==null?i=Nn(i):(s=an(e)?Fi:Mt.current,r=e.contextTypes,i=(r=r!=null)?pa(t,s):Ks),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function o_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function Rm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nn(i):(i=an(e)?Fi:Mt.current,s.context=pa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Nm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kh.enqueueReplaceState(s,s.state,null),Fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e){try{var n="",r=e;do n+=XP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sk=typeof WeakMap=="function"?WeakMap:Map;function BS(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wd||(Wd=!0,$m=r),Pm(t,e)},n}function WS(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Pm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vk.bind(null,t,e,n),e.then(t,t))}function l_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var Ik=Jr.ReactCurrentOwner,sn=!1;function zt(t,e,n,r){e.child=t===null?xS(e,null,n,r):ga(e,t.child,n,r)}function u_(t,e,n,r,s){n=n.render;var i=e.ref;return Fo(e,s),r=Iy(t,e,n,r,i,s),n=by(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hr(t,e,s)):(He&&n&&fy(e),e.flags|=1,zt(t,e,r,s),e.child)}function d_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!My(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,HS(t,e,i,r,s)):(t=ad(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:oc,n(o,r)&&t.ref===e.ref)return Hr(t,e,s)}return e.flags|=1,t=Us(i,r),t.ref=e.ref,t.return=e,e.child=t}function HS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(oc(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Hr(t,e,s)}return jm(t,e,n,r,s)}function qS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(ko,hn),hn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(ko,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(ko,hn),hn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Me(ko,hn),hn|=r;return zt(t,e,s,n),e.child}function GS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jm(t,e,n,r,s){var i=an(n)?Fi:Mt.current;return i=pa(e,i),Fo(e,s),n=Iy(t,e,n,r,i,s),r=by(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hr(t,e,s)):(He&&r&&fy(e),e.flags|=1,zt(t,e,n,s),e.child)}function h_(t,e,n,r,s){if(an(n)){var i=!0;Dd(e)}else i=!1;if(Fo(e,s),e.stateNode===null)sd(t,e),zS(e,n,r),Rm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nn(d):(d=an(n)?Fi:Mt.current,d=pa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&o_(e,o,r,d),ms=!1;var p=e.memoizedState;o.state=p,Fd(e,r,o,s),c=e.memoizedState,a!==r||p!==c||on.current||ms?(typeof h=="function"&&(Nm(e,n,h,r),c=e.memoizedState),(a=ms||i_(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_S(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Dn(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=an(n)?Fi:Mt.current,c=pa(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&o_(e,o,r,c),ms=!1,p=e.memoizedState,o.state=p,Fd(e,r,o,s);var b=e.memoizedState;a!==f||p!==b||on.current||ms?(typeof v=="function"&&(Nm(e,n,v,r),b=e.memoizedState),(d=ms||i_(e,n,d,r,p,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return km(t,e,n,r,i,s)}function km(t,e,n,r,s,i){GS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xw(e,n,!1),Hr(t,e,i);r=e.stateNode,Ik.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ga(e,t.child,null,i),e.child=ga(e,null,a,i)):zt(t,e,a,i),e.memoizedState=r.state,s&&Xw(e,n,!0),e.child}function KS(t){var e=t.stateNode;e.pendingContext?Yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yw(t,e.context,!1),_y(t,e.containerInfo)}function f_(t,e,n,r,s){return ma(),my(s),e.flags|=256,zt(t,e,n,r),e.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Om(t){return{baseLanes:t,cachePool:null,transitions:null}}function QS(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Me(qe,s&1),t===null)return Cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mh(o,r,0,null),t=Mi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Om(n),e.memoizedState=Dm,t):Ny(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Us(a,i):(i=Mi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Om(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Dm,r}return i=t.child,t=i.sibling,r=Us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ny(t,e){return e=Mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&my(r),ga(e,t.child,null,n),t=Ny(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vp(Error(z(422))),Nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Mh({mode:"visible",children:r.children},s,0,null),i=Mi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ga(e,t.child,null,o),e.child.memoizedState=Om(o),e.memoizedState=Dm,i);if(!(e.mode&1))return Nu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=vp(i,r,void 0),Nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wr(t,s),Wn(r,t,s,-1))}return Oy(),r=vp(Error(z(421))),Nu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Fk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=Ms(s.nextSibling),gn=e,He=!0,Ln=null,t!==null&&(Tn[Sn++]=Or,Tn[Sn++]=Mr,Tn[Sn++]=Ui,Or=t.id,Mr=t.overflow,Ui=e),e=Ny(e,r.children),e.flags|=4096,e)}function p_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Am(t.return,e,n)}function xp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function YS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(zt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,n,e);else if(t.tag===19)p_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ud(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ud(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xp(e,!0,n,null,i);break;case"together":xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ck(t,e,n){switch(e.tag){case 3:KS(e),ma();break;case 5:ES(e);break;case 1:an(e.type)&&Dd(e);break;case 4:_y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Me(Ld,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?QS(t,e,n):(Me(qe,qe.current&1),t=Hr(t,e,n),t!==null?t.sibling:null);Me(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,qS(t,e,n)}return Hr(t,e,n)}var XS,Mm,JS,ZS;XS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mm=function(){};JS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ii(pr.current);var i=null;switch(n){case"input":s=sm(t,s),r=sm(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=am(t,s),r=am(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jd)}cm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Zl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Fe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ZS=function(t,e,n,r){n!==r&&(e.flags|=4)};function _l(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ak(t,e,n){var r=e.pendingProps;switch(py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return an(e.type)&&kd(),Rt(e),null;case 3:return r=e.stateNode,ya(),ze(on),ze(Mt),Ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Wm(Ln),Ln=null))),Mm(t,e),Rt(e),null;case 5:Ey(e);var s=Ii(dc.current);if(n=e.type,t!==null&&e.stateNode!=null)JS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Rt(e),null}if(t=Ii(pr.current),Cu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[dr]=e,r[cc]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<Rl.length;s++)Fe(Rl[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Tw(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":Iw(r,i),Fe("invalid",r)}cm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bu(r.textContent,a,t),s=["children",""+a]):Zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":vu(r),Sw(r,i,!0);break;case"textarea":vu(r),bw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[cc]=r,XS(t,e,!1,!1),e.stateNode=t;e:{switch(o=um(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Rl.length;s++)Fe(Rl[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":Tw(t,r),s=sm(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Iw(t,r),s=am(t,r),Fe("invalid",t);break;default:s=r}cm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?RT(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AT(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ec(t,c):typeof c=="number"&&ec(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",t):c!=null&&Zg(t,i,c,o))}switch(n){case"input":vu(t),Sw(t,r,!1);break;case"textarea":vu(t),bw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Oo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)ZS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ii(dc.current),Ii(pr.current),Cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(i=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:bu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Rt(e),null;case 13:if(ze(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&pn!==null&&e.mode&1&&!(e.flags&128))yS(),ma(),e.flags|=98560,i=!1;else if(i=Cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[dr]=e}else ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),i=!1}else Ln!==null&&(Wm(Ln),Ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?pt===0&&(pt=3):Oy())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return ya(),Mm(t,e),t===null&&ac(e.stateNode.containerInfo),Rt(e),null;case 10:return vy(e.type._context),Rt(e),null;case 17:return an(e.type)&&kd(),Rt(e),null;case 19:if(ze(qe),i=e.memoizedState,i===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_l(i,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,_l(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>xa&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Rt(e),null}else 2*nt()-i.renderingStartTime>xa&&n!==1073741824&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=qe.current,Me(qe,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return Dy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Nk(t,e){switch(py(e),e.tag){case 1:return an(e.type)&&kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ya(),ze(on),ze(Mt),Ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ey(e),null;case 13:if(ze(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(qe),null;case 4:return ya(),null;case 10:return vy(e.type._context),null;case 22:case 23:return Dy(),null;case 24:return null;default:return null}}var Ru=!1,Dt=!1,Rk=typeof WeakSet=="function"?WeakSet:Set,Q=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Lm(t,e,n){try{n()}catch(r){Je(t,e,r)}}var m_=!1;function Pk(t,e){if(wm=Nd,t=sS(),hy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:t,selectionRange:n},Nd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,S=b.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?x:Dn(e.type,x),S);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Je(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return b=m_,m_=!1,b}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lm(e,n,i)}s=s.next}while(s!==r)}}function Dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e1(t){var e=t.alternate;e!==null&&(t.alternate=null,e1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[cc],delete e[Sm],delete e[fk],delete e[pk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t1(t){return t.tag===5||t.tag===3||t.tag===4}function g_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jd));else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}function Um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Um(t,e,n),t=t.sibling;t!==null;)Um(t,e,n),t=t.sibling}var Et=null,Mn=!1;function os(t,e,n){for(n=n.child;n!==null;)n1(t,e,n),n=n.sibling}function n1(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(bh,n)}catch{}switch(n.tag){case 5:Dt||jo(n,e);case 6:var r=Et,s=Mn;Et=null,os(t,e,n),Et=r,Mn=s,Et!==null&&(Mn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Mn?(t=Et,n=n.stateNode,t.nodeType===8?hp(t.parentNode,n):t.nodeType===1&&hp(t,n),sc(t)):hp(Et,n.stateNode));break;case 4:r=Et,s=Mn,Et=n.stateNode.containerInfo,Mn=!0,os(t,e,n),Et=r,Mn=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lm(n,e,o),s=s.next}while(s!==r)}os(t,e,n);break;case 1:if(!Dt&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}os(t,e,n);break;case 21:os(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,os(t,e,n),Dt=r):os(t,e,n);break;default:os(t,e,n)}}function y_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Rk),e.forEach(function(r){var s=Uk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Mn=!1;break e;case 3:Et=a.stateNode.containerInfo,Mn=!0;break e;case 4:Et=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(Et===null)throw Error(z(160));n1(i,o,s),Et=null,Mn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Je(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r1(e,t),e=e.sibling}function r1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),sr(t),r&4){try{Bl(3,t,t.return),Dh(3,t)}catch(x){Je(t,t.return,x)}try{Bl(5,t,t.return)}catch(x){Je(t,t.return,x)}}break;case 1:jn(e,t),sr(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(jn(e,t),sr(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var s=t.stateNode;try{ec(s,"")}catch(x){Je(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&IT(s,i),um(a,o);var d=um(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?RT(s,f):h==="dangerouslySetInnerHTML"?AT(s,f):h==="children"?ec(s,f):Zg(s,h,f,d)}switch(a){case"input":im(s,i);break;case"textarea":bT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Oo(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Oo(s,!!i.multiple,i.defaultValue,!0):Oo(s,!!i.multiple,i.multiple?[]:"",!1))}s[cc]=i}catch(x){Je(t,t.return,x)}}break;case 6:if(jn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Je(t,t.return,x)}}break;case 3:if(jn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sc(e.containerInfo)}catch(x){Je(t,t.return,x)}break;case 4:jn(e,t),sr(t);break;case 13:jn(e,t),sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jy=nt())),r&4&&y_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(d=Dt)||h,jn(e,t),Dt=d):jn(e,t),sr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(f=Q=h;Q!==null;){switch(p=Q,v=p.child,p.tag){case 0:case 11:case 14:case 15:Bl(4,p,p.return);break;case 1:jo(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){Je(r,n,x)}}break;case 5:jo(p,p.return);break;case 22:if(p.memoizedState!==null){x_(f);continue}}v!==null?(v.return=p,Q=v):x_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=NT("display",o))}catch(x){Je(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Je(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jn(e,t),sr(t),r&4&&y_(t);break;case 21:break;default:jn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ec(s,""),r.flags&=-33);var i=g_(t);Um(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g_(t);Fm(t,a,o);break;default:throw Error(z(161))}}catch(c){Je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jk(t,e,n){Q=t,s1(t)}function s1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ru;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Dt;a=Ru;var d=Dt;if(Ru=o,(Dt=c)&&!d)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?w_(s):c!==null?(c.return=o,Q=c):w_(s);for(;i!==null;)Q=i,s1(i),i=i.sibling;Q=s,Ru=a,Dt=d}v_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):v_(t)}}function v_(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||Dh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&n_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}n_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&sc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Dt||e.flags&512&&Vm(e)}catch(p){Je(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function x_(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function w_(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dh(4,e)}catch(c){Je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Je(e,s,c)}}var i=e.return;try{Vm(e)}catch(c){Je(e,i,c)}break;case 5:var o=e.return;try{Vm(e)}catch(c){Je(e,o,c)}}}catch(c){Je(e,e.return,c)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var kk=Math.ceil,Bd=Jr.ReactCurrentDispatcher,Ry=Jr.ReactCurrentOwner,Cn=Jr.ReactCurrentBatchConfig,Ee=0,wt=null,it=null,It=0,hn=0,ko=oi(0),pt=0,mc=null,zi=0,Oh=0,Py=0,Wl=null,tn=null,jy=0,xa=1/0,Pr=null,Wd=!1,$m=null,Vs=null,Pu=!1,Ps=null,Hd=0,Hl=0,zm=null,id=-1,od=0;function qt(){return Ee&6?nt():id!==-1?id:id=nt()}function Fs(t){return t.mode&1?Ee&2&&It!==0?It&-It:gk.transition!==null?(od===0&&(od=zT()),od):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:QT(t.type)),t):1}function Wn(t,e,n,r){if(50<Hl)throw Hl=0,zm=null,Error(z(185));kc(t,n,r),(!(Ee&2)||t!==wt)&&(t===wt&&(!(Ee&2)&&(Oh|=n),pt===4&&ys(t,It)),ln(t,r),n===1&&Ee===0&&!(e.mode&1)&&(xa=nt()+500,Ph&&ai()))}function ln(t,e){var n=t.callbackNode;gj(t,e);var r=Ad(t,t===wt?It:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?mk(__.bind(null,t)):pS(__.bind(null,t)),dk(function(){!(Ee&6)&&ai()}),n=null;else{switch(BT(r)){case 1:n=sy;break;case 4:n=UT;break;case 16:n=Cd;break;case 536870912:n=$T;break;default:n=Cd}n=h1(n,i1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i1(t,e){if(id=-1,od=0,Ee&6)throw Error(z(327));var n=t.callbackNode;if(Uo()&&t.callbackNode!==n)return null;var r=Ad(t,t===wt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var s=Ee;Ee|=2;var i=a1();(wt!==t||It!==e)&&(Pr=null,xa=nt()+500,Oi(t,e));do try{Mk();break}catch(a){o1(t,a)}while(!0);yy(),Bd.current=i,Ee=s,it!==null?e=0:(wt=null,It=0,e=pt)}if(e!==0){if(e===2&&(s=mm(t),s!==0&&(r=s,e=Bm(t,s))),e===1)throw n=mc,Oi(t,0),ys(t,r),ln(t,nt()),n;if(e===6)ys(t,r);else{if(s=t.current.alternate,!(r&30)&&!Dk(s)&&(e=qd(t,r),e===2&&(i=mm(t),i!==0&&(r=i,e=Bm(t,i))),e===1))throw n=mc,Oi(t,0),ys(t,r),ln(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:_i(t,tn,Pr);break;case 3:if(ys(t,r),(r&130023424)===r&&(e=jy+500-nt(),10<e)){if(Ad(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Tm(_i.bind(null,t,tn,Pr),e);break}_i(t,tn,Pr);break;case 4:if(ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kk(r/1960))-r,10<r){t.timeoutHandle=Tm(_i.bind(null,t,tn,Pr),r);break}_i(t,tn,Pr);break;case 5:_i(t,tn,Pr);break;default:throw Error(z(329))}}}return ln(t,nt()),t.callbackNode===n?i1.bind(null,t):null}function Bm(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=qd(t,e),t!==2&&(e=tn,tn=n,e!==null&&Wm(e)),t}function Wm(t){tn===null?tn=t:tn.push.apply(tn,t)}function Dk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ys(t,e){for(e&=~Py,e&=~Oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function __(t){if(Ee&6)throw Error(z(327));Uo();var e=Ad(t,0);if(!(e&1))return ln(t,nt()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=mm(t);r!==0&&(e=r,n=Bm(t,r))}if(n===1)throw n=mc,Oi(t,0),ys(t,e),ln(t,nt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_i(t,tn,Pr),ln(t,nt()),null}function ky(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(xa=nt()+500,Ph&&ai())}}function Bi(t){Ps!==null&&Ps.tag===0&&!(Ee&6)&&Uo();var e=Ee;Ee|=1;var n=Cn.transition,r=Pe;try{if(Cn.transition=null,Pe=1,t)return t()}finally{Pe=r,Cn.transition=n,Ee=e,!(Ee&6)&&ai()}}function Dy(){hn=ko.current,ze(ko)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uk(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:ya(),ze(on),ze(Mt),Ty();break;case 5:Ey(r);break;case 4:ya();break;case 13:ze(qe);break;case 19:ze(qe);break;case 10:vy(r.type._context);break;case 22:case 23:Dy()}n=n.return}if(wt=t,it=t=Us(t.current,null),It=hn=e,pt=0,mc=null,Py=Oh=zi=0,tn=Wl=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Si=null}return t}function o1(t,e){do{var n=it;try{if(yy(),nd.current=zd,$d){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$d=!1}if($i=0,xt=ht=Ge=null,zl=!1,hc=0,Ry.current=null,n===null||n.return===null){pt=1,mc=e,it=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=It,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=l_(o);if(v!==null){v.flags&=-257,c_(v,o,a,i,e),v.mode&1&&a_(i,d,e),e=v,c=d;var b=e.updateQueue;if(b===null){var x=new Set;x.add(c),e.updateQueue=x}else b.add(c);break e}else{if(!(e&1)){a_(i,d,e),Oy();break e}c=Error(z(426))}}else if(He&&a.mode&1){var S=l_(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),c_(S,o,a,i,e),my(va(c,a));break e}}i=c=va(c,a),pt!==4&&(pt=2),Wl===null?Wl=[i]:Wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=BS(i,c,e);t_(i,E);break e;case 1:a=c;var w=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Vs===null||!Vs.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=WS(i,a,e);t_(i,j);break e}}i=i.return}while(i!==null)}c1(n)}catch(D){e=D,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function a1(){var t=Bd.current;return Bd.current=zd,t===null?zd:t}function Oy(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||!(zi&268435455)&&!(Oh&268435455)||ys(wt,It)}function qd(t,e){var n=Ee;Ee|=2;var r=a1();(wt!==t||It!==e)&&(Pr=null,Oi(t,e));do try{Ok();break}catch(s){o1(t,s)}while(!0);if(yy(),Ee=n,Bd.current=r,it!==null)throw Error(z(261));return wt=null,It=0,pt}function Ok(){for(;it!==null;)l1(it)}function Mk(){for(;it!==null&&!aj();)l1(it)}function l1(t){var e=d1(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?c1(t):it=e,Ry.current=null}function c1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nk(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,it=null;return}}else if(n=Ak(n,e,hn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);pt===0&&(pt=5)}function _i(t,e,n){var r=Pe,s=Cn.transition;try{Cn.transition=null,Pe=1,Lk(t,e,n,r)}finally{Cn.transition=s,Pe=r}return null}function Lk(t,e,n,r){do Uo();while(Ps!==null);if(Ee&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yj(t,i),t===wt&&(it=wt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,h1(Cd,function(){return Uo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=Pe;Pe=1;var a=Ee;Ee|=4,Ry.current=null,Pk(t,n),r1(n,t),rk(_m),Nd=!!wm,_m=wm=null,t.current=n,jk(n),lj(),Ee=a,Pe=o,Cn.transition=i}else t.current=n;if(Pu&&(Pu=!1,Ps=t,Hd=s),i=t.pendingLanes,i===0&&(Vs=null),dj(n.stateNode),ln(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wd)throw Wd=!1,t=$m,$m=null,t;return Hd&1&&t.tag!==0&&Uo(),i=t.pendingLanes,i&1?t===zm?Hl++:(Hl=0,zm=t):Hl=0,ai(),null}function Uo(){if(Ps!==null){var t=BT(Hd),e=Cn.transition,n=Pe;try{if(Cn.transition=null,Pe=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,Hd=0,Ee&6)throw Error(z(331));var s=Ee;for(Ee|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(Q=d;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Bl(8,h,i)}var f=h.child;if(f!==null)f.return=h,Q=f;else for(;Q!==null;){h=Q;var p=h.sibling,v=h.return;if(e1(h),h===d){Q=null;break}if(p!==null){p.return=v,Q=p;break}Q=v}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bl(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Q=E;break e}Q=i.return}}var w=t.current;for(Q=w;Q!==null;){o=Q;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Q=I;else e:for(o=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dh(9,a)}}catch(D){Je(a,a.return,D)}if(a===o){Q=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,Q=j;break e}Q=a.return}}if(Ee=s,ai(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(bh,t)}catch{}r=!0}return r}finally{Pe=n,Cn.transition=e}}return!1}function E_(t,e,n){e=va(n,e),e=BS(t,e,1),t=Ls(t,e,1),e=qt(),t!==null&&(kc(t,1,e),ln(t,e))}function Je(t,e,n){if(t.tag===3)E_(t,t,n);else for(;e!==null;){if(e.tag===3){E_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=va(n,t),t=WS(e,t,1),e=Ls(e,t,1),t=qt(),e!==null&&(kc(e,1,t),ln(e,t));break}}e=e.return}}function Vk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(It&n)===n&&(pt===4||pt===3&&(It&130023424)===It&&500>nt()-jy?Oi(t,0):Py|=n),ln(t,e)}function u1(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var n=qt();t=Wr(t,e),t!==null&&(kc(t,e,n),ln(t,n))}function Fk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u1(t,n)}function Uk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),u1(t,n)}var d1;d1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,Ck(t,e,n);sn=!!(t.flags&131072)}else sn=!1,He&&e.flags&1048576&&mS(e,Md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sd(t,e),t=e.pendingProps;var s=pa(e,Mt.current);Fo(e,n),s=Iy(null,e,r,t,s,n);var i=by();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(i=!0,Dd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wy(e),s.updater=kh,e.stateNode=s,s._reactInternals=e,Rm(e,r,t,n),e=km(null,e,r,!0,i,n)):(e.tag=0,He&&i&&fy(e),zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zk(r),t=Dn(r,t),s){case 0:e=jm(null,e,r,t,n);break e;case 1:e=h_(null,e,r,t,n);break e;case 11:e=u_(null,e,r,t,n);break e;case 14:e=d_(null,e,r,Dn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),jm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),h_(t,e,r,s,n);case 3:e:{if(KS(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_S(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=va(Error(z(423)),e),e=f_(t,e,r,n,s);break e}else if(r!==s){s=va(Error(z(424)),e),e=f_(t,e,r,n,s);break e}else for(pn=Ms(e.stateNode.containerInfo.firstChild),gn=e,He=!0,Ln=null,n=xS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ma(),r===s){e=Hr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return ES(e),t===null&&Cm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Em(r,s)?o=null:i!==null&&Em(r,i)&&(e.flags|=32),GS(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&Cm(e),null;case 13:return QS(t,e,n);case 4:return _y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ga(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),u_(t,e,r,s,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Me(Ld,r._currentValue),r._currentValue=o,i!==null)if(qn(i.value,o)){if(i.children===s.children&&!on.current){e=Hr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Fr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Am(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Am(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fo(e,n),s=Nn(s),r=r(s),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,s=Dn(r,e.pendingProps),s=Dn(r.type,s),d_(t,e,r,s,n);case 15:return HS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),sd(t,e),e.tag=1,an(r)?(t=!0,Dd(e)):t=!1,Fo(e,n),zS(e,r,s),Rm(e,r,s,n),km(null,e,r,!0,t,n);case 19:return YS(t,e,n);case 22:return qS(t,e,n)}throw Error(z(156,e.tag))};function h1(t,e){return FT(t,e)}function $k(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new $k(t,e,n,r)}function My(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zk(t){if(typeof t=="function")return My(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ty)return 11;if(t===ny)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ad(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")My(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Mi(n.children,s,i,e);case ey:o=8,s|=8;break;case em:return t=bn(12,n,e,s|2),t.elementType=em,t.lanes=i,t;case tm:return t=bn(13,n,e,s),t.elementType=tm,t.lanes=i,t;case nm:return t=bn(19,n,e,s),t.elementType=nm,t.lanes=i,t;case ET:return Mh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wT:o=10;break e;case _T:o=9;break e;case ty:o=11;break e;case ny:o=14;break e;case ps:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=bn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Mi(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Mh(t,e,n,r){return t=bn(22,t,r,e),t.elementType=ET,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function _p(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ly(t,e,n,r,s,i,o,a,c){return t=new Bk(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wy(i),t}function Wk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f1(t){if(!t)return Ks;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(an(n))return fS(t,n,e)}return e}function p1(t,e,n,r,s,i,o,a,c){return t=Ly(n,r,!0,t,s,i,o,a,c),t.context=f1(null),n=t.current,r=qt(),s=Fs(n),i=Fr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,kc(t,s,r),ln(t,r),t}function Lh(t,e,n,r){var s=e.current,i=qt(),o=Fs(s);return n=f1(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(Wn(t,s,o,i),td(t,s,o)),o}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vy(t,e){T_(t,e),(t=t.alternate)&&T_(t,e)}function Hk(){return null}var m1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fy(t){this._internalRoot=t}Vh.prototype.render=Fy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Lh(t,e,null,null)};Vh.prototype.unmount=Fy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bi(function(){Lh(null,t,null,null)}),e[Br]=null}};function Vh(t){this._internalRoot=t}Vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=qT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gs.length&&e!==0&&e<gs[n].priority;n++);gs.splice(n,0,t),n===0&&KT(t)}};function Uy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S_(){}function qk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Gd(o);i.call(d)}}var o=p1(e,r,t,0,null,!1,!1,"",S_);return t._reactRootContainer=o,t[Br]=o.current,ac(t.nodeType===8?t.parentNode:t),Bi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Gd(c);a.call(d)}}var c=Ly(t,0,!1,null,null,!1,!1,"",S_);return t._reactRootContainer=c,t[Br]=c.current,ac(t.nodeType===8?t.parentNode:t),Bi(function(){Lh(e,c,n,r)}),c}function Uh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Gd(o);a.call(c)}}Lh(e,o,t,s)}else o=qk(n,e,t,s,r);return Gd(o)}WT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nl(e.pendingLanes);n!==0&&(iy(e,n|1),ln(e,nt()),!(Ee&6)&&(xa=nt()+500,ai()))}break;case 13:Bi(function(){var r=Wr(t,1);if(r!==null){var s=qt();Wn(r,t,1,s)}}),Vy(t,1)}};oy=function(t){if(t.tag===13){var e=Wr(t,134217728);if(e!==null){var n=qt();Wn(e,t,134217728,n)}Vy(t,134217728)}};HT=function(t){if(t.tag===13){var e=Fs(t),n=Wr(t,e);if(n!==null){var r=qt();Wn(n,t,e,r)}Vy(t,e)}};qT=function(){return Pe};GT=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};hm=function(t,e,n){switch(e){case"input":if(im(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Rh(r);if(!s)throw Error(z(90));ST(r),im(r,s)}}}break;case"textarea":bT(t,n);break;case"select":e=n.value,e!=null&&Oo(t,!!n.multiple,e,!1)}};kT=ky;DT=Bi;var Gk={usingClientEntryPoint:!1,Events:[Oc,Co,Rh,PT,jT,ky]},El={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kk={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LT(t),t===null?null:t.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||Hk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{bh=ju.inject(Kk),fr=ju}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(e))throw Error(z(200));return Wk(t,e,null,n)};xn.createRoot=function(t,e){if(!Uy(t))throw Error(z(299));var n=!1,r="",s=m1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ly(t,1,!1,null,null,n,!1,r,s),t[Br]=e.current,ac(t.nodeType===8?t.parentNode:t),new Fy(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=LT(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return Bi(t)};xn.hydrate=function(t,e,n){if(!Fh(e))throw Error(z(200));return Uh(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!Uy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=m1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=p1(e,null,t,1,n??null,s,!1,i,o),t[Br]=e.current,ac(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vh(e)};xn.render=function(t,e,n){if(!Fh(e))throw Error(z(200));return Uh(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(z(40));return t._reactRootContainer?(Bi(function(){Uh(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};xn.unstable_batchedUpdates=ky;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Uh(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function g1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g1)}catch(t){console.error(t)}}g1(),gT.exports=xn;var so=gT.exports;const Qk=rT(so);var y1,I_=so;y1=I_.createRoot,I_.hydrateRoot;function Yk(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var v1={exports:{}},x1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=g;function Xk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jk=typeof Object.is=="function"?Object.is:Xk,Zk=wa.useState,e2=wa.useEffect,t2=wa.useLayoutEffect,n2=wa.useDebugValue;function r2(t,e){var n=e(),r=Zk({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return t2(function(){s.value=n,s.getSnapshot=e,Ep(s)&&i({inst:s})},[t,n,e]),e2(function(){return Ep(s)&&i({inst:s}),t(function(){Ep(s)&&i({inst:s})})},[t]),n2(n),n}function Ep(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jk(t,n)}catch{return!0}}function s2(t,e){return e()}var i2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s2:r2;x1.useSyncExternalStore=wa.useSyncExternalStore!==void 0?wa.useSyncExternalStore:i2;v1.exports=x1;var o2=v1.exports;const a2=pT.useInsertionEffect,l2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",c2=l2?g.useLayoutEffect:g.useEffect,u2=a2||c2,w1=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return u2(()=>{e[0]=t}),e[1]},d2="popstate",$y="pushState",zy="replaceState",h2="hashchange",b_=[d2,$y,zy,h2],f2=t=>{for(const e of b_)addEventListener(e,t);return()=>{for(const e of b_)removeEventListener(e,t)}},_1=(t,e)=>o2.useSyncExternalStore(f2,t,e),p2=()=>location.search,m2=({ssrSearch:t=""}={})=>_1(p2,()=>t),C_=()=>location.pathname,g2=({ssrPath:t}={})=>_1(C_,t?()=>t:C_),y2=(t,{replace:e=!1,state:n=null}={})=>history[e?zy:$y](n,"",t),v2=(t={})=>[g2(t),y2],A_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[A_]>"u"){for(const t of[$y,zy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,A_,{value:!0})}const x2=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",E1=(t="")=>t==="/"?"":t,w2=(t,e)=>t[0]==="~"?t.slice(1):E1(e)+t,_2=(t="",e)=>x2(N_(E1(t)),N_(e)),N_=t=>{try{return decodeURI(t)}catch{return t}},T1={hook:v2,searchHook:m2,parser:Yk,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},S1=g.createContext(T1),Lc=()=>g.useContext(S1),I1={},b1=g.createContext(I1),E2=()=>g.useContext(b1),$h=t=>{const[e,n]=t.hook(t);return[_2(t.base,e),w1((r,s)=>n(w2(r,t.base),s))]},T2=()=>$h(Lc()),C1=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,p)=>[f,c[p]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[a]:[]]:[!1,null]},S2=({children:t,...e})=>{var h,f;const n=Lc(),r=e.hook?T1:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=g.useRef({}),c=a.current,d=c;for(let p in r){const v=p==="base"?r[p]+(e[p]||""):e[p]||r[p];c===d&&v!==d[p]&&(a.current=d={...d}),d[p]=v,v!==r[p]&&(s=d)}return g.createElement(S1.Provider,{value:s,children:t})},R_=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,I2=t=>{let e=g.useRef(I1),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},as=({path:t,nest:e,match:n,...r})=>{const s=Lc(),[i]=$h(s),[o,a,c]=n??C1(s.parser,t,i,e),d=I2({...E2(),...a});if(!o)return null;const h=c?g.createElement(S2,{base:c},R_(r,d)):R_(r,d);return g.createElement(b1.Provider,{value:d,children:h})},b2=g.forwardRef((t,e)=>{const n=Lc(),[r,s]=$h(n),{to:i="",href:o=i,onClick:a,asChild:c,children:d,className:h,replace:f,state:p,...v}=t,b=w1(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&g.isValidElement(d)?g.cloneElement(d,{onClick:b,href:x}):g.createElement("a",{...v,onClick:b,href:x,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),A1=t=>Array.isArray(t)?t.flatMap(e=>A1(e&&e.type===g.Fragment?e.props.children:e)):[t],C2=({children:t,location:e})=>{const n=Lc(),[r]=$h(n);for(const s of A1(t)){let i=0;if(g.isValidElement(s)&&(i=C1(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var Ua=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wi=typeof window>"u"||"Deno"in globalThis;function En(){}function A2(t,e){return typeof t=="function"?t(e):t}function Hm(t){return typeof t=="number"&&t>=0&&t!==1/0}function N1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $o(t,e){return typeof t=="function"?t(e):t}function Vn(t,e){return typeof t=="function"?t(e):t}function P_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==By(o,e.options))return!1}else if(!gc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function j_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Hi(e.options.mutationKey)!==Hi(i))return!1}else if(!gc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function By(t,e){return((e==null?void 0:e.queryKeyHashFn)||Hi)(t)}function Hi(t){return JSON.stringify(t,(e,n)=>qm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!gc(t[n],e[n])):!1}function R1(t,e){if(t===e)return t;const n=k_(t)&&k_(e);if(n||qm(t)&&qm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=R1(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Kd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function k_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qm(t){if(!D_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!D_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function D_(t){return Object.prototype.toString.call(t)==="[object Object]"}function N2(t){return new Promise(e=>{setTimeout(e,t)})}function Gm(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?R1(t,e):e}function R2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function P2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Wy=Symbol();function P1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Wy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ai,_s,ea,GE,j2=(GE=class extends Ua{constructor(){super();ne(this,Ai);ne(this,_s);ne(this,ea);G(this,ea,e=>{if(!Wi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,_s)||this.setEventListener(O(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,_s))==null||e.call(this),G(this,_s,void 0))}setEventListener(e){var n;G(this,ea,e),(n=O(this,_s))==null||n.call(this),G(this,_s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,Ai)!==e&&(G(this,Ai,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Ai)=="boolean"?O(this,Ai):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ai=new WeakMap,_s=new WeakMap,ea=new WeakMap,GE),Hy=new j2,ta,Es,na,KE,k2=(KE=class extends Ua{constructor(){super();ne(this,ta,!0);ne(this,Es);ne(this,na);G(this,na,e=>{if(!Wi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,Es)||this.setEventListener(O(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Es))==null||e.call(this),G(this,Es,void 0))}setEventListener(e){var n;G(this,na,e),(n=O(this,Es))==null||n.call(this),G(this,Es,e(this.setOnline.bind(this)))}setOnline(e){O(this,ta)!==e&&(G(this,ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,ta)}},ta=new WeakMap,Es=new WeakMap,na=new WeakMap,KE),Qd=new k2;function Km(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function D2(t){return Math.min(1e3*2**t,3e4)}function j1(t){return(t??"online")==="online"?Qd.isOnline():!0}var k1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Tp(t){return t instanceof k1}function D1(t){let e=!1,n=0,r=!1,s;const i=Km(),o=x=>{var S;r||(p(new k1(x)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>Hy.isFocused()&&(t.networkMode==="always"||Qd.isOnline())&&t.canRun(),h=()=>j1(t.networkMode)&&t.canRun(),f=x=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,x),s==null||s(),i.resolve(x))},p=x=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,x),s==null||s(),i.reject(x))},v=()=>new Promise(x=>{var S;s=E=>{(r||d())&&x(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),b=()=>{if(r)return;let x;const S=n===0?t.initialPromise:void 0;try{x=S??t.fn()}catch(E){x=Promise.reject(E)}Promise.resolve(x).then(f).catch(E=>{var M;if(r)return;const w=t.retry??(Wi?0:3),I=t.retryDelay??D2,j=typeof I=="function"?I(n,E):I,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){p(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),N2(j).then(()=>d()?void 0:v()).then(()=>{e?p(E):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?b():v().then(b),i)}}function O2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ft=O2(),Ni,QE,O1=(QE=class{constructor(){ne(this,Ni)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Hm(this.gcTime)&&G(this,Ni,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wi?1/0:5*60*1e3))}clearGcTimeout(){O(this,Ni)&&(clearTimeout(O(this,Ni)),G(this,Ni,void 0))}},Ni=new WeakMap,QE),ra,sa,_n,jt,Ac,Ri,On,Rr,YE,M2=(YE=class extends O1{constructor(n){super();ne(this,On);ne(this,ra);ne(this,sa);ne(this,_n);ne(this,jt);ne(this,Ac);ne(this,Ri);G(this,Ri,!1),G(this,Ac,n.defaultOptions),this.setOptions(n.options),this.observers=[],G(this,_n,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,G(this,ra,L2(this.options)),this.state=n.state??O(this,ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=O(this,jt))==null?void 0:n.promise}setOptions(n){this.options={...O(this,Ac),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,_n).remove(this)}setData(n,r){const s=Gm(this.state.data,n,this.options);return pe(this,On,Rr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){pe(this,On,Rr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=O(this,jt))==null?void 0:s.promise;return(i=O(this,jt))==null||i.cancel(n),r?r.then(En).catch(En):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,ra))}isActive(){return this.observers.some(n=>Vn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!N1(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,jt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=O(this,jt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),O(this,_n).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(O(this,jt)&&(O(this,Ri)?O(this,jt).cancel({revert:!0}):O(this,jt).cancelRetry()),this.scheduleGc()),O(this,_n).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,On,Rr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,jt))return O(this,jt).continueRetry(),O(this,jt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(G(this,Ri,!0),s.signal)})},o=()=>{const p=P1(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),G(this,Ri,!1),this.options.persister?this.options.persister(p,v,this):p(v)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),G(this,sa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&pe(this,On,Rr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const c=p=>{var v,b,x,S;Tp(p)&&p.silent||pe(this,On,Rr).call(this,{type:"error",error:p}),Tp(p)||((b=(v=O(this,_n).config).onError)==null||b.call(v,p,this),(S=(x=O(this,_n).config).onSettled)==null||S.call(x,this.state.data,p,this)),this.scheduleGc()};return G(this,jt,D1({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var v,b,x,S;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){c(E);return}(b=(v=O(this,_n).config).onSuccess)==null||b.call(v,p,this),(S=(x=O(this,_n).config).onSettled)==null||S.call(x,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,v)=>{pe(this,On,Rr).call(this,{type:"failed",failureCount:p,error:v})},onPause:()=>{pe(this,On,Rr).call(this,{type:"pause"})},onContinue:()=>{pe(this,On,Rr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),O(this,jt).start()}},ra=new WeakMap,sa=new WeakMap,_n=new WeakMap,jt=new WeakMap,Ac=new WeakMap,Ri=new WeakMap,On=new WeakSet,Rr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...M1(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Tp(i)&&i.revert&&O(this,sa)?{...O(this,sa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ft.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),O(this,_n).notify({query:this,type:"updated",action:n})})},YE);function M1(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function L2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ar,XE,V2=(XE=class extends Ua{constructor(e={}){super();ne(this,ar);this.config=e,G(this,ar,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??By(s,n);let o=this.get(i);return o||(o=new M2({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,ar).has(e.queryHash)||(O(this,ar).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,ar).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,ar).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,ar).get(e)}getAll(){return[...O(this,ar).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>P_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>P_(e,r)):n}notify(e){ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ar=new WeakMap,XE),lr,Ut,Pi,cr,hs,JE,F2=(JE=class extends O1{constructor(n){super();ne(this,cr);ne(this,lr);ne(this,Ut);ne(this,Pi);this.mutationId=n.mutationId,G(this,Ut,n.mutationCache),G(this,lr,[]),this.state=n.state||L1(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){O(this,lr).includes(n)||(O(this,lr).push(n),this.clearGcTimeout(),O(this,Ut).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){G(this,lr,O(this,lr).filter(r=>r!==n)),this.scheduleGc(),O(this,Ut).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){O(this,lr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Ut).remove(this))}continue(){var n;return((n=O(this,Pi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,d,h,f,p,v,b,x,S,E,w,I,j,D,M,_,T;G(this,Pi,D1({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{pe(this,cr,hs).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{pe(this,cr,hs).call(this,{type:"pause"})},onContinue:()=>{pe(this,cr,hs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Ut).canRun(this)}));const r=this.state.status==="pending",s=!O(this,Pi).canStart();try{if(!r){pe(this,cr,hs).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=O(this,Ut).config).onMutate)==null?void 0:o.call(i,n,this));const N=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));N!==this.state.context&&pe(this,cr,hs).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const C=await O(this,Pi).start();return await((h=(d=O(this,Ut).config).onSuccess)==null?void 0:h.call(d,C,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,n,this.state.context)),await((b=(v=O(this,Ut).config).onSettled)==null?void 0:b.call(v,C,null,this.state.variables,this.state.context,this)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,C,null,n,this.state.context)),pe(this,cr,hs).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(E=O(this,Ut).config).onError)==null?void 0:w.call(E,C,n,this.state.context,this)),await((j=(I=this.options).onError)==null?void 0:j.call(I,C,n,this.state.context)),await((M=(D=O(this,Ut).config).onSettled)==null?void 0:M.call(D,void 0,C,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,C,n,this.state.context)),C}finally{pe(this,cr,hs).call(this,{type:"error",error:C})}}finally{O(this,Ut).runNext(this)}}},lr=new WeakMap,Ut=new WeakMap,Pi=new WeakMap,cr=new WeakSet,hs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ft.batch(()=>{O(this,lr).forEach(s=>{s.onMutationUpdate(n)}),O(this,Ut).notify({mutation:this,type:"updated",action:n})})},JE);function L1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dn,Nc,ZE,U2=(ZE=class extends Ua{constructor(e={}){super();ne(this,dn);ne(this,Nc);this.config=e,G(this,dn,new Map),G(this,Nc,Date.now())}build(e,n,r){const s=new F2({mutationCache:this,mutationId:++mu(this,Nc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=ku(e),r=O(this,dn).get(n)??[];r.push(e),O(this,dn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ku(e);if(O(this,dn).has(n)){const s=(r=O(this,dn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?O(this,dn).delete(n):O(this,dn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=O(this,dn).get(ku(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=O(this,dn).get(ku(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...O(this,dn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j_(n,r))}findAll(e={}){return this.getAll().filter(n=>j_(e,n))}notify(e){ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ft.batch(()=>Promise.all(e.map(n=>n.continue().catch(En))))}},dn=new WeakMap,Nc=new WeakMap,ZE);function ku(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function O_(t){return{onFetch:(e,n)=>{var h,f,p,v,b;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const S=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},E=P1(e.options,e.fetchOptions),w=async(I,j,D)=>{if(x)return Promise.reject();if(j==null&&I.pages.length)return Promise.resolve(I);const M={queryKey:e.queryKey,pageParam:j,direction:D?"backward":"forward",meta:e.options.meta};S(M);const _=await E(M),{maxPages:T}=e.options,C=D?P2:R2;return{pages:C(I.pages,_,T),pageParams:C(I.pageParams,j,T)}};if(s&&i.length){const I=s==="backward",j=I?$2:M_,D={pages:i,pageParams:o},M=j(r,D);a=await w(D,M,I)}else{const I=t??i.length;do{const j=c===0?o[0]??r.initialPageParam:M_(r,a);if(c>0&&j==null)break;a=await w(a,j),c++}while(c<I)}return a};e.options.persister?e.fetchFn=()=>{var x,S;return(S=(x=e.options).persister)==null?void 0:S.call(x,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function M_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function $2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,Ts,Ss,ia,oa,Is,aa,la,eT,z2=(eT=class{constructor(t={}){ne(this,Xe);ne(this,Ts);ne(this,Ss);ne(this,ia);ne(this,oa);ne(this,Is);ne(this,aa);ne(this,la);G(this,Xe,t.queryCache||new V2),G(this,Ts,t.mutationCache||new U2),G(this,Ss,t.defaultOptions||{}),G(this,ia,new Map),G(this,oa,new Map),G(this,Is,0)}mount(){mu(this,Is)._++,O(this,Is)===1&&(G(this,aa,Hy.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onFocus())})),G(this,la,Qd.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onOnline())})))}unmount(){var t,e;mu(this,Is)._--,O(this,Is)===0&&((t=O(this,aa))==null||t.call(this),G(this,aa,void 0),(e=O(this,la))==null||e.call(this),G(this,la,void 0))}isFetching(t){return O(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Ts).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=O(this,Xe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime($o(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return O(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=A2(e,i);if(o!==void 0)return O(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ft.batch(()=>O(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,Xe);ft.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,Xe),r={type:"active",...t};return ft.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ft.batch(()=>O(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(En).catch(En)}invalidateQueries(t={},e={}){return ft.batch(()=>{if(O(this,Xe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ft.batch(()=>O(this,Xe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(En)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(En)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,Xe).build(this,e);return n.isStaleByTime($o(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(En).catch(En)}fetchInfiniteQuery(t){return t.behavior=O_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(En).catch(En)}ensureInfiniteQueryData(t){return t.behavior=O_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qd.isOnline()?O(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Xe)}getMutationCache(){return O(this,Ts)}getDefaultOptions(){return O(this,Ss)}setDefaultOptions(t){G(this,Ss,t)}setQueryDefaults(t,e){O(this,ia).set(Hi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,ia).values()];let n={};return e.forEach(r=>{gc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){O(this,oa).set(Hi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,oa).values()];let n={};return e.forEach(r=>{gc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Ss).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=By(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Wy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Ss).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Xe).clear(),O(this,Ts).clear()}},Xe=new WeakMap,Ts=new WeakMap,Ss=new WeakMap,ia=new WeakMap,oa=new WeakMap,Is=new WeakMap,aa=new WeakMap,la=new WeakMap,eT),Jt,we,Rc,$t,ji,ca,bs,ur,Pc,ua,da,ki,Di,Cs,ha,Ae,Pl,Qm,Ym,Xm,Jm,Zm,eg,tg,V1,tT,B2=(tT=class extends Ua{constructor(e,n){super();ne(this,Ae);ne(this,Jt);ne(this,we);ne(this,Rc);ne(this,$t);ne(this,ji);ne(this,ca);ne(this,bs);ne(this,ur);ne(this,Pc);ne(this,ua);ne(this,da);ne(this,ki);ne(this,Di);ne(this,Cs);ne(this,ha,new Set);this.options=n,G(this,Jt,e),G(this,ur,null),G(this,bs,Km()),this.options.experimental_prefetchInRender||O(this,bs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,we).addObserver(this),L_(O(this,we),this.options)?pe(this,Ae,Pl).call(this):this.updateResult(),pe(this,Ae,Jm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ng(O(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ng(O(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Ae,Zm).call(this),pe(this,Ae,eg).call(this),O(this,we).removeObserver(this)}setOptions(e,n){const r=this.options,s=O(this,we);if(this.options=O(this,Jt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vn(this.options.enabled,O(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Ae,tg).call(this),O(this,we).setOptions(this.options),r._defaulted&&!Kd(this.options,r)&&O(this,Jt).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,we),observer:this});const i=this.hasListeners();i&&V_(O(this,we),s,this.options,r)&&pe(this,Ae,Pl).call(this),this.updateResult(n),i&&(O(this,we)!==s||Vn(this.options.enabled,O(this,we))!==Vn(r.enabled,O(this,we))||$o(this.options.staleTime,O(this,we))!==$o(r.staleTime,O(this,we)))&&pe(this,Ae,Qm).call(this);const o=pe(this,Ae,Ym).call(this);i&&(O(this,we)!==s||Vn(this.options.enabled,O(this,we))!==Vn(r.enabled,O(this,we))||o!==O(this,Cs))&&pe(this,Ae,Xm).call(this,o)}getOptimisticResult(e){const n=O(this,Jt).getQueryCache().build(O(this,Jt),e),r=this.createResult(n,e);return H2(this,r)&&(G(this,$t,r),G(this,ca,this.options),G(this,ji,O(this,we).state)),r}getCurrentResult(){return O(this,$t)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){O(this,ha).add(e)}getCurrentQuery(){return O(this,we)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=O(this,Jt).defaultQueryOptions(e),r=O(this,Jt).getQueryCache().build(O(this,Jt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return pe(this,Ae,Pl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,$t)))}createResult(e,n){var T;const r=O(this,we),s=this.options,i=O(this,$t),o=O(this,ji),a=O(this,ca),d=e!==r?e.state:O(this,Rc),{state:h}=e;let f={...h},p=!1,v;if(n._optimisticResults){const C=this.hasListeners(),N=!C&&L_(e,n),P=C&&V_(e,r,n,s);(N||P)&&(f={...f,...M1(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:S}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===O(this,Pc))v=O(this,ua);else try{G(this,Pc,n.select),v=n.select(f.data),v=Gm(i==null?void 0:i.data,v,n),G(this,ua,v),G(this,ur,null)}catch(C){G(this,ur,C)}else v=f.data;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let C;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=i.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((T=O(this,da))==null?void 0:T.state.data,O(this,da)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),G(this,ur,null)}catch(N){G(this,ur,N)}C!==void 0&&(S="success",v=Gm(i==null?void 0:i.data,C,n),p=!0)}O(this,ur)&&(b=O(this,ur),v=O(this,ua),x=Date.now(),S="error");const E=f.fetchStatus==="fetching",w=S==="pending",I=S==="error",j=w&&E,D=v!==void 0,_={status:S,fetchStatus:f.fetchStatus,isPending:w,isSuccess:S==="success",isError:I,isInitialLoading:j,isLoading:j,data:v,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:E,isRefetching:E&&!w,isLoadingError:I&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:I&&D,isStale:qy(e,n),refetch:this.refetch,promise:O(this,bs)};if(this.options.experimental_prefetchInRender){const C=k=>{_.status==="error"?k.reject(_.error):_.data!==void 0&&k.resolve(_.data)},N=()=>{const k=G(this,bs,_.promise=Km());C(k)},P=O(this,bs);switch(P.status){case"pending":e.queryHash===r.queryHash&&C(P);break;case"fulfilled":(_.status==="error"||_.data!==P.value)&&N();break;case"rejected":(_.status!=="error"||_.error!==P.reason)&&N();break}}return _}updateResult(e){const n=O(this,$t),r=this.createResult(O(this,we),this.options);if(G(this,ji,O(this,we).state),G(this,ca,this.options),O(this,ji).data!==void 0&&G(this,da,O(this,we)),Kd(r,n))return;G(this,$t,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!O(this,ha).size)return!0;const c=new Set(a??O(this,ha));return this.options.throwOnError&&c.add("error"),Object.keys(O(this,$t)).some(d=>{const h=d;return O(this,$t)[h]!==n[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),pe(this,Ae,V1).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Ae,Jm).call(this)}},Jt=new WeakMap,we=new WeakMap,Rc=new WeakMap,$t=new WeakMap,ji=new WeakMap,ca=new WeakMap,bs=new WeakMap,ur=new WeakMap,Pc=new WeakMap,ua=new WeakMap,da=new WeakMap,ki=new WeakMap,Di=new WeakMap,Cs=new WeakMap,ha=new WeakMap,Ae=new WeakSet,Pl=function(e){pe(this,Ae,tg).call(this);let n=O(this,we).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(En)),n},Qm=function(){pe(this,Ae,Zm).call(this);const e=$o(this.options.staleTime,O(this,we));if(Wi||O(this,$t).isStale||!Hm(e))return;const r=N1(O(this,$t).dataUpdatedAt,e)+1;G(this,ki,setTimeout(()=>{O(this,$t).isStale||this.updateResult()},r))},Ym=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,we)):this.options.refetchInterval)??!1},Xm=function(e){pe(this,Ae,eg).call(this),G(this,Cs,e),!(Wi||Vn(this.options.enabled,O(this,we))===!1||!Hm(O(this,Cs))||O(this,Cs)===0)&&G(this,Di,setInterval(()=>{(this.options.refetchIntervalInBackground||Hy.isFocused())&&pe(this,Ae,Pl).call(this)},O(this,Cs)))},Jm=function(){pe(this,Ae,Qm).call(this),pe(this,Ae,Xm).call(this,pe(this,Ae,Ym).call(this))},Zm=function(){O(this,ki)&&(clearTimeout(O(this,ki)),G(this,ki,void 0))},eg=function(){O(this,Di)&&(clearInterval(O(this,Di)),G(this,Di,void 0))},tg=function(){const e=O(this,Jt).getQueryCache().build(O(this,Jt),this.options);if(e===O(this,we))return;const n=O(this,we);G(this,we,e),G(this,Rc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},V1=function(e){ft.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(O(this,$t))}),O(this,Jt).getQueryCache().notify({query:O(this,we),type:"observerResultsUpdated"})})},tT);function W2(t,e){return Vn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function L_(t,e){return W2(t,e)||t.state.data!==void 0&&ng(t,e,e.refetchOnMount)}function ng(t,e,n){if(Vn(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qy(t,e)}return!1}function V_(t,e,n,r){return(t!==e||Vn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qy(t,n)}function qy(t,e){return Vn(e.enabled,t)!==!1&&t.isStaleByTime($o(e.staleTime,t))}function H2(t,e){return!Kd(t.getCurrentResult(),e)}var As,Ns,Zt,kr,$r,ld,rg,nT,q2=(nT=class extends Ua{constructor(n,r){super();ne(this,$r);ne(this,As);ne(this,Ns);ne(this,Zt);ne(this,kr);G(this,As,n),this.setOptions(r),this.bindMethods(),pe(this,$r,ld).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=O(this,As).defaultMutationOptions(n),Kd(this.options,r)||O(this,As).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Zt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Hi(r.mutationKey)!==Hi(this.options.mutationKey)?this.reset():((s=O(this,Zt))==null?void 0:s.state.status)==="pending"&&O(this,Zt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=O(this,Zt))==null||n.removeObserver(this)}onMutationUpdate(n){pe(this,$r,ld).call(this),pe(this,$r,rg).call(this,n)}getCurrentResult(){return O(this,Ns)}reset(){var n;(n=O(this,Zt))==null||n.removeObserver(this),G(this,Zt,void 0),pe(this,$r,ld).call(this),pe(this,$r,rg).call(this)}mutate(n,r){var s;return G(this,kr,r),(s=O(this,Zt))==null||s.removeObserver(this),G(this,Zt,O(this,As).getMutationCache().build(O(this,As),this.options)),O(this,Zt).addObserver(this),O(this,Zt).execute(n)}},As=new WeakMap,Ns=new WeakMap,Zt=new WeakMap,kr=new WeakMap,$r=new WeakSet,ld=function(){var r;const n=((r=O(this,Zt))==null?void 0:r.state)??L1();G(this,Ns,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},rg=function(n){ft.batch(()=>{var r,s,i,o,a,c,d,h;if(O(this,kr)&&this.hasListeners()){const f=O(this,Ns).variables,p=O(this,Ns).context;(n==null?void 0:n.type)==="success"?((s=(r=O(this,kr)).onSuccess)==null||s.call(r,n.data,f,p),(o=(i=O(this,kr)).onSettled)==null||o.call(i,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((c=(a=O(this,kr)).onError)==null||c.call(a,n.error,f,p),(h=(d=O(this,kr)).onSettled)==null||h.call(d,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(O(this,Ns))})})},nT),F1=g.createContext(void 0),li=t=>{const e=g.useContext(F1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},G2=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(F1.Provider,{value:t,children:e})),U1=g.createContext(!1),K2=()=>g.useContext(U1);U1.Provider;function Q2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Y2=g.createContext(Q2()),X2=()=>g.useContext(Y2);function $1(t,e){return typeof t=="function"?t(...e):!!t}function sg(){}var J2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Z2=t=>{g.useEffect(()=>{t.clearReset()},[t])},eD=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&$1(n,[t.error,r]),tD=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},nD=(t,e)=>t.isLoading&&t.isFetching&&!e,rD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,F_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function sD(t,e,n){var h,f,p,v,b;const r=li(),s=K2(),i=X2(),o=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",tD(o),J2(o,i),Z2(i);const a=!r.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new e(r,o)),d=c.getOptimisticResult(o);if(g.useSyncExternalStore(g.useCallback(x=>{const S=s?sg:c.subscribe(ft.batchCalls(x));return c.updateResult(),S},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),rD(o,d))throw F_(o,c,i);if(eD({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((v=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,d),o.experimental_prefetchInRender&&!Wi&&nD(d,s)){const x=a?F_(o,c,i):(b=r.getQueryCache().get(o.queryHash))==null?void 0:b.promise;x==null||x.catch(sg).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Gt(t,e){return sD(t,B2)}function nn(t,e){const n=li(),[r]=g.useState(()=>new q2(n,t));g.useEffect(()=>{r.setOptions(t)},[r,t]);const s=g.useSyncExternalStore(g.useCallback(o=>r.subscribe(ft.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=g.useCallback((o,a)=>{r.mutate(o,a).catch(sg)},[r]);if(s.error&&$1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function z1(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function _a(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await z1(r),r}const iD=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await z1(n),await n.json())},oD=new z2({defaultOptions:{queries:{queryFn:iD({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),aD=1,lD=1e6;let Sp=0;function cD(){return Sp=(Sp+1)%Number.MAX_SAFE_INTEGER,Sp.toString()}const Ip=new Map,U_=t=>{if(Ip.has(t))return;const e=setTimeout(()=>{Ip.delete(t),ql({type:"REMOVE_TOAST",toastId:t})},lD);Ip.set(t,e)},uD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,aD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?U_(n):t.toasts.forEach(r=>{U_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},cd=[];let ud={toasts:[]};function ql(t){ud=uD(ud,t),cd.forEach(e=>{e(ud)})}function dD({...t}){const e=cD(),n=s=>ql({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ql({type:"DISMISS_TOAST",toastId:e});return ql({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Gy(){const[t,e]=g.useState(ud);return g.useEffect(()=>(cd.push(e),()=>{const n=cd.indexOf(e);n>-1&&cd.splice(n,1)}),[t]),{...t,toast:dD,dismiss:n=>ql({type:"DISMISS_TOAST",toastId:n})}}function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function B1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=$_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$_(t[s],null)}}}}function Te(...t){return g.useCallback(B1(...t),t)}function hD(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,c=g.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Jn(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];const d=f=>{var E;const{scope:p,children:v,...b}=f,x=((E=p==null?void 0:p[t])==null?void 0:E[c])||a,S=g.useMemo(()=>b,Object.values(b));return l.jsx(x.Provider,{value:S,children:v})};d.displayName=i+"Provider";function h(f,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||a,b=g.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,fD(s,...e)]}function fD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ea(t){const e=mD(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),c=a.find(yD);if(c){const d=c.props.children,h=a.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var pD=Ea("Slot");function mD(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=xD(s),a=vD(i,s.props);return s.type!==g.Fragment&&(a.ref=r?B1(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W1=Symbol("radix.slottable");function gD(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=W1,e}function yD(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W1}function vD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function xD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ky(t){const e=t+"CollectionProvider",[n,r]=Jn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:E}=x,w=ds.useRef(null),I=ds.useRef(new Map).current;return l.jsx(s,{scope:S,itemMap:I,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=Ea(a),d=ds.forwardRef((x,S)=>{const{scope:E,children:w}=x,I=i(a,E),j=Te(S,I.collectionRef);return l.jsx(c,{ref:j,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ea(h),v=ds.forwardRef((x,S)=>{const{scope:E,children:w,...I}=x,j=ds.useRef(null),D=Te(S,j),M=i(h,E);return ds.useEffect(()=>(M.itemMap.set(j,{ref:j,...I}),()=>void M.itemMap.delete(j))),l.jsx(p,{[f]:"",ref:D,children:w})});v.displayName=h;function b(x){const S=i(t+"CollectionConsumer",x);return ds.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const I=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((M,_)=>I.indexOf(M.ref.current)-I.indexOf(_.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},b,r]}var wD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],se=wD.reduce((t,e)=>{const n=Ea(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function H1(t,e){t&&so.flushSync(()=>t.dispatchEvent(e))}function Ze(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function _D(t,e=globalThis==null?void 0:globalThis.document){const n=Ze(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ED="DismissableLayer",ig="dismissableLayer.update",TD="dismissableLayer.pointerDownOutside",SD="dismissableLayer.focusOutside",z_,q1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=g.useContext(q1),[h,f]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),b=Te(e,_=>f(_)),x=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(S),w=h?x.indexOf(h):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=E,D=bD(_=>{const T=_.target,C=[...d.branches].some(N=>N.contains(T));!j||C||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},p),M=CD(_=>{const T=_.target;[...d.branches].some(N=>N.contains(T))||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},p);return _D(_=>{w===d.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},p),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(z_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),B_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=z_)}},[h,p,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),B_())},[h,d]),g.useEffect(()=>{const _=()=>v({});return document.addEventListener(ig,_),()=>document.removeEventListener(ig,_)},[]),l.jsx(se.div,{...c,ref:b,style:{pointerEvents:I?j?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,M.onFocusCapture),onBlurCapture:J(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,D.onPointerDownCapture)})});Vc.displayName=ED;var ID="DismissableLayerBranch",G1=g.forwardRef((t,e)=>{const n=g.useContext(q1),r=g.useRef(null),s=Te(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(se.div,{...t,ref:s})});G1.displayName=ID;function bD(t,e=globalThis==null?void 0:globalThis.document){const n=Ze(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){K1(TD,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function CD(t,e=globalThis==null?void 0:globalThis.document){const n=Ze(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&K1(SD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B_(){const t=new CustomEvent(ig);document.dispatchEvent(t)}function K1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?H1(s,i):s.dispatchEvent(i)}var AD=Vc,ND=G1,lt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},RD="Portal",zh=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);lt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Qk.createPortal(l.jsx(se.div,{...r,ref:e}),o):null});zh.displayName=RD;function PD(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Zn=t=>{const{present:e,children:n}=t,r=jD(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Te(r.ref,kD(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Zn.displayName="Presence";function jD(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,c]=PD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Du(r.current);i.current=a==="mounted"?d:"none"},[a]),lt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,v=Du(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),lt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const x=Du(r.current).includes(v.animationName);if(v.target===e&&x&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=v=>{v.target===e&&(i.current=Du(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Du(t){return(t==null?void 0:t.animationName)||"none"}function kD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ta({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=DD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Ze(n),c=g.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&a(f)}else s(d)},[i,t,s,a]);return[o,c]}function DD({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Ze(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var OD="VisuallyHidden",Fc=g.forwardRef((t,e)=>l.jsx(se.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Fc.displayName=OD;var MD=Fc,Qy="ToastProvider",[Yy,LD,VD]=Ky("Toast"),[Q1,Dz]=Jn("Toast",[VD]),[FD,Bh]=Q1(Qy),Y1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qy}\`. Expected non-empty \`string\`.`),l.jsx(Yy.Provider,{scope:e,children:l.jsx(FD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:g.useCallback(()=>h(v=>v+1),[]),onToastRemove:g.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};Y1.displayName=Qy;var X1="ToastViewport",UD=["F8"],og="toast.viewportPause",ag="toast.viewportResume",J1=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=UD,label:s="Notifications ({hotkey})",...i}=t,o=Bh(X1,n),a=LD(n),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),p=Te(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;g.useEffect(()=>{const S=E=>{var I;r.length!==0&&r.every(j=>E[j]||E.code===j)&&((I=f.current)==null||I.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),g.useEffect(()=>{const S=c.current,E=f.current;if(b&&S&&E){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(og);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(ag);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},j=M=>{!S.contains(M.relatedTarget)&&I()},D=()=>{S.contains(document.activeElement)||I()};return S.addEventListener("focusin",w),S.addEventListener("focusout",j),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",I),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",j),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",I)}}},[b,o.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:S})=>{const w=a().map(I=>{const j=I.ref.current,D=[j,...ZD(j)];return S==="forwards"?D:D.reverse()});return(S==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const S=f.current;if(S){const E=w=>{var D,M,_;const I=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!I){const T=document.activeElement,C=w.shiftKey;if(w.target===S&&C){(D=d.current)==null||D.focus();return}const k=x({tabbingDirection:C?"backwards":"forwards"}),R=k.findIndex(B=>B===T);bp(k.slice(R+1))?w.preventDefault():C?(M=d.current)==null||M.focus():(_=h.current)==null||_.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[a,x]),l.jsxs(ND,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(lg,{ref:d,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});bp(S)}}),l.jsx(Yy.Slot,{scope:n,children:l.jsx(se.ol,{tabIndex:-1,...i,ref:p})}),b&&l.jsx(lg,{ref:h,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});bp(S)}})]})});J1.displayName=X1;var Z1="ToastFocusProxy",lg=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Bh(Z1,n);return l.jsx(Fc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});lg.displayName=Z1;var Wh="Toast",$D="toast.swipeStart",zD="toast.swipeMove",BD="toast.swipeCancel",WD="toast.swipeEnd",eI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=Ta({prop:r,defaultProp:s,onChange:i});return l.jsx(Zn,{present:n||a,children:l.jsx(GD,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Ze(t.onPause),onResume:Ze(t.onResume),onSwipeStart:J(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:J(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});eI.displayName=Wh;var[HD,qD]=Q1(Wh,{onClose(){}}),GD=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:v,...b}=t,x=Bh(Wh,n),[S,E]=g.useState(null),w=Te(e,B=>E(B)),I=g.useRef(null),j=g.useRef(null),D=s||x.duration,M=g.useRef(0),_=g.useRef(D),T=g.useRef(0),{onToastAdd:C,onToastRemove:N}=x,P=Ze(()=>{var re;(S==null?void 0:S.contains(document.activeElement))&&((re=x.viewport)==null||re.focus()),o()}),k=g.useCallback(B=>{!B||B===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(P,B))},[P]);g.useEffect(()=>{const B=x.viewport;if(B){const re=()=>{k(_.current),d==null||d()},Y=()=>{const ue=new Date().getTime()-M.current;_.current=_.current-ue,window.clearTimeout(T.current),c==null||c()};return B.addEventListener(og,Y),B.addEventListener(ag,re),()=>{B.removeEventListener(og,Y),B.removeEventListener(ag,re)}}},[x.viewport,D,c,d,k]),g.useEffect(()=>{i&&!x.isClosePausedRef.current&&k(D)},[i,D,x.isClosePausedRef,k]),g.useEffect(()=>(C(),()=>N()),[C,N]);const R=g.useMemo(()=>S?aI(S):null,[S]);return x.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(KD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(HD,{scope:n,onClose:P,children:so.createPortal(l.jsx(Yy.ItemSlot,{scope:n,children:l.jsx(AD,{asChild:!0,onEscapeKeyDown:J(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:J(t.onPointerDown,B=>{B.button===0&&(I.current={x:B.clientX,y:B.clientY})}),onPointerMove:J(t.onPointerMove,B=>{if(!I.current)return;const re=B.clientX-I.current.x,Y=B.clientY-I.current.y,ue=!!j.current,F=["left","right"].includes(x.swipeDirection),W=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,X=F?W(0,re):0,ae=F?0:W(0,Y),Se=B.pointerType==="touch"?10:2,gt={x:X,y:ae},Be={originalEvent:B,delta:gt};ue?(j.current=gt,Ou(zD,f,Be,{discrete:!1})):W_(gt,x.swipeDirection,Se)?(j.current=gt,Ou($D,h,Be,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>Se||Math.abs(Y)>Se)&&(I.current=null)}),onPointerUp:J(t.onPointerUp,B=>{const re=j.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),j.current=null,I.current=null,re){const ue=B.currentTarget,F={originalEvent:B,delta:re};W_(re,x.swipeDirection,x.swipeThreshold)?Ou(WD,v,F,{discrete:!0}):Ou(BD,p,F,{discrete:!0}),ue.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),KD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Bh(Wh,e),[i,o]=g.useState(!1),[a,c]=g.useState(!1);return XD(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(zh,{asChild:!0,children:l.jsx(Fc,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},QD="ToastTitle",tI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(se.div,{...r,ref:e})});tI.displayName=QD;var YD="ToastDescription",nI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(se.div,{...r,ref:e})});nI.displayName=YD;var rI="ToastAction",sI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(oI,{altText:n,asChild:!0,children:l.jsx(Xy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rI}\`. Expected non-empty \`string\`.`),null)});sI.displayName=rI;var iI="ToastClose",Xy=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=qD(iI,n);return l.jsx(oI,{asChild:!0,children:l.jsx(se.button,{type:"button",...r,ref:e,onClick:J(t.onClick,s.onClose)})})});Xy.displayName=iI;var oI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function aI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),JD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...aI(r))}}),e}function Ou(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?H1(s,i):s.dispatchEvent(i)}var W_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function XD(t=()=>{}){const e=Ze(t);lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function JD(t){return t.nodeType===t.ELEMENT_NODE}function ZD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var eO=Y1,lI=J1,cI=eI,uI=tI,dI=nI,hI=sI,fI=Xy;function pI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pI(t))&&(r&&(r+=" "),r+=e);return r}const H_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,q_=mI,Uc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return q_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=H_(h)||H_(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(b=>{let[x,S]=b;return Array.isArray(S)?S.includes({...i,...a}[x]):{...i,...a}[x]===S})?[...d,f,p]:d},[]);return q_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>g.createElement("svg",{ref:c,...nO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gI("lucide",s),...a},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(rO,{ref:i,iconNode:e,className:gI(`lucide-${tO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=$c("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=$c("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=$c("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=$c("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=$c("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jy="-",aO=t=>{const e=cO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Jy);return a[0]===""&&a.length!==1&&a.shift(),xI(a,e)||lO(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},xI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?xI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Jy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},G_=/^\[(.+)\]$/,lO=t=>{if(G_.test(t)){const e=G_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return dO(Object.entries(t.classGroups),n).forEach(([i,o])=>{cg(o,r,i,e)}),r},cg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:K_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(uO(s)){cg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{cg(o,K_(e,i),n,r)})})},K_=(t,e)=>{let n=t;return e.split(Jy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uO=t=>t.isThemeGetter,dO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,hO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},wI="!",fO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let S=0;S<a.length;S++){let E=a[S];if(d===0){if(E===s&&(r||a.slice(S,S+i)===e)){c.push(a.slice(h,S)),h=S+i;continue}if(E==="/"){f=S;continue}}E==="["?d++:E==="]"&&d--}const p=c.length===0?a:a.substring(h),v=p.startsWith(wI),b=v?p.substring(1):p,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},pO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},mO=t=>({cache:hO(t.cacheSize),parseClassName:fO(t),...aO(t)}),gO=/\s+/,yO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(gO);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=n(d);let b=!!v,x=r(b?p.substring(0,v):p);if(!x){if(!b){a=d+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=d+(a.length>0?" "+a:a);continue}b=!1}const S=pO(h).join(":"),E=f?S+wI:S,w=E+x;if(i.includes(w))continue;i.push(w);const I=s(x,b);for(let j=0;j<I.length;++j){const D=I[j];i.push(E+D)}a=d+(a.length>0?" "+a:a)}return a};function vO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_I(e))&&(r&&(r+=" "),r+=n);return r}const _I=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_I(t[r]))&&(n&&(n+=" "),n+=e);return n};function xO(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=mO(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=yO(c,n);return s(c,h),h}return function(){return i(vO.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},EI=/^\[(?:([a-z-]+):)?(.+)\]$/i,wO=/^\d+\/\d+$/,_O=new Set(["px","full","screen"]),EO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ar=t=>zo(t)||_O.has(t)||wO.test(t),ls=t=>$a(t,"length",DO),zo=t=>!!t&&!Number.isNaN(Number(t)),Cp=t=>$a(t,"number",zo),Tl=t=>!!t&&Number.isInteger(Number(t)),CO=t=>t.endsWith("%")&&zo(t.slice(0,-1)),he=t=>EI.test(t),cs=t=>EO.test(t),AO=new Set(["length","size","percentage"]),NO=t=>$a(t,AO,TI),RO=t=>$a(t,"position",TI),PO=new Set(["image","url"]),jO=t=>$a(t,PO,MO),kO=t=>$a(t,"",OO),Sl=()=>!0,$a=(t,e,n)=>{const r=EI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},DO=t=>TO.test(t)&&!SO.test(t),TI=()=>!1,OO=t=>IO.test(t),MO=t=>bO.test(t),LO=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),c=Ve("contrast"),d=Ve("grayscale"),h=Ve("hueRotate"),f=Ve("invert"),p=Ve("gap"),v=Ve("gradientColorStops"),b=Ve("gradientColorStopPositions"),x=Ve("inset"),S=Ve("margin"),E=Ve("opacity"),w=Ve("padding"),I=Ve("saturate"),j=Ve("scale"),D=Ve("sepia"),M=Ve("skew"),_=Ve("space"),T=Ve("translate"),C=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",he,e],k=()=>[he,e],R=()=>["",Ar,ls],B=()=>["auto",zo,he],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",he],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[zo,he];return{cacheSize:500,separator:":",theme:{colors:[Sl],spacing:[Ar,ls],blur:["none","",cs,he],brightness:ae(),borderColor:[t],borderRadius:["none","","full",cs,he],borderSpacing:k(),borderWidth:R(),contrast:ae(),grayscale:W(),hueRotate:ae(),invert:W(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[CO,ls],inset:P(),margin:P(),opacity:ae(),padding:k(),saturate:ae(),scale:ae(),sepia:W(),skew:ae(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),he]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tl,he]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Tl,he]}],"grid-cols":[{"grid-cols":[Sl]}],"col-start-end":[{col:["auto",{span:["full",Tl,he]},he]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Sl]}],"row-start-end":[{row:["auto",{span:[Tl,he]},he]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[cs]},cs]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",cs,ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cp]}],"font-family":[{font:[Sl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",zo,Cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ar,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ar,ls]}],"underline-offset":[{"underline-offset":["auto",Ar,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),RO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Ar,he]}],"outline-w":[{outline:[Ar,ls]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ar,ls]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cs,kO]}],"shadow-color":[{shadow:[Sl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cs,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[I]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Tl,he]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ar,ls,Cp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VO=xO(LO);function ce(...t){return VO(mI(t))}const FO=eO,SI=g.forwardRef(({className:t,...e},n)=>l.jsx(lI,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));SI.displayName=lI.displayName;const UO=Uc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),II=g.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(cI,{ref:r,className:ce(UO({variant:e}),t),...n}));II.displayName=cI.displayName;const $O=g.forwardRef(({className:t,...e},n)=>l.jsx(hI,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));$O.displayName=hI.displayName;const bI=g.forwardRef(({className:t,...e},n)=>l.jsx(fI,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(vI,{className:"h-4 w-4"})}));bI.displayName=fI.displayName;const CI=g.forwardRef(({className:t,...e},n)=>l.jsx(uI,{ref:n,className:ce("text-sm font-semibold",t),...e}));CI.displayName=uI.displayName;const AI=g.forwardRef(({className:t,...e},n)=>l.jsx(dI,{ref:n,className:ce("text-sm opacity-90",t),...e}));AI.displayName=dI.displayName;function zO(){const{toasts:t}=Gy();return l.jsxs(FO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(II,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(CI,{children:n}),r&&l.jsx(AI,{children:r})]}),s,l.jsx(bI,{})]},e)}),l.jsx(SI,{})]})}var BO=pT[" useId ".trim().toString()]||(()=>{}),WO=0;function $s(t){const[e,n]=g.useState(BO());return lt(()=>{t||n(r=>r??String(WO++))},[t]),t||(e?`radix-${e}`:"")}const HO=["top","right","bottom","left"],Qs=Math.min,fn=Math.max,Yd=Math.round,Mu=Math.floor,mr=t=>({x:t,y:t}),qO={left:"right",right:"left",bottom:"top",top:"bottom"},GO={start:"end",end:"start"};function ug(t,e,n){return fn(t,Qs(e,n))}function qr(t,e){return typeof t=="function"?t(e):t}function Gr(t){return t.split("-")[0]}function za(t){return t.split("-")[1]}function Zy(t){return t==="x"?"y":"x"}function ev(t){return t==="y"?"height":"width"}function Ys(t){return["top","bottom"].includes(Gr(t))?"y":"x"}function tv(t){return Zy(Ys(t))}function KO(t,e,n){n===void 0&&(n=!1);const r=za(t),s=tv(t),i=ev(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Xd(o)),[o,Xd(o)]}function QO(t){const e=Xd(t);return[dg(t),e,dg(e)]}function dg(t){return t.replace(/start|end/g,e=>GO[e])}function YO(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function XO(t,e,n,r){const s=za(t);let i=YO(Gr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(dg)))),i}function Xd(t){return t.replace(/left|right|bottom|top/g,e=>qO[e])}function JO(t){return{top:0,right:0,bottom:0,left:0,...t}}function NI(t){return typeof t!="number"?JO(t):{top:t,right:t,bottom:t,left:t}}function Jd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Q_(t,e,n){let{reference:r,floating:s}=t;const i=Ys(e),o=tv(e),a=ev(o),c=Gr(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(za(e)){case"start":v[o]-=p*(n&&d?-1:1);break;case"end":v[o]+=p*(n&&d?-1:1);break}return v}const ZO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Q_(d,r,c),p=r,v={},b=0;for(let x=0;x<a.length;x++){const{name:S,fn:E}=a[x],{x:w,y:I,data:j,reset:D}=await E({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=I??f,v={...v,[S]:{...v[S],...j}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=Q_(d,p,c)),x=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function yc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=qr(e,t),b=NI(v),S=a[p?f==="floating"?"reference":"floating":f],E=Jd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),j=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},D=Jd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:I,strategy:c}):w);return{top:(E.top-D.top+b.top)/j.y,bottom:(D.bottom-E.bottom+b.bottom)/j.y,left:(E.left-D.left+b.left)/j.x,right:(D.right-E.right+b.right)/j.x}}const eM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=qr(t,e)||{};if(d==null)return{};const f=NI(h),p={x:n,y:r},v=tv(s),b=ev(v),x=await o.getDimensions(d),S=v==="y",E=S?"top":"left",w=S?"bottom":"right",I=S?"clientHeight":"clientWidth",j=i.reference[b]+i.reference[v]-p[v]-i.floating[b],D=p[v]-i.reference[v],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=M?M[I]:0;(!_||!await(o.isElement==null?void 0:o.isElement(M)))&&(_=a.floating[I]||i.floating[b]);const T=j/2-D/2,C=_/2-x[b]/2-1,N=Qs(f[E],C),P=Qs(f[w],C),k=N,R=_-x[b]-P,B=_/2-x[b]/2+T,re=ug(k,B,R),Y=!c.arrow&&za(s)!=null&&B!==re&&i.reference[b]/2-(B<k?N:P)-x[b]/2<0,ue=Y?B<k?B-k:B-R:0;return{[v]:p[v]+ue,data:{[v]:re,centerOffset:B-re-ue,...Y&&{alignmentOffset:ue}},reset:Y}}}),tM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...S}=qr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Gr(s),w=Ys(a),I=Gr(a)===a,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=p||(I||!x?[Xd(a)]:QO(a)),M=b!=="none";!p&&M&&D.push(...XO(a,x,b,j));const _=[a,...D],T=await yc(e,S),C=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(T[E]),f){const B=KO(s,o,j);C.push(T[B[0]],T[B[1]])}if(N=[...N,{placement:s,overflows:C}],!C.every(B=>B<=0)){var P,k;const B=(((P=i.flip)==null?void 0:P.index)||0)+1,re=_[B];if(re)return{data:{index:B,overflows:N},reset:{placement:re}};let Y=(k=N.filter(ue=>ue.overflows[0]<=0).sort((ue,F)=>ue.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!Y)switch(v){case"bestFit":{var R;const ue=(R=N.filter(F=>{if(M){const W=Ys(F.placement);return W===w||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,X)=>W+X,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:R[0];ue&&(Y=ue);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function Y_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function X_(t){return HO.some(e=>t[e]>=0)}const nM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=qr(t,e);switch(r){case"referenceHidden":{const i=await yc(e,{...s,elementContext:"reference"}),o=Y_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:X_(o)}}}case"escaped":{const i=await yc(e,{...s,altBoundary:!0}),o=Y_(i,n.floating);return{data:{escapedOffsets:o,escaped:X_(o)}}}default:return{}}}}};async function rM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Gr(n),a=za(n),c=Ys(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,f=qr(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(v=a==="end"?b*-1:b),c?{x:v*h,y:p*d}:{x:p*d,y:v*h}}const sM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await rM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},iM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:w}=S;return{x:E,y:w}}},...c}=qr(t,e),d={x:n,y:r},h=await yc(e,c),f=Ys(Gr(s)),p=Zy(f);let v=d[p],b=d[f];if(i){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=v+h[S],I=v-h[E];v=ug(w,v,I)}if(o){const S=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=b+h[S],I=b-h[E];b=ug(w,b,I)}const x=a.fn({...e,[p]:v,[f]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:i,[f]:o}}}}}},oM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=qr(t,e),h={x:n,y:r},f=Ys(s),p=Zy(f);let v=h[p],b=h[f];const x=qr(a,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const I=p==="y"?"height":"width",j=i.reference[p]-i.floating[I]+S.mainAxis,D=i.reference[p]+i.reference[I]-S.mainAxis;v<j?v=j:v>D&&(v=D)}if(d){var E,w;const I=p==="y"?"width":"height",j=["top","left"].includes(Gr(s)),D=i.reference[f]-i.floating[I]+(j&&((E=o.offset)==null?void 0:E[f])||0)+(j?0:S.crossAxis),M=i.reference[f]+i.reference[I]+(j?0:((w=o.offset)==null?void 0:w[f])||0)-(j?S.crossAxis:0);b<D?b=D:b>M&&(b=M)}return{[p]:v,[f]:b}}}},aM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=qr(t,e),h=await yc(e,d),f=Gr(s),p=za(s),v=Ys(s)==="y",{width:b,height:x}=i.floating;let S,E;f==="top"||f==="bottom"?(S=f,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,S=p==="end"?"top":"bottom");const w=x-h.top-h.bottom,I=b-h.left-h.right,j=Qs(x-h[S],w),D=Qs(b-h[E],I),M=!e.middlewareData.shift;let _=j,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),M&&!p){const N=fn(h.left,0),P=fn(h.right,0),k=fn(h.top,0),R=fn(h.bottom,0);v?T=b-2*(N!==0||P!==0?N+P:fn(h.left,h.right)):_=x-2*(k!==0||R!==0?k+R:fn(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:_});const C=await o.getDimensions(a.floating);return b!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Hh(){return typeof window<"u"}function Ba(t){return RI(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(t){var e;return(e=(RI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RI(t){return Hh()?t instanceof Node||t instanceof yn(t).Node:!1}function Gn(t){return Hh()?t instanceof Element||t instanceof yn(t).Element:!1}function _r(t){return Hh()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function J_(t){return!Hh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}function zc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function lM(t){return["table","td","th"].includes(Ba(t))}function qh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function nv(t){const e=rv(),n=Gn(t)?Kn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cM(t){let e=Xs(t);for(;_r(e)&&!Sa(e);){if(nv(e))return e;if(qh(e))return null;e=Xs(e)}return null}function rv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sa(t){return["html","body","#document"].includes(Ba(t))}function Kn(t){return yn(t).getComputedStyle(t)}function Gh(t){return Gn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xs(t){if(Ba(t)==="html")return t;const e=t.assignedSlot||t.parentNode||J_(t)&&t.host||Sr(t);return J_(e)?e.host:e}function PI(t){const e=Xs(t);return Sa(e)?t.ownerDocument?t.ownerDocument.body:t.body:_r(e)&&zc(e)?e:PI(e)}function vc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=PI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=yn(s);if(i){const a=hg(o);return e.concat(o,o.visualViewport||[],zc(s)?s:[],a&&n?vc(a):[])}return e.concat(s,vc(s,[],n))}function hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jI(t){const e=Kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=_r(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Yd(n)!==i||Yd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function sv(t){return Gn(t)?t:t.contextElement}function Bo(t){const e=sv(t);if(!_r(e))return mr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jI(e);let o=(i?Yd(n.width):n.width)/r,a=(i?Yd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const uM=mr(0);function kI(t){const e=yn(t);return!rv()||!e.visualViewport?uM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function qi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=sv(t);let o=mr(1);e&&(r?Gn(r)&&(o=Bo(r)):o=Bo(t));const a=dM(i,n,r)?kI(i):mr(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=yn(i),v=r&&Gn(r)?yn(r):r;let b=p,x=hg(b);for(;x&&r&&v!==b;){const S=Bo(x),E=x.getBoundingClientRect(),w=Kn(x),I=E.left+(x.clientLeft+parseFloat(w.paddingLeft))*S.x,j=E.top+(x.clientTop+parseFloat(w.paddingTop))*S.y;c*=S.x,d*=S.y,h*=S.x,f*=S.y,c+=I,d+=j,b=yn(x),x=hg(b)}}return Jd({width:h,height:f,x:c,y:d})}function iv(t,e){const n=Gh(t).scrollLeft;return e?e.left+n:qi(Sr(t)).left+n}function DI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:iv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function hM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Sr(r),a=e?qh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=mr(1);const h=mr(0),f=_r(r);if((f||!f&&!i)&&((Ba(r)!=="body"||zc(o))&&(c=Gh(r)),_r(r))){const v=qi(r);d=Bo(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const p=o&&!f&&!i?DI(o,c,!0):mr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function fM(t){return Array.from(t.getClientRects())}function pM(t){const e=Sr(t),n=Gh(t),r=t.ownerDocument.body,s=fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+iv(t);const a=-n.scrollTop;return Kn(r).direction==="rtl"&&(o+=fn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function mM(t,e){const n=yn(t),r=Sr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=rv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function gM(t,e){const n=qi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=_r(t)?Bo(t):mr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function Z_(t,e,n){let r;if(e==="viewport")r=mM(t,n);else if(e==="document")r=pM(Sr(t));else if(Gn(e))r=gM(e,n);else{const s=kI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Jd(r)}function OI(t,e){const n=Xs(t);return n===e||!Gn(n)||Sa(n)?!1:Kn(n).position==="fixed"||OI(n,e)}function yM(t,e){const n=e.get(t);if(n)return n;let r=vc(t,[],!1).filter(a=>Gn(a)&&Ba(a)!=="body"),s=null;const i=Kn(t).position==="fixed";let o=i?Xs(t):t;for(;Gn(o)&&!Sa(o);){const a=Kn(o),c=nv(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||zc(o)&&!c&&OI(t,o))?r=r.filter(h=>h!==o):s=a,o=Xs(o)}return e.set(t,r),r}function vM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?qh(e)?[]:yM(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=Z_(e,h,s);return d.top=fn(f.top,d.top),d.right=Qs(f.right,d.right),d.bottom=Qs(f.bottom,d.bottom),d.left=fn(f.left,d.left),d},Z_(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xM(t){const{width:e,height:n}=jI(t);return{width:e,height:n}}function wM(t,e,n){const r=_r(e),s=Sr(e),i=n==="fixed",o=qi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=mr(0);if(r||!r&&!i)if((Ba(e)!=="body"||zc(s))&&(a=Gh(e)),r){const p=qi(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&(c.x=iv(s));const d=s&&!r&&!i?DI(s,a):mr(0),h=o.left+a.scrollLeft-c.x-d.x,f=o.top+a.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Ap(t){return Kn(t).position==="static"}function e0(t,e){if(!_r(t)||Kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sr(t)===n&&(n=n.ownerDocument.body),n}function MI(t,e){const n=yn(t);if(qh(t))return n;if(!_r(t)){let s=Xs(t);for(;s&&!Sa(s);){if(Gn(s)&&!Ap(s))return s;s=Xs(s)}return n}let r=e0(t,e);for(;r&&lM(r)&&Ap(r);)r=e0(r,e);return r&&Sa(r)&&Ap(r)&&!nv(r)?n:r||cM(t)||n}const _M=async function(t){const e=this.getOffsetParent||MI,n=this.getDimensions,r=await n(t.floating);return{reference:wM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EM(t){return Kn(t).direction==="rtl"}const TM={convertOffsetParentRelativeRectToViewportRelativeRect:hM,getDocumentElement:Sr,getClippingRect:vM,getOffsetParent:MI,getElementRects:_M,getClientRects:fM,getDimensions:xM,getScale:Bo,isElement:Gn,isRTL:EM};function LI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SM(t,e){let n=null,r;const s=Sr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:v}=d;if(a||e(),!p||!v)return;const b=Mu(f),x=Mu(s.clientWidth-(h+p)),S=Mu(s.clientHeight-(f+v)),E=Mu(h),I={rootMargin:-b+"px "+-x+"px "+-S+"px "+-E+"px",threshold:fn(0,Qs(1,c))||1};let j=!0;function D(M){const _=M[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!LI(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(D,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,I)}n.observe(t)}return o(!0),i}function IM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=sv(t),h=s||i?[...d?vc(d):[],...vc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&a?SM(d,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(E=>{let[w]=E;w&&w.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var I;(I=v)==null||I.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let b,x=c?qi(t):null;c&&S();function S(){const E=qi(t);x&&!LI(x,E)&&n(),x=E,b=requestAnimationFrame(S)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(E=v)==null||E.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const bM=sM,CM=iM,AM=tM,NM=aM,RM=nM,t0=eM,PM=oM,jM=(t,e,n)=>{const r=new Map,s={platform:TM,...n},i={...s.platform,_c:r};return ZO(t,e,{...s,platform:i})};var dd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Zd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function VI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function n0(t,e){const n=VI(t);return Math.round(e*n)/n}function Np(t){const e=g.useRef(t);return dd(()=>{e.current=t}),e}function kM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);Zd(p,r)||v(r);const[b,x]=g.useState(null),[S,E]=g.useState(null),w=g.useCallback(F=>{F!==M.current&&(M.current=F,x(F))},[]),I=g.useCallback(F=>{F!==_.current&&(_.current=F,E(F))},[]),j=i||b,D=o||S,M=g.useRef(null),_=g.useRef(null),T=g.useRef(h),C=c!=null,N=Np(c),P=Np(s),k=Np(d),R=g.useCallback(()=>{if(!M.current||!_.current)return;const F={placement:e,strategy:n,middleware:p};P.current&&(F.platform=P.current),jM(M.current,_.current,F).then(W=>{const X={...W,isPositioned:k.current!==!1};B.current&&!Zd(T.current,X)&&(T.current=X,so.flushSync(()=>{f(X)}))})},[p,e,n,P,k]);dd(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const B=g.useRef(!1);dd(()=>(B.current=!0,()=>{B.current=!1}),[]),dd(()=>{if(j&&(M.current=j),D&&(_.current=D),j&&D){if(N.current)return N.current(j,D,R);R()}},[j,D,R,N,C]);const re=g.useMemo(()=>({reference:M,floating:_,setReference:w,setFloating:I}),[w,I]),Y=g.useMemo(()=>({reference:j,floating:D}),[j,D]),ue=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!Y.floating)return F;const W=n0(Y.floating,h.x),X=n0(Y.floating,h.y);return a?{...F,transform:"translate("+W+"px, "+X+"px)",...VI(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:X}},[n,a,Y.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:R,refs:re,elements:Y,floatingStyles:ue}),[h,R,re,Y,ue])}const DM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?t0({element:r.current,padding:s}).fn(n):{}:r?t0({element:r,padding:s}).fn(n):{}}}},OM=(t,e)=>({...bM(t),options:[t,e]}),MM=(t,e)=>({...CM(t),options:[t,e]}),LM=(t,e)=>({...PM(t),options:[t,e]}),VM=(t,e)=>({...AM(t),options:[t,e]}),FM=(t,e)=>({...NM(t),options:[t,e]}),UM=(t,e)=>({...RM(t),options:[t,e]}),$M=(t,e)=>({...DM(t),options:[t,e]});var zM="Arrow",FI=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});FI.displayName=zM;var BM=FI;function WM(t){const[e,n]=g.useState(void 0);return lt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ov="Popper",[UI,Kh]=Jn(ov),[HM,$I]=UI(ov),zI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return l.jsx(HM,{scope:e,anchor:r,onAnchorChange:s,children:n})};zI.displayName=ov;var BI="PopperAnchor",WI=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$I(BI,n),o=g.useRef(null),a=Te(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(se.div,{...s,ref:a})});WI.displayName=BI;var av="PopperContent",[qM,GM]=UI(av),HI=g.forwardRef((t,e)=>{var te,Re,ut,je,Ce,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:b,...x}=t,S=$I(av,n),[E,w]=g.useState(null),I=Te(e,_t=>w(_t)),[j,D]=g.useState(null),M=WM(j),_=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],k=P.length>0,R={padding:N,boundary:P.filter(QM),altBoundary:k},{refs:B,floatingStyles:re,placement:Y,isPositioned:ue,middlewareData:F}=kM({strategy:"fixed",placement:C,whileElementsMounted:(..._t)=>IM(..._t,{animationFrame:v==="always"}),elements:{reference:S.anchor},middleware:[OM({mainAxis:s+T,alignmentAxis:o}),c&&MM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?LM():void 0,...R}),c&&VM({...R}),FM({...R,apply:({elements:_t,rects:cn,availableWidth:pi,availableHeight:br})=>{const{width:Cr,height:nu}=cn.reference,et=_t.floating.style;et.setProperty("--radix-popper-available-width",`${pi}px`),et.setProperty("--radix-popper-available-height",`${br}px`),et.setProperty("--radix-popper-anchor-width",`${Cr}px`),et.setProperty("--radix-popper-anchor-height",`${nu}px`)}}),j&&$M({element:j,padding:a}),YM({arrowWidth:_,arrowHeight:T}),p&&UM({strategy:"referenceHidden",...R})]}),[W,X]=KI(Y),ae=Ze(b);lt(()=>{ue&&(ae==null||ae())},[ue,ae]);const Se=(te=F.arrow)==null?void 0:te.x,gt=(Re=F.arrow)==null?void 0:Re.y,Be=((ut=F.arrow)==null?void 0:ut.centerOffset)!==0,[Yt,ct]=g.useState();return lt(()=>{E&&ct(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ue?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Yt,"--radix-popper-transform-origin":[(je=F.transformOrigin)==null?void 0:je.x,(Ce=F.transformOrigin)==null?void 0:Ce.y].join(" "),...((Ie=F.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(qM,{scope:n,placedSide:W,onArrowChange:D,arrowX:Se,arrowY:gt,shouldHideArrow:Be,children:l.jsx(se.div,{"data-side":W,"data-align":X,...x,ref:I,style:{...x.style,animation:ue?void 0:"none"}})})})});HI.displayName=av;var qI="PopperArrow",KM={top:"bottom",right:"left",bottom:"top",left:"right"},GI=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=GM(qI,r),o=KM[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(BM,{...s,ref:n,style:{...s.style,display:"block"}})})});GI.displayName=qI;function QM(t){return t!==null}var YM=t=>({name:"transformOrigin",options:t,fn(e){var S,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=KI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let b="",x="";return d==="bottom"?(b=o?f:`${p}px`,x=`${-c}px`):d==="top"?(b=o?f:`${p}px`,x=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,x=o?f:`${v}px`):d==="left"&&(b=`${r.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:b,y:x}}}});function KI(t){const[e,n="center"]=t.split("-");return[e,n]}var XM=zI,QI=WI,YI=HI,XI=GI,[Qh,Oz]=Jn("Tooltip",[Kh]),lv=Kh(),JI="TooltipProvider",JM=700,r0="tooltip.open",[ZM,ZI]=Qh(JI),eb=t=>{const{__scopeTooltip:e,delayDuration:n=JM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(ZM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};eb.displayName=JI;var tb="Tooltip",[Mz,Yh]=Qh(tb),fg="TooltipTrigger",eL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yh(fg,n),i=ZI(fg,n),o=lv(n),a=g.useRef(null),c=Te(e,a,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(QI,{asChild:!0,...o,children:l.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:J(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:J(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:J(t.onBlur,s.onClose),onClick:J(t.onClick,s.onClose)})})});eL.displayName=fg;var tL="TooltipPortal",[Lz,nL]=Qh(tL,{forceMount:void 0}),Ia="TooltipContent",nb=g.forwardRef((t,e)=>{const n=nL(Ia,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Yh(Ia,t.__scopeTooltip);return l.jsx(Zn,{present:r||o.open,children:o.disableHoverableContent?l.jsx(rb,{side:s,...i,ref:e}):l.jsx(rL,{side:s,...i,ref:e})})}),rL=g.forwardRef((t,e)=>{const n=Yh(Ia,t.__scopeTooltip),r=ZI(Ia,t.__scopeTooltip),s=g.useRef(null),i=Te(e,s),[o,a]=g.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{a(null),f(!1)},[f]),v=g.useCallback((b,x)=>{const S=b.currentTarget,E={x:b.clientX,y:b.clientY},w=lL(E,S.getBoundingClientRect()),I=cL(E,w),j=uL(x.getBoundingClientRect()),D=hL([...I,...j]);a(D),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&h){const b=S=>v(S,h),x=S=>v(S,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",x)}}},[c,h,v,p]),g.useEffect(()=>{if(o){const b=x=>{const S=x.target,E={x:x.clientX,y:x.clientY},w=(c==null?void 0:c.contains(S))||(h==null?void 0:h.contains(S)),I=!dL(E,o);w?p():I&&(p(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,o,d,p]),l.jsx(rb,{...t,ref:i})}),[sL,iL]=Qh(tb,{isInside:!1}),oL=gD("TooltipContent"),rb=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Yh(Ia,n),d=lv(n),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(r0,h),()=>document.removeEventListener(r0,h)),[h]),g.useEffect(()=>{if(c.trigger){const f=p=>{const v=p.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),l.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(YI,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(oL,{children:r}),l.jsx(sL,{scope:n,isInside:!0,children:l.jsx(MD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});nb.displayName=Ia;var sb="TooltipArrow",aL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lv(n);return iL(sb,n).isInside?null:l.jsx(XI,{...s,...r,ref:e})});aL.displayName=sb;function lL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function cL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function uL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function dL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,d=e[o].x,h=e[o].y;c>r!=h>r&&n<(d-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function hL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),fL(e)}function fL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var pL=eb,ib=nb;const mL=pL,gL=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(ib,{ref:r,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));gL.displayName=ib.displayName;const yL=g.createContext(void 0);function vL({children:t}){const[e,n]=g.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");g.useEffect(()=>{const s=document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return l.jsx(yL.Provider,{value:{theme:e,setTheme:n,toggleTheme:r},children:t})}const xL=()=>{};var s0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ob(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new _L;const p=i<<2|a>>4;if(r.push(p),d!==64){const v=a<<4&240|d>>2;if(r.push(v),f!==64){const b=d<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EL=function(t){const e=ob(t);return ab.encodeByteArray(e,!0)},eh=function(t){return EL(t).replace(/\./g,"")},lb=function(t){try{return ab.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=()=>TL().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof s0>"u")return;const t=s0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lb(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return xL()||SL()||IL()||bL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cb=t=>{var e,n;return(n=(e=Xh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},CL=t=>{const e=cb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ub=()=>{var t;return(t=Xh())==null?void 0:t.config},db=t=>{var e;return(e=Xh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[eh(JSON.stringify(n)),eh(JSON.stringify(o)),""].join(".")}const Gl={};function RL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?t.emulator.push(e):t.prod.push(e);return t}function PL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let i0=!1;function fb(t,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Gl[t]===e||Gl[t]||i0)return;Gl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=RL().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{i0=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=PL(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),x=n("learnmore"),S=document.getElementById(x)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const I=p.element;a(I),h(S,x);const j=d();c(w,E),I.append(w,b,S,j),document.body.appendChild(I)}i?(b.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function kL(){var e;const t=(e=Xh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ML(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LL(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VL(){return!kL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FL(){try{return typeof indexedDB=="object"}catch{return!1}}function UL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="FirebaseError";class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$L,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?zL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Zr(s,a,r)}}function zL(t,e){return t.replace(BL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const BL=/\{\$([^}]+)}/g;function WL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(o0(i)&&o0(o)){if(!Gi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function o0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HL(t,e){const n=new qL(t,e);return n.subscribe.bind(n)}class qL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rp),s.error===void 0&&(s.error=Rp),s.complete===void 0&&(s.complete=Rp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YL(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QL(t){return t===Ei?void 0:t}function YL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const JL={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},ZL=ye.INFO,eV={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},tV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=eV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=ZL,this._logHandler=tV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const nV=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function rV(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sV(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,pg=new WeakMap,mb=new WeakMap,Pp=new WeakMap,uv=new WeakMap;function iV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pb.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function oV(t){if(pg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});pg.set(t,e)}let mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aV(t){mg=t(mg)}function lV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jp(this),e,...n);return mb.set(r,e.sort?e.sort():[e]),zs(r)}:sV().includes(t)?function(...e){return t.apply(jp(this),e),zs(pb.get(this))}:function(...e){return zs(t.apply(jp(this),e))}}function cV(t){return typeof t=="function"?lV(t):(t instanceof IDBTransaction&&oV(t),nV(t,rV())?new Proxy(t,mg):t)}function zs(t){if(t instanceof IDBRequest)return iV(t);if(Pp.has(t))return Pp.get(t);const e=cV(t);return e!==t&&(Pp.set(t,e),uv.set(e,t)),e}const jp=t=>uv.get(t);function uV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zs(o.result),c.oldVersion,c.newVersion,zs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const dV=["get","getKey","getAll","getAllKeys","count"],hV=["put","add","delete","clear"],kp=new Map;function c0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=hV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||dV.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return kp.set(e,i),i}aV(t=>({...t,get:(e,n,r)=>c0(e,n)||t.get(e,n,r),has:(e,n)=>!!c0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",u0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new cv("@firebase/app"),mV="@firebase/app-compat",gV="@firebase/analytics-compat",yV="@firebase/analytics",vV="@firebase/app-check-compat",xV="@firebase/app-check",wV="@firebase/auth",_V="@firebase/auth-compat",EV="@firebase/database",TV="@firebase/data-connect",SV="@firebase/database-compat",IV="@firebase/functions",bV="@firebase/functions-compat",CV="@firebase/installations",AV="@firebase/installations-compat",NV="@firebase/messaging",RV="@firebase/messaging-compat",PV="@firebase/performance",jV="@firebase/performance-compat",kV="@firebase/remote-config",DV="@firebase/remote-config-compat",OV="@firebase/storage",MV="@firebase/storage-compat",LV="@firebase/firestore",VV="@firebase/ai",FV="@firebase/firestore-compat",UV="firebase",$V="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",zV={[gg]:"fire-core",[mV]:"fire-core-compat",[yV]:"fire-analytics",[gV]:"fire-analytics-compat",[xV]:"fire-app-check",[vV]:"fire-app-check-compat",[wV]:"fire-auth",[_V]:"fire-auth-compat",[EV]:"fire-rtdb",[TV]:"fire-data-connect",[SV]:"fire-rtdb-compat",[IV]:"fire-fn",[bV]:"fire-fn-compat",[CV]:"fire-iid",[AV]:"fire-iid-compat",[NV]:"fire-fcm",[RV]:"fire-fcm-compat",[PV]:"fire-perf",[jV]:"fire-perf-compat",[kV]:"fire-rc",[DV]:"fire-rc-compat",[OV]:"fire-gcs",[MV]:"fire-gcs-compat",[LV]:"fire-fst",[FV]:"fire-fst-compat",[VV]:"fire-vertex","fire-js":"fire-js",[UV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,BV=new Map,vg=new Map;function d0(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(vg.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(const n of th.values())d0(n,t);for(const n of BV.values())d0(n,t);return!0}function dv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Bc("app","Firebase",WV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=$V;function gb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:yg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=ub()),!n)throw Bs.create("no-options");const i=th.get(s);if(i){if(Gi(n,i.options)&&Gi(r,i.config))return i;throw Bs.create("duplicate-app",{appName:s})}const o=new XL(s);for(const c of vg.values())o.addComponent(c);const a=new HV(n,r,o);return th.set(s,a),a}function yb(t=yg){const e=th.get(t);if(!e&&t===yg&&ub())return gb();if(!e)throw Bs.create("no-app",{appName:t});return e}function Ws(t,e,n){let r=zV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(o.join(" "));return}ba(new Ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="firebase-heartbeat-database",GV=1,xc="firebase-heartbeat-store";let Dp=null;function vb(){return Dp||(Dp=uV(qV,GV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function KV(t){try{const n=(await vb()).transaction(xc),r=await n.objectStore(xc).get(xb(t));return await n.done,r}catch(e){if(e instanceof Zr)Kr.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function h0(t,e){try{const r=(await vb()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,xb(t)),await r.done}catch(n){if(n instanceof Zr)Kr.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(r.message)}}}function xb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=1024,YV=30;class XV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=f0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>YV){const o=e4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:r,unsentEntries:s}=JV(this._heartbeatsCache.heartbeats),i=eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Kr.warn(n),""}}}function f0(){return new Date().toISOString().substring(0,10)}function JV(t,e=QV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),p0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),p0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FL()?UL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p0(t){return eh(JSON.stringify({version:2,heartbeats:t})).length}function e4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){ba(new Ki("platform-logger",e=>new fV(e),"PRIVATE")),ba(new Ki("heartbeat",e=>new XV(e),"PRIVATE")),Ws(gg,u0,t),Ws(gg,u0,"esm2020"),Ws("fire-js","")}t4("");var n4="firebase",r4="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(n4,r4,"app");function wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s4=wb,_b=new Bc("auth","Firebase",wb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new cv("@firebase/auth");function i4(t,...e){nh.logLevel<=ye.WARN&&nh.warn(`Auth (${Ha}): ${t}`,...e)}function hd(t,...e){nh.logLevel<=ye.ERROR&&nh.error(`Auth (${Ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw fv(t,...e)}function Hn(t,...e){return fv(t,...e)}function hv(t,e,n){const r={...s4(),[e]:n};return new Bc("auth","Firebase",r).create(e,{appName:t.name})}function Li(t){return hv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(t,"argument-error"),hv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _b.create(t,...e)}function oe(t,e,...n){if(!t)throw fv(e,...n)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hd(e),new Error(e)}function Qr(t,e){t||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function a4(){return m0()==="http:"||m0()==="https:"}function m0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a4()||OL()||"connection"in navigator)?navigator.onLine:!0}function c4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=jL()||ML()}get(){return l4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h4=new Hc(3e4,6e4);function mv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qa(t,e,n,r,s={}){return Tb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Wc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return DL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(d.credentials="include"),Eb.fetch()(await Sb(t,t.config.apiHost,n,a),d)})}async function Tb(t,e,n){t._canInitEmulator=!1;const r={...u4,...e};try{const s=new p4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Lu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Lu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hv(t,h,d);Er(t,h)}}catch(s){if(s instanceof Zr)throw s;Er(t,"network-request-failed",{message:String(s)})}}async function f4(t,e,n,r,s={}){const i=await qa(t,e,n,r,s);return"mfaPendingCredential"in i&&Er(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Sb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?pv(t.config,s):`${t.config.apiScheme}://${s}`;return d4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class p4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hn(this.auth,"network-request-failed")),h4.get())})}}function Lu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e){return qa(t,"POST","/v1/accounts:delete",e)}async function rh(t,e){return qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g4(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=gv(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Kl(Op(s.auth_time)),issuedAtTime:Kl(Op(s.iat)),expirationTime:Kl(Op(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Op(t){return Number(t)*1e3}function gv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const s=lb(n);return s?JSON.parse(s):(hd("Failed to decode base64 JWT payload"),null)}catch(s){return hd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g0(t){const e=gv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zr&&y4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function y4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await wc(t,rh(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Ib(s.providerUserInfo):[],o=w4(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function x4(t){const e=Ct(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ib(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e){const n=await Tb(t,{},async()=>{const r=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Sb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Wa(t.emulatorConfig.host)&&(c.credentials="include"),Eb.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E4(t,e){return qa(t,"POST","/v2/accounts:revokeToken",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Wo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new v4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g4(this,e)}reload(){return x4(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await wc(this,m4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:v,providerData:b,stsTokenManager:x}=n;oe(f&&x,e,"internal-error");const S=Wo.fromJSON(this.name,x);oe(typeof f=="string",e,"internal-error"),us(r,e.name),us(s,e.name),oe(typeof p=="boolean",e,"internal-error"),oe(typeof v=="boolean",e,"internal-error"),us(i,e.name),us(o,e.name),us(a,e.name),us(c,e.name),us(d,e.name),us(h,e.name);const E=new zn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:d,lastLoginAt:h});return b&&Array.isArray(b)&&(E.providerData=b.map(w=>({...w}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Wo;s.updateFromServerResponse(n);const i=new zn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ib(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Wo;a.updateFromIdToken(r);const c=new zn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Vr(t){Qr(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bb.type="NONE";const v0=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fd(this.userKey,s.apiKey,i),this.fullPersistenceKey=fd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ho(Vr(v0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Vr(v0);const o=fd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await rh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await zn._fromGetAccountInfoResponse(e,p,h)}else f=zn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ho(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ho(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jb(e))return"Blackberry";if(kb(e))return"Webos";if(Ab(e))return"Safari";if((e.includes("chrome/")||Nb(e))&&!e.includes("edge/"))return"Chrome";if(Pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Cb(t=Lt()){return/firefox\//i.test(t)}function Ab(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nb(t=Lt()){return/crios\//i.test(t)}function Rb(t=Lt()){return/iemobile/i.test(t)}function Pb(t=Lt()){return/android/i.test(t)}function jb(t=Lt()){return/blackberry/i.test(t)}function kb(t=Lt()){return/webos/i.test(t)}function yv(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T4(t=Lt()){var e;return yv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function S4(){return LL()&&document.documentMode===10}function Db(t=Lt()){return yv(t)||Pb(t)||kb(t)||jb(t)||/windows phone/i.test(t)||Rb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e=[]){let n;switch(t){case"Browser":n=x0(Lt());break;case"Worker":n=`${x0(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e={}){return qa(t,"GET","/v2/passwordPolicy",mv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=6;class A4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??C4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new I4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Li(this));const n=e?Ct(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b4(this),n=new A4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&i4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jh(t){return Ct(t)}class w0{constructor(e){this.auth=e,this.observer=null,this.addObserver=HL(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R4(t){vv=t}function P4(t){return vv.loadJS(t)}function j4(){return vv.gapiScript}function k4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t,e){const n=dv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Gi(i,e??{}))return s;Er(s,"already-initialized")}return n.initialize({options:e})}function O4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function M4(t,e,n){const r=Jh(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Mb(e),{host:o,port:a}=L4(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Gi(d,r.config.emulator)&&Gi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Wa(o)?(hb(`${i}//${o}${c}`),fb("Auth",!0)):V4()}function Mb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L4(t){const e=Mb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:_0(o)}}}function _0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e){return f4(t,"POST","/v1/accounts:signInWithIdp",mv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="http://localhost";class Qi extends Lb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Qi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:F4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends xv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends qc{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends qc{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends qc{constructor(){super("twitter.com")}static credential(e,n){return Qi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await zn._fromIdTokenResponse(e,r,s),o=E0(r);return new Ca({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=E0(r);return new Ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function E0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends Zr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ih(e,n,r,s)}}function Vb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(t,i,e,r):i})}async function U4(t,e,n=!1){const r=await wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e,n=!1){const{auth:r}=t;if(Fn(r.app))return Promise.reject(Li(r));const s="reauthenticate";try{const i=await wc(t,Vb(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=gv(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Ca._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e,n=!1){if(Fn(t.app))return Promise.reject(Li(t));const r="signIn",s=await Vb(t,r,e),i=await Ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function B4(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function W4(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function H4(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function q4(t){return Ct(t).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=1e3,K4=10;class Ub extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);S4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,K4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ub.type="LOCAL";const Q4=Ub;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$b.type="SESSION";const zb=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await Y4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=wv("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function J4(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function Z4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function tF(){return Bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firebaseLocalStorageDb",nF=1,ah="firebaseLocalStorage",Hb="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(t,e){return t.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function rF(){const t=indexedDB.deleteDatabase(Wb);return new Gc(t).toPromise()}function _g(){const t=indexedDB.open(Wb,nF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ah,{keyPath:Hb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await rF(),e(await _g()))})})}async function T0(t,e,n){const r=ef(t,!0).put({[Hb]:e,value:n});return new Gc(r).toPromise()}async function sF(t,e){const n=ef(t,!1).get(e),r=await new Gc(n).toPromise();return r===void 0?null:r.value}function S0(t,e){const n=ef(t,!0).delete(e);return new Gc(n).toPromise()}const iF=800,oF=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(tF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Z4(),!this.activeServiceWorker)return;this.sender=new X4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await T0(e,oh,"1"),await S0(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ef(s,!1).getAll();return new Gc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const aF=qb;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){return e?Vr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Lb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lF(t){return z4(t.auth,new _v(t),t.bypassAuthState)}function cF(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),$4(n,new _v(t),t.bypassAuthState)}async function uF(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),U4(n,new _v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lF;case"linkViaPopup":case"linkViaRedirect":return uF;case"reauthViaPopup":case"reauthViaRedirect":return cF;default:Er(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new Hc(2e3,1e4);async function hF(t,e,n){if(Fn(t.app))return Promise.reject(Hn(t,"operation-not-supported-in-this-environment"));const r=Jh(t);o4(t,e,xv);const s=Gb(r,n);return new bi(r,"signInViaPopup",e,s).executeNotNull()}class bi extends Kb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bi.currentPopupAction&&bi.currentPopupAction.cancel(),bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dF.get())};e()}}bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="pendingRedirect",pd=new Map;class pF extends Kb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await mF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mF(t,e){const n=vF(e),r=yF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function gF(t,e){pd.set(t._key(),e)}function yF(t){return Vr(t._redirectPersistence)}function vF(t){return fd(fF,t.config.apiKey,t.name)}async function xF(t,e,n=!1){if(Fn(t.app))return Promise.reject(Li(t));const r=Jh(t),s=Gb(r,e),o=await new pF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=10*60*1e3;class _F{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qb(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wF&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}}function I0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e={}){return qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IF=/^https?/;async function bF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TF(t);for(const n of e)try{if(CF(n))return}catch{}Er(t,"unauthorized-domain")}function CF(t){const e=xg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IF.test(n))return!1;if(SF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new Hc(3e4,6e4);function b0(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NF(t){return new Promise((e,n)=>{var s,i,o;function r(){b0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b0(),n(Hn(t,"network-request-failed"))},timeout:AF.get()})}if((i=(s=gr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=gr().gapi)!=null&&o.load)r();else{const a=k4("iframefcb");return gr()[a]=()=>{gapi.load?r():n(Hn(t,"network-request-failed"))},P4(`${j4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw md=null,e})}let md=null;function RF(t){return md=md||NF(t),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new Hc(5e3,15e3),jF="__/auth/iframe",kF="emulator/auth/iframe",DF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MF(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pv(e,kF):`https://${t.config.authDomain}/${jF}`,r={apiKey:e.apiKey,appName:t.name,v:Ha},s=OF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Wc(r).slice(1)}`}async function LF(t){const e=await RF(t),n=gr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:MF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),a=gr().setTimeout(()=>{i(o)},PF.get());function c(){gr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FF=500,UF=600,$F="_blank",zF="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BF(t,e,n,r=FF,s=UF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...VF,width:r.toString(),height:s.toString(),top:i,left:o},d=Lt().toLowerCase();n&&(a=Nb(d)?$F:n),Cb(d)&&(e=e||zF,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,b])=>`${p}${v}=${b},`,"");if(T4(d)&&a!=="_self")return WF(e||"",a),new C0(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new C0(f)}function WF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="__/auth/handler",qF="emulator/auth/handler",GF=encodeURIComponent("fac");async function A0(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ha,eventId:s};if(e instanceof xv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",WL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof qc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${GF}=${encodeURIComponent(c)}`:"";return`${KF(t)}?${Wc(a).slice(1)}${d}`}function KF({config:t}){return t.emulator?pv(t,qF):`https://${t.authDomain}/${HF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class QF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zb,this._completeRedirectFn=xF,this._overrideRedirectResult=gF}async _openPopup(e,n,r,s){var o;Qr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await A0(e,n,r,xg(),s);return BF(e,i,wv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await A0(e,n,r,xg(),s);return J4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Qr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LF(e),r=new _F(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Mp];i!==void 0&&n(!!i),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Db()||Ab()||yv()}}const YF=QF;var N0="@firebase/auth",R0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZF(t){ba(new Ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(t)},d=new N4(r,s,i,c);return O4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ba(new Ki("auth-internal",e=>{const n=Jh(e.getProvider("auth").getImmediate());return(r=>new XF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(N0,R0,JF(t)),Ws(N0,R0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=5*60,t3=db("authIdTokenMaxAge")||e3;let P0=null;const n3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t3)return;const s=n==null?void 0:n.token;P0!==s&&(P0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function r3(t=yb()){const e=dv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D4(t,{popupRedirectResolver:YF,persistence:[aF,Q4,zb]}),r=db("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=n3(i.toString());W4(n,o,()=>o(n.currentUser)),B4(n,a=>o(a))}}const s=cb("auth");return s&&M4(n,`http://${s}`),n}function s3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}R4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Hn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",s3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZF("Browser");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,Yb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function C(){}C.prototype=T.prototype,_.F=T.prototype,_.prototype=new C,_.prototype.constructor=_,_.D=function(N,P,k){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return T.prototype[P].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,T,C){C||(C=0);const N=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)N[P]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(P=0;P<16;++P)N[P]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=_.g[0],C=_.g[1],P=_.g[2];let k=_.g[3],R;R=T+(k^C&(P^k))+N[0]+3614090360&4294967295,T=C+(R<<7&4294967295|R>>>25),R=k+(P^T&(C^P))+N[1]+3905402710&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(C^k&(T^C))+N[2]+606105819&4294967295,P=k+(R<<17&4294967295|R>>>15),R=C+(T^P&(k^T))+N[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(k^C&(P^k))+N[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=k+(P^T&(C^P))+N[5]+1200080426&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(C^k&(T^C))+N[6]+2821735955&4294967295,P=k+(R<<17&4294967295|R>>>15),R=C+(T^P&(k^T))+N[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(k^C&(P^k))+N[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=k+(P^T&(C^P))+N[9]+2336552879&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(C^k&(T^C))+N[10]+4294925233&4294967295,P=k+(R<<17&4294967295|R>>>15),R=C+(T^P&(k^T))+N[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(k^C&(P^k))+N[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=k+(P^T&(C^P))+N[13]+4254626195&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(C^k&(T^C))+N[14]+2792965006&4294967295,P=k+(R<<17&4294967295|R>>>15),R=C+(T^P&(k^T))+N[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=T+(P^k&(C^P))+N[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=k+(C^P&(T^C))+N[6]+3225465664&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(k^T))+N[11]+643717713&4294967295,P=k+(R<<14&4294967295|R>>>18),R=C+(k^T&(P^k))+N[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(P^k&(C^P))+N[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=k+(C^P&(T^C))+N[10]+38016083&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(k^T))+N[15]+3634488961&4294967295,P=k+(R<<14&4294967295|R>>>18),R=C+(k^T&(P^k))+N[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(P^k&(C^P))+N[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=k+(C^P&(T^C))+N[14]+3275163606&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(k^T))+N[3]+4107603335&4294967295,P=k+(R<<14&4294967295|R>>>18),R=C+(k^T&(P^k))+N[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(P^k&(C^P))+N[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=k+(C^P&(T^C))+N[2]+4243563512&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^C&(k^T))+N[7]+1735328473&4294967295,P=k+(R<<14&4294967295|R>>>18),R=C+(k^T&(P^k))+N[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=T+(C^P^k)+N[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=k+(T^C^P)+N[8]+2272392833&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^C)+N[11]+1839030562&4294967295,P=k+(R<<16&4294967295|R>>>16),R=C+(P^k^T)+N[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(C^P^k)+N[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=k+(T^C^P)+N[4]+1272893353&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^C)+N[7]+4139469664&4294967295,P=k+(R<<16&4294967295|R>>>16),R=C+(P^k^T)+N[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(C^P^k)+N[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=k+(T^C^P)+N[0]+3936430074&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^C)+N[3]+3572445317&4294967295,P=k+(R<<16&4294967295|R>>>16),R=C+(P^k^T)+N[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(C^P^k)+N[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=k+(T^C^P)+N[12]+3873151461&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^C)+N[15]+530742520&4294967295,P=k+(R<<16&4294967295|R>>>16),R=C+(P^k^T)+N[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=T+(P^(C|~k))+N[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=k+(C^(T|~P))+N[7]+1126891415&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~C))+N[14]+2878612391&4294967295,P=k+(R<<15&4294967295|R>>>17),R=C+(k^(P|~T))+N[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=T+(P^(C|~k))+N[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=k+(C^(T|~P))+N[3]+2399980690&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~C))+N[10]+4293915773&4294967295,P=k+(R<<15&4294967295|R>>>17),R=C+(k^(P|~T))+N[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=T+(P^(C|~k))+N[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=k+(C^(T|~P))+N[15]+4264355552&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~C))+N[6]+2734768916&4294967295,P=k+(R<<15&4294967295|R>>>17),R=C+(k^(P|~T))+N[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=T+(P^(C|~k))+N[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=k+(C^(T|~P))+N[11]+3174756917&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~C))+N[2]+718787259&4294967295,P=k+(R<<15&4294967295|R>>>17),R=C+(k^(P|~T))+N[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+P&4294967295,_.g[3]=_.g[3]+k&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const C=T-this.blockSize,N=this.C;let P=this.h,k=0;for(;k<T;){if(P==0)for(;k<=C;)s(this,_,k),k+=this.blockSize;if(typeof _=="string"){for(;k<T;)if(N[P++]=_.charCodeAt(k++),P==this.blockSize){s(this,N),P=0;break}}else for(;k<T;)if(N[P++]=_[k++],P==this.blockSize){s(this,N),P=0;break}}this.h=P,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var C=_.length-8;C<_.length;++C)_[C]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)_[T++]=this.g[C]>>>N&255;return _};function i(_,T){var C=a;return Object.prototype.hasOwnProperty.call(C,_)?C[_]:C[_]=T(_)}function o(_,T){this.h=T;const C=[];let N=!0;for(let P=_.length-1;P>=0;P--){const k=_[P]|0;N&&k==T||(C[P]=k,N=!1)}this.g=C}var a={};function c(_){return-128<=_&&_<128?i(_,function(T){return new o([T|0],T<0?-1:0)}):new o([_|0],_<0?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return S(d(-_));const T=[];let C=1;for(let N=0;_>=C;N++)T[N]=_/C|0,C*=4294967296;return new o(T,0)}function h(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return S(h(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(T,8));let N=f;for(let k=0;k<_.length;k+=8){var P=Math.min(8,_.length-k);const R=parseInt(_.substring(k,k+P),T);P<8?(P=d(Math.pow(T,P)),N=N.j(P).add(d(R))):(N=N.j(C),N=N.add(d(R)))}return N}var f=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();let _=0,T=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);_+=(N>=0?N:4294967296+N)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(b(this))return"0";if(x(this))return"-"+S(this).toString(_);const T=d(Math.pow(_,6));var C=this;let N="";for(;;){const P=j(C,T).g;C=E(C,P.j(T));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(_);if(C=P,b(C))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function b(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=E(this,_),x(_)?-1:b(_)?0:1};function S(_){const T=_.g.length,C=[];for(let N=0;N<T;N++)C[N]=~_.g[N];return new o(C,~_.h).add(p)}t.abs=function(){return x(this)?S(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),C=[];let N=0;for(let P=0;P<=T;P++){let k=N+(this.i(P)&65535)+(_.i(P)&65535),R=(k>>>16)+(this.i(P)>>>16)+(_.i(P)>>>16);N=R>>>16,k&=65535,R&=65535,C[P]=R<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(_,T){return _.add(S(T))}t.j=function(_){if(b(this)||b(_))return f;if(x(this))return x(_)?S(this).j(S(_)):S(S(this).j(_));if(x(_))return S(this.j(S(_)));if(this.l(v)<0&&_.l(v)<0)return d(this.m()*_.m());const T=this.g.length+_.g.length,C=[];for(var N=0;N<2*T;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<_.g.length;P++){const k=this.i(N)>>>16,R=this.i(N)&65535,B=_.i(P)>>>16,re=_.i(P)&65535;C[2*N+2*P]+=R*re,w(C,2*N+2*P),C[2*N+2*P+1]+=k*re,w(C,2*N+2*P+1),C[2*N+2*P+1]+=R*B,w(C,2*N+2*P+1),C[2*N+2*P+2]+=k*B,w(C,2*N+2*P+2)}for(_=0;_<T;_++)C[_]=C[2*_+1]<<16|C[2*_];for(_=T;_<2*T;_++)C[_]=0;return new o(C,0)};function w(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function I(_,T){this.g=_,this.h=T}function j(_,T){if(b(T))throw Error("division by zero");if(b(_))return new I(f,f);if(x(_))return T=j(S(_),T),new I(S(T.g),S(T.h));if(x(T))return T=j(_,S(T)),new I(S(T.g),T.h);if(_.g.length>30){if(x(_)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var C=p,N=T;N.l(_)<=0;)C=D(C),N=D(N);var P=M(C,1),k=M(N,1);for(N=M(N,2),C=M(C,2);!b(N);){var R=k.add(N);R.l(_)<=0&&(P=P.add(C),k=R),N=M(N,1),C=M(C,1)}return T=E(_,P.j(T)),new I(P,T)}for(P=f;_.l(T)>=0;){for(C=Math.max(1,Math.floor(_.m()/T.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=d(C),R=k.j(T);x(R)||R.l(_)>0;)C-=N,k=d(C),R=k.j(T);b(k)&&(k=p),P=P.add(k),_=E(_,R)}return new I(P,_)}t.B=function(_){return j(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let N=0;N<T;N++)C[N]=this.i(N)&_.i(N);return new o(C,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let N=0;N<T;N++)C[N]=this.i(N)|_.i(N);return new o(C,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),C=[];for(let N=0;N<T;N++)C[N]=this.i(N)^_.i(N);return new o(C,this.h^_.h)};function D(_){const T=_.g.length+1,C=[];for(let N=0;N<T;N++)C[N]=_.i(N)<<1|_.i(N-1)>>>31;return new o(C,_.h)}function M(_,T){const C=T>>5;T%=32;const N=_.g.length-C,P=[];for(let k=0;k<N;k++)P[k]=T>0?_.i(k+C)>>>T|_.i(k+C+1)<<32-T:_.i(k+C);return new o(P,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Yb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Hs=o}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xb,jl,Jb,gd,Eg,Zb,eC,tC;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var y=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break e;y=y[L]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(m){var y=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&y.push([A,m[A]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function c(u,m,y){return u.call.apply(u.bind,arguments)}function d(u,m,y){return d=c,d.apply(null,arguments)}function h(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function f(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(A,L,V){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return m.prototype[L].apply(A,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function v(u){const m=u.length;if(m>0){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function b(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const V=L.length||0;u.length=y+V;for(let H=0;H<V;H++)u[y+H]=L[H]}else u.push(L)}}class x{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function S(u){o.setTimeout(()=>{throw u},0)}function E(){var u=_;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class w{constructor(){this.h=this.g=null}add(m,y){const A=I.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var I=new x(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,_=new w,T=()=>{const u=Promise.resolve(void 0);D=()=>{u.then(C)}};function C(){for(var u;u=E();){try{u.h.call(u.g)}catch(y){S(y)}var m=I;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}M=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,m),o.removeEventListener("test",y,m)}catch{}return u}();function R(u){return/^[\s\xa0]*$/.test(u)}function B(u,m){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(B,P),B.prototype.init=function(u,m){const y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ue(u,m,y,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=L,this.key=++Y,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function W(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function X(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function ae(u){const m={};for(const y in u)m[y]=u[y];return m}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(u,m){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let V=0;V<Se.length;V++)y=Se[V],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function Be(u){this.src=u,this.g={},this.h=0}Be.prototype.add=function(u,m,y,A,L){const V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);const H=ct(u,m,A,L);return H>-1?(m=u[H],y||(m.fa=!1)):(m=new ue(m,this.src,V,!!A,L),m.fa=y,u.push(m)),m};function Yt(u,m){const y=m.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,m,void 0),V;(V=L>=0)&&Array.prototype.splice.call(A,L,1),V&&(F(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ct(u,m,y,A){for(let L=0;L<u.length;++L){const V=u[L];if(!V.da&&V.listener==m&&V.capture==!!y&&V.ha==A)return L}return-1}var te="closure_lm_"+(Math.random()*1e6|0),Re={};function ut(u,m,y,A,L){if(Array.isArray(m)){for(let V=0;V<m.length;V++)ut(u,m[V],y,A,L);return null}return y=nu(y),u&&u[re]?u.J(m,y,a(A)?!!A.capture:!!A,L):je(u,m,y,!1,A,L)}function je(u,m,y,A,L,V){if(!m)throw Error("Invalid event type");const H=a(L)?!!L.capture:!!L;let fe=br(u);if(fe||(u[te]=fe=new Be(u)),y=fe.add(m,y,A,H,V),y.proxy)return y;if(A=Ce(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)k||(L=H),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(cn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ce(){function u(y){return m.call(u.src,u.listener,y)}const m=pi;return u}function Ie(u,m,y,A,L){if(Array.isArray(m))for(var V=0;V<m.length;V++)Ie(u,m[V],y,A,L);else A=a(A)?!!A.capture:!!A,y=nu(y),u&&u[re]?(u=u.i,V=String(m).toString(),V in u.g&&(m=u.g[V],y=ct(m,y,A,L),y>-1&&(F(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[V],u.h--)))):u&&(u=br(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,y,A,L)),(y=u>-1?m[u]:null)&&_t(y))}function _t(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[re])Yt(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(cn(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=br(m))?(Yt(y,u),y.h==0&&(y.src=null,m[te]=null)):F(u)}}}function cn(u){return u in Re?Re[u]:Re[u]="on"+u}function pi(u,m){if(u.da)u=!0;else{m=new B(m,this);const y=u.listener,A=u.ha||u.src;u.fa&&_t(u),u=y.call(A,m)}return u}function br(u){return u=u[te],u instanceof Be?u:null}var Cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function nu(u){return typeof u=="function"?u:(u[Cr]||(u[Cr]=function(m){return u.handleEvent(m)}),u[Cr])}function et(){N.call(this),this.i=new Be(this),this.M=this,this.G=null}f(et,N),et.prototype[re]=!0,et.prototype.removeEventListener=function(u,m,y,A){Ie(this,u,m,y,A)};function Vt(u,m){var y,A=u.G;if(A)for(y=[];A;A=A.G)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new P(m,u);else if(m instanceof P)m.target=m.target||u;else{var L=m;m=new P(A,u),gt(m,L)}L=!0;let V,H;if(y)for(H=y.length-1;H>=0;H--)V=m.g=y[H],L=ru(V,A,!0,m)&&L;if(V=m.g=u,L=ru(V,A,!0,m)&&L,L=ru(V,A,!1,m)&&L,y)for(H=0;H<y.length;H++)V=m.g=y[H],L=ru(V,A,!1,m)&&L}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let A=0;A<y.length;A++)F(y[A]);delete u.g[m],u.h--}}this.G=null},et.prototype.J=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},et.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function ru(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let V=0;V<m.length;++V){const H=m[V];if(H&&!H.da&&H.capture==y){const fe=H.listener,dt=H.ha||H.src;H.fa&&Yt(u.i,H),L=fe.call(dt,A)!==!1&&L}}return L&&!A.defaultPrevented}function XR(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(u,m||0)}function Ex(u){u.g=XR(()=>{u.g=null,u.i&&(u.i=!1,Ex(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class JR extends N{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ex(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(u){N.call(this),this.h=u,this.g={}}f(Za,N);var Tx=[];function Sx(u){W(u.g,function(m,y){this.g.hasOwnProperty(y)&&_t(m)},u),u.g={}}Za.prototype.N=function(){Za.Z.N.call(this),Sx(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jf=o.JSON.stringify,ZR=o.JSON.parse,eP=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ix(){}function bx(){}var el={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kf(){P.call(this,"d")}f(kf,P);function Df(){P.call(this,"c")}f(Df,P);var mi={},Cx=null;function su(){return Cx=Cx||new et}mi.Ia="serverreachability";function Ax(u){P.call(this,mi.Ia,u)}f(Ax,P);function tl(u){const m=su();Vt(m,new Ax(m))}mi.STAT_EVENT="statevent";function Nx(u,m){P.call(this,mi.STAT_EVENT,u),this.stat=m}f(Nx,P);function Ft(u){const m=su();Vt(m,new Nx(m,u))}mi.Ja="timingevent";function Rx(u,m){P.call(this,mi.Ja,u),this.size=m}f(Rx,P);function nl(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function rl(){this.g=!0}rl.prototype.ua=function(){this.g=!1};function tP(u,m,y,A,L,V){u.info(function(){if(u.g)if(V){var H="",fe=V.split("&");for(let ke=0;ke<fe.length;ke++){var dt=fe[ke].split("=");if(dt.length>1){const yt=dt[0];dt=dt[1];const rr=yt.split("_");H=rr.length>=2&&rr[1]=="type"?H+(yt+"="+dt+"&"):H+(yt+"=redacted&")}}}else H=null;else H=V;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+y+`
`+H})}function nP(u,m,y,A,L,V,H){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+y+`
`+V+" "+H})}function uo(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+sP(u,y)+(A?" "+A:"")})}function rP(u,m){u.info(function(){return"TIMEOUT: "+m})}rl.prototype.info=function(){};function sP(u,m){if(!u.g)return m;if(!m)return null;try{const V=JSON.parse(m);if(V){for(u=0;u<V.length;u++)if(Array.isArray(V[u])){var y=V[u];if(!(y.length<2)){var A=y[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let H=1;H<A.length;H++)A[H]=""}}}}return jf(V)}catch{return m}}var iu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Px={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jx;function Of(){}f(Of,Ix),Of.prototype.g=function(){return new XMLHttpRequest},jx=new Of;function sl(u){return encodeURIComponent(String(u))}function iP(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function es(u,m,y,A){this.j=u,this.i=m,this.l=y,this.S=A||1,this.V=new Za(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kx}function kx(){this.i=null,this.g="",this.h=!1}var Dx={},Mf={};function Lf(u,m,y){u.M=1,u.A=au(nr(m)),u.u=y,u.R=!0,Ox(u,null)}function Ox(u,m){u.F=Date.now(),ou(u),u.B=nr(u.A);var y=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Kx(y.i,"t",A),u.C=0,y=u.j.L,u.h=new kx,u.g=hw(u.j,y?m:null,!u.u),u.P>0&&(u.O=new JR(d(u.Y,u,u.g),u.P)),m=u.V,y=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Tx[0]=L.toString()),L=Tx);for(let V=0;V<L.length;V++){const H=ut(y,L[V],A||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=u.J?ae(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),tl(),tP(u.i,u.v,u.B,u.l,u.S,u.u)}es.prototype.ba=function(u){u=u.target;const m=this.O;m&&rs(u)==3?m.j():this.Y(u)},es.prototype.Y=function(u){try{if(u==this.g)e:{const fe=rs(this.g),dt=this.g.ya(),ke=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||tw(this.g)))){this.K||fe!=4||dt==7||(dt==8||ke<=0?tl(3):tl(2)),Vf(this);var m=this.g.ca();this.X=m;var y=oP(this);if(this.o=m==200,nP(this.i,this.v,this.B,this.l,this.S,fe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var V=A;break t}}V=null}if(u=V)uo(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ff(this,u);else{this.o=!1,this.m=3,Ft(12),gi(this),il(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<y.length;)if(yt=aP(this,y),yt==Mf){fe==4&&(this.m=4,Ft(14),u=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Dx){this.m=4,Ft(15),uo(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else uo(this.i,this.l,yt,null),Ff(this,yt);if(Mx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||y.length!=0||this.h.h||(this.m=1,Ft(16),u=!1),this.o=this.o&&u,!u)uo(this.i,this.l,y,"[Invalid Chunked Response]"),gi(this),il(this);else if(y.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Gf(H),H.P=!0,Ft(11))}}else uo(this.i,this.l,y,null),Ff(this,y);fe==4&&gi(this),this.o&&!this.K&&(fe==4?lw(this.j,this):(this.o=!1,ou(this)))}else _P(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),gi(this),il(this)}}}catch{}finally{}};function oP(u){if(!Mx(u))return u.g.la();const m=tw(u.g);if(m==="")return"";let y="";const A=m.length,L=rs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gi(u),il(u),"";u.h.i=new o.TextDecoder}for(let V=0;V<A;V++)u.h.h=!0,y+=u.h.i.decode(m[V],{stream:!(L&&V==A-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Mx(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function aP(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Mf:(y=Number(m.substring(y,A)),isNaN(y)?Dx:(A+=1,A+y>m.length?Mf:(m=m.slice(A,A+y),u.C=A+y,m)))}es.prototype.cancel=function(){this.K=!0,gi(this)};function ou(u){u.T=Date.now()+u.H,Lx(u,u.H)}function Lx(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=nl(d(u.aa,u),m)}function Vf(u){u.D&&(o.clearTimeout(u.D),u.D=null)}es.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rP(this.i,this.B),this.M!=2&&(tl(),Ft(17)),gi(this),this.m=2,il(this)):Lx(this,this.T-u)};function il(u){u.j.I==0||u.K||lw(u.j,u)}function gi(u){Vf(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Sx(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ff(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Uf(y.h,u))){if(!u.L&&Uf(y.h,u)&&y.I==3){try{var A=y.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)hu(y),uu(y);else break e;qf(y),Ft(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=nl(d(y.Va,y),6e3));Ux(y.h)<=1&&y.ta&&(y.ta=void 0)}else vi(y,11)}else if((u.L||y.g==u)&&hu(y),!R(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let ke=L[m];const yt=ke[0];if(!(yt<=y.K))if(y.K=yt,ke=ke[1],y.I==2)if(ke[0]=="c"){y.M=ke[1],y.ba=ke[2];const rr=ke[3];rr!=null&&(y.ka=rr,y.j.info("VER="+y.ka));const xi=ke[4];xi!=null&&(y.za=xi,y.j.info("SVER="+y.za));const ss=ke[5];ss!=null&&typeof ss=="number"&&ss>0&&(A=1.5*ss,y.O=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const is=u.g;if(is){const pu=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pu){var V=A.h;V.g||pu.indexOf("spdy")==-1&&pu.indexOf("quic")==-1&&pu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&($f(V,V.h),V.h=null))}if(A.G){const Kf=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(A.wa=Kf,Le(A.J,A.G,Kf))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),A=y;var H=u;if(A.na=dw(A,A.L?A.ba:null,A.W),H.L){$x(A.h,H);var fe=H,dt=A.O;dt&&(fe.H=dt),fe.D&&(Vf(fe),ou(fe)),A.g=H}else ow(A);y.i.length>0&&du(y)}else ke[0]!="stop"&&ke[0]!="close"||vi(y,7);else y.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?vi(y,7):Hf(y):ke[0]!="noop"&&y.l&&y.l.qa(ke),y.A=0)}}tl(4)}catch{}}var lP=class{constructor(u,m){this.g=u,this.map=m}};function Vx(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ux(u){return u.h?1:u.g?u.g.size:0}function Uf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $f(u,m){u.g?u.g.add(m):u.h=m}function $x(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vx.prototype.cancel=function(){if(this.i=zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zx(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return v(u.i)}var Bx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cP(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const A=u[y].indexOf("=");let L,V=null;A>=0?(L=u[y].substring(0,A),V=u[y].substring(A+1)):L=u[y],m(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ts(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof ts?(this.l=u.l,ol(this,u.j),this.o=u.o,this.g=u.g,al(this,u.u),this.h=u.h,zf(this,Qx(u.i)),this.m=u.m):u&&(m=String(u).match(Bx))?(this.l=!1,ol(this,m[1]||"",!0),this.o=ll(m[2]||""),this.g=ll(m[3]||"",!0),al(this,m[4]),this.h=ll(m[5]||"",!0),zf(this,m[6]||"",!0),this.m=ll(m[7]||"")):(this.l=!1,this.i=new ul(null,this.l))}ts.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cl(m,Wx,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cl(m,Wx,!0),"@"),u.push(sl(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(cl(y,y.charAt(0)=="/"?hP:dP,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",cl(y,pP)),u.join("")},ts.prototype.resolve=function(u){const m=nr(this);let y=!!u.j;y?ol(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var A=u.h;if(y)al(m,u.u);else if(y=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let H=0;H<L.length;){const fe=L[H++];fe=="."?A&&H==L.length&&V.push(""):fe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),A&&H==L.length&&V.push("")):(V.push(fe),A=!0)}A=V.join("/")}else A=L}return y?m.h=A:y=u.i.toString()!=="",y?zf(m,Qx(u.i)):y=!!u.m,y&&(m.m=u.m),m};function nr(u){return new ts(u)}function ol(u,m,y){u.j=y?ll(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function al(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zf(u,m,y){m instanceof ul?(u.i=m,mP(u.i,u.l)):(y||(m=cl(m,fP)),u.i=new ul(m,u.l))}function Le(u,m,y){u.i.set(m,y)}function au(u){return Le(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ll(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cl(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,uP),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wx=/[#\/\?@]/g,dP=/[#\?:]/g,hP=/[#\?]/g,fP=/[#\?@]/g,pP=/#/g;function ul(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yi(u){u.g||(u.g=new Map,u.h=0,u.i&&cP(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=ul.prototype,t.add=function(u,m){yi(this),this.i=null,u=ho(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Hx(u,m){yi(u),m=ho(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qx(u,m){return yi(u),m=ho(u,m),u.g.has(m)}t.forEach=function(u,m){yi(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Gx(u,m){yi(u);let y=[];if(typeof m=="string")qx(u,m)&&(y=y.concat(u.g.get(ho(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}t.set=function(u,m){return yi(this),this.i=null,u=ho(this,u),qx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=Gx(this,u),u.length>0?String(u[0]):m):m};function Kx(u,m,y){Hx(u,m),y.length>0&&(u.i=null,u.g.set(ho(u,m),v(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var y=m[A];const L=sl(y);y=Gx(this,y);for(let V=0;V<y.length;V++){let H=L;y[V]!==""&&(H+="="+sl(y[V])),u.push(H)}}return this.i=u.join("&")};function Qx(u){const m=new ul;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ho(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function mP(u,m){m&&!u.j&&(yi(u),u.i=null,u.g.forEach(function(y,A){const L=A.toLowerCase();A!=L&&(Hx(this,A),Kx(this,L,y))},u)),u.j=m}function gP(u,m){const y=new rl;if(o.Image){const A=new Image;A.onload=h(ns,y,"TestLoadImage: loaded",!0,m,A),A.onerror=h(ns,y,"TestLoadImage: error",!1,m,A),A.onabort=h(ns,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=h(ns,y,"TestLoadImage: timeout",!1,m,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function yP(u,m){const y=new rl,A=new AbortController,L=setTimeout(()=>{A.abort(),ns(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(V=>{clearTimeout(L),V.ok?ns(y,"TestPingServer: ok",!0,m):ns(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ns(y,"TestPingServer: error",!1,m)})}function ns(u,m,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function vP(){this.g=new eP}function Bf(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Bf,Ix),Bf.prototype.g=function(){return new lu(this.i,this.h)};function lu(u,m){et.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(lu,et),t=lu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yx(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yx(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?dl(this):hl(this),this.readyState==3&&Yx(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,dl(this))},t.Na=function(u){this.g&&(this.response=u,dl(this))},t.ga=function(){this.g&&dl(this)};function dl(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hl(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function hl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xx(u){let m="";return W(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Wf(u,m,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Xx(y),typeof u=="string"?y!=null&&sl(y):Le(u,m,y))}function Ye(u){et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ye,et);var xP=/^https?$/i,wP=["POST","PUT"];t=Ye.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jx.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){Jx(this,V);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())y.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(wP,m,void 0)>=0)||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of y)this.g.setRequestHeader(V,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(V){Jx(this,V)}};function Jx(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zx(u),cu(u)}function Zx(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),cu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cu(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ew(this):this.Xa())},t.Xa=function(){ew(this)};function ew(u){if(u.h&&typeof i<"u"){if(u.v&&rs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),rs(u)==4){u.h=!1;try{const V=u.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var A;if(A=V===0){let H=String(u.D).match(Bx)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),A=!xP.test(H?H.toLowerCase():"")}y=A}if(y)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var L=rs(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Zx(u)}}finally{cu(u)}}}}function cu(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Vt(u,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function rs(u){return u.g?u.g.readyState:0}t.ca=function(){try{return rs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ZR(m)}};function tw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _P(u){const m={};u=(u.g&&rs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var y=iP(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=m[L]||[];m[L]=V,V.push(y)}X(m,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fl(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function nw(u){this.za=0,this.i=[],this.j=new rl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fl("baseRetryDelayMs",5e3,u),this.Za=fl("retryDelaySeedMs",1e4,u),this.Ta=fl("forwardChannelMaxRetries",2,u),this.va=fl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vx(u&&u.concurrentRequestLimit),this.Ba=new vP,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nw.prototype,t.ka=8,t.I=1,t.connect=function(u,m,y,A){Ft(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.J=dw(this,null,this.W),du(this)};function Hf(u){if(rw(u),u.I==3){var m=u.V++,y=nr(u.J);if(Le(y,"SID",u.M),Le(y,"RID",m),Le(y,"TYPE","terminate"),pl(u,y),m=new es(u,u.j,m),m.M=2,m.A=au(nr(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=m.A,y=!0),y||(m.g=hw(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ou(m)}uw(u)}function uu(u){u.g&&(Gf(u),u.g.cancel(),u.g=null)}function rw(u){uu(u),u.v&&(o.clearTimeout(u.v),u.v=null),hu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function du(u){if(!Fx(u.h)&&!u.m){u.m=!0;var m=u.Ea;D||T(),M||(D(),M=!0),_.add(m,u),u.D=0}}function EP(u,m){return Ux(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=nl(d(u.Ea,u,m),cw(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new es(this,this.j,u);let V=this.o;if(this.U&&(V?(V=ae(V),gt(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=iw(this,L,m),y=nr(this.J),Le(y,"RID",u),Le(y,"CVER",22),this.G&&Le(y,"X-HTTP-Session-Id",this.G),pl(this,y),V&&(this.R?m="headers="+sl(Xx(V))+"&"+m:this.u&&Wf(y,this.u,V)),$f(this.h,L),this.Ra&&Le(y,"TYPE","init"),this.S?(Le(y,"$req",m),Le(y,"SID","null"),L.U=!0,Lf(L,y,null)):Lf(L,y,m),this.I=2}}else this.I==3&&(u?sw(this,u):this.i.length==0||Fx(this.h)||sw(this))};function sw(u,m){var y;m?y=m.l:y=u.V++;const A=nr(u.J);Le(A,"SID",u.M),Le(A,"RID",y),Le(A,"AID",u.K),pl(u,A),u.u&&u.o&&Wf(A,u.u,u.o),y=new es(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=iw(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$f(u.h,y),Lf(y,A,m)}function pl(u,m){u.H&&W(u.H,function(y,A){Le(m,A,y)}),u.l&&W({},function(y,A){Le(m,A,y)})}function iw(u,m,y){y=Math.min(u.i.length,y);const A=u.l?d(u.l.Ka,u.l,u):null;e:{var L=u.i;let fe=-1;for(;;){const dt=["count="+y];fe==-1?y>0?(fe=L[0].g,dt.push("ofs="+fe)):fe=0:dt.push("ofs="+fe);let ke=!0;for(let yt=0;yt<y;yt++){var V=L[yt].g;const rr=L[yt].map;if(V-=fe,V<0)fe=Math.max(0,L[yt].g-100),ke=!1;else try{V="req"+V+"_"||"";try{var H=rr instanceof Map?rr:Object.entries(rr);for(const[xi,ss]of H){let is=ss;a(ss)&&(is=jf(ss)),dt.push(V+xi+"="+encodeURIComponent(is))}}catch(xi){throw dt.push(V+"type="+encodeURIComponent("_badmap")),xi}}catch{A&&A(rr)}}if(ke){H=dt.join("&");break e}}H=void 0}return u=u.i.splice(0,y),m.G=u,H}function ow(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;D||T(),M||(D(),M=!0),_.add(m,u),u.A=0}}function qf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=nl(d(u.Da,u),cw(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,aw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=nl(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),uu(this),aw(this))};function Gf(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function aw(u){u.g=new es(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=nr(u.na);Le(m,"RID","rpc"),Le(m,"SID",u.M),Le(m,"AID",u.K),Le(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Le(m,"TO",u.ia),Le(m,"TYPE","xmlhttp"),pl(u,m),u.u&&u.o&&Wf(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=au(nr(m)),y.u=null,y.R=!0,Ox(y,u)}t.Va=function(){this.C!=null&&(this.C=null,uu(this),qf(this),Ft(19))};function hu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function lw(u,m){var y=null;if(u.g==m){hu(u),Gf(u),u.g=null;var A=2}else if(Uf(u.h,m))y=m.G,$x(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=su(),Vt(A,new Rx(A,y)),du(u)}else ow(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&EP(u,m)||A==2&&qf(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function cw(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var y=d(u.bb,u),A=u.Ua;const L=!A;A=new ts(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ol(A,"https"),au(A),L?gP(A.toString(),y):yP(A.toString(),y)}else Ft(2);u.I=0,u.l&&u.l.pa(m),uw(u),rw(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function uw(u){if(u.I=0,u.ja=[],u.l){const m=zx(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ja,m),b(u.ja,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.oa()}}function dw(u,m,y){var A=y instanceof ts?nr(y):new ts(y);if(A.g!="")m&&(A.g=m+"."+A.g),al(A,A.u);else{var L=o.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const V=new ts(null);A&&ol(V,A),m&&(V.g=m),L&&al(V,L),y&&(V.h=y),A=V}return y=u.G,m=u.wa,y&&m&&Le(A,y,m),Le(A,"VER",u.ka),pl(u,A),A}function hw(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new Bf({ab:y})):new Ye(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fw(){}t=fw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fu(){}fu.prototype.g=function(u,m){return new un(u,m)};function un(u,m){et.call(this),this.g=new nw(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fo(this)}f(un,et),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Hf(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=jf(u),u=y);m.i.push(new lP(m.Ya++,u)),m.I==3&&du(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Hf(this.g),delete this.g,un.Z.N.call(this)};function pw(u){kf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(pw,kf);function mw(){Df.call(this),this.status=1}f(mw,Df);function fo(u){this.g=u}f(fo,fw),fo.prototype.ra=function(){Vt(this.g,"a")},fo.prototype.qa=function(u){Vt(this.g,new pw(u))},fo.prototype.pa=function(u){Vt(this.g,new mw)},fo.prototype.oa=function(){Vt(this.g,"b")},fu.prototype.createWebChannel=fu.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,tC=function(){return new fu},eC=function(){return su()},Zb=mi,Eg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,gd=iu,Px.COMPLETE="complete",Jb=Px,bx.EventType=el,el.OPEN="a",el.CLOSE="b",el.ERROR="c",el.MESSAGE="d",et.prototype.listen=et.prototype.J,jl=bx,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,Xb=Ye}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",D0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new cv("@firebase/firestore");function vo(){return Yi.logLevel}function K(t,...e){if(Yi.logLevel<=ye.DEBUG){const n=e.map(Ev);Yi.debug(`Firestore (${Ga}): ${t}`,...n)}}function Yr(t,...e){if(Yi.logLevel<=ye.ERROR){const n=e.map(Ev);Yi.error(`Firestore (${Ga}): ${t}`,...n)}}function Aa(t,...e){if(Yi.logLevel<=ye.WARN){const n=e.map(Ev);Yi.warn(`Firestore (${Ga}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nC(t,r,n)}function nC(t,e,n){let r=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yr(r),new Error(r)}function Ne(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nC(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class o3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a3{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new rC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new kt(e)}}class l3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=d3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Tg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Lp(s)===Lp(i)?ve(s,i):Lp(s)?1:-1}return ve(t.length,e.length)}const h3=55296,f3=57343;function Lp(t){const e=t.charCodeAt(0);return e>=h3&&e<=f3}function Na(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=or.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),s=or.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?or.extractNumericId(e).compare(or.extractNumericId(n)):Tg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class De extends or{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const p3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends or{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return p3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new St([M0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(De.fromString(e))}static fromName(e){return new Z(De.fromString(e).popFirst(5))}static empty(){return new Z(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m3(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L0(t){if(!Z.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V0(t){if(Z.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function g3(t,e){if(e<=0)throw new q(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kc(t,e){if(!iC(t))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-62135596800,U0=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*U0);return new Ue(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F0)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kc(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:at("string",Ue._jsonSchemaVersion),seconds:at("number"),nanoseconds:at("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Ue(0,0))}static max(){return new le(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function y3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new Js(s,Z.empty(),e)}function v3(t){return new Js(t.readTime,t.key,_c)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(le.min(),Z.empty(),_c)}static max(){return new Js(le.max(),Z.empty(),_c)}}function x3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==w3)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function E3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function rf(t){return t==null}function lh(t){return t===0&&1/t==-1/0}function T3(t){return typeof t=="number"&&Number.isInteger(t)&&!lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="";function S3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$0(e)),e=I3(t.get(n),e);return $0(e)}function I3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case oC:n+="";break;default:n+=i}}return n}function $0(t){return t+oC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ci(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=s??Tt.EMPTY,this.right=i??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(e){return new B0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class B0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new mn([])}unionWith(e){let n=new mt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lC("Invalid base64 string: "+i):i}}(e);return new At(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const b3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(Ne(!!t,39018),typeof t=="string"){let e=0;const n=b3.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ei(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="server_timestamp",uC="__type__",dC="__previous_value__",hC="__local_write_time__";function Iv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uC])==null?void 0:r.stringValue)===cC}function sf(t){const e=t.mapValue.fields[dC];return Iv(e)?sf(e):e}function Ec(t){const e=Zs(t.mapValue.fields[hC].timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const ch="(default)";class Tc{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="__type__",pC="__max__",Uu={mapValue:{fields:{__type__:{stringValue:pC}}}},mC="__vector__",uh="value";function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iv(t)?4:N3(t)?9007199254740991:A3(t)?10:11:ie(28295,{value:t})}function Tr(t,e){if(t===e)return!0;const n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zs(s.timestampValue),a=Zs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ei(s.bytesValue).isEqual(ei(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?lh(o)===lh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Na(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(z0(o)!==z0(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Tr(o[c],a[c])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Sc(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function Ra(t,e){if(t===e)return 0;const n=ti(t),r=ti(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),c=tt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return W0(t.timestampValue,e.timestampValue);case 4:return W0(Ec(t),Ec(e));case 5:return Tg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ei(i),c=ei(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=ve(a[d],c[d]);if(h!==0)return h}return ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(tt(i.latitude),tt(o.latitude));return a!==0?a:ve(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return H0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,b,x;const a=i.fields||{},c=o.fields||{},d=(p=a[uh])==null?void 0:p.arrayValue,h=(v=c[uh])==null?void 0:v.arrayValue,f=ve(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:H0(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Uu.mapValue&&o===Uu.mapValue)return 0;if(i===Uu.mapValue)return 1;if(o===Uu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Tg(c[f],h[f]);if(p!==0)return p;const v=Ra(a[c[f]],d[h[f]]);if(v!==0)return v}return ve(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function W0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Zs(t),r=Zs(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function H0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ra(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function Pa(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Sg(n.fields[o])}`;return s+"}"}(t.mapValue):ie(61005,{value:t})}function yd(t){switch(ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(t);return e?16+yd(e):16;case 5:return 2*t.stringValue.length;case 6:return ei(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+yd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ci(r.fields,(i,o)=>{s+=i.length+yd(o)}),s}(t.mapValue);default:throw ie(13486,{value:t})}}function q0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ig(t){return!!t&&"integerValue"in t}function bv(t){return!!t&&"arrayValue"in t}function G0(t){return!!t&&"nullValue"in t}function K0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function A3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fC])==null?void 0:r.stringValue)===mC}function Ql(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(t.arrayValue.values[n]);return e}return{...t}}function N3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=St.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ql(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];vd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ci(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rn(Ql(this.value))}}function gC(t){const e=[];return ci(t.fields,(n,r)=>{const s=new St([n]);if(vd(r)){const i=gC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,le.min(),le.min(),le.min(),rn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ot(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Ot(e,2,n,le.min(),le.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,le.min(),le.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function Q0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Ra(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function R3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{}class ot extends yC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j3(e,n,r):n==="array-contains"?new O3(e,r):n==="in"?new M3(e,r):n==="not-in"?new L3(e,r):n==="array-contains-any"?new V3(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k3(e,r):new D3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ra(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(Ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends yC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yn(e,n)}matches(e){return vC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vC(t){return t.op==="and"}function xC(t){return P3(t)&&vC(t)}function P3(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function bg(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Pa(t.value);if(xC(t))return t.filters.map(e=>bg(e)).join(",");{const e=t.filters.map(n=>bg(n)).join(",");return`${t.op}(${e})`}}function wC(t,e){return t instanceof ot?function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(t,e):t instanceof Yn?function(r,s){return s instanceof Yn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&wC(o,s.filters[a]),!0):!1}(t,e):void ie(19439)}function _C(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Pa(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(_C).join(" ,")+"}"}(t):"Filter"}class j3 extends ot{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class k3 extends ot{constructor(e,n){super(e,"in",n),this.keys=EC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class D3 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=EC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class O3 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bv(n)&&Sc(n.arrayValue,this.value)}}class M3 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class L3 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class V3 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function X0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new F3(t,e,n,r,s,i,o)}function Cv(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pa(r)).join(",")),e.Te=n}return e.Te}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y0(t.startAt,e.startAt)&&Y0(t.endAt,e.endAt)}function Cg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U3(t,e,n,r,s,i,o,a){return new Ya(t,e,n,r,s,i,o,a)}function Nv(t){return new Ya(t)}function J0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TC(t){return t.collectionGroup!==null}function Yl(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(St.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ic(i,r))}),n.has(St.keyField().canonicalString())||e.Ie.push(new Ic(St.keyField(),r))}return e.Ie}function yr(t){const e=de(t);return e.Ee||(e.Ee=$3(e,Yl(t))),e.Ee}function $3(t,e){if(t.limitType==="F")return X0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ic(s.field,i)});const n=t.endAt?new dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dh(t.startAt.position,t.startAt.inclusive):null;return X0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ag(t,e){const n=t.filters.concat([e]);return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hh(t,e,n){return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function of(t,e){return Av(yr(t),yr(e))&&t.limitType===e.limitType}function SC(t){return`${Cv(yr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>_C(s)).join(", ")}]`),rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Pa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Pa(s)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=Q0(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Yl(r),s)||r.endAt&&!function(o,a,c){const d=Q0(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Yl(r),s))}(t,e)}function z3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IC(t){return(e,n)=>{let r=!1;for(const s of Yl(t)){const i=B3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function B3(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?Ra(c,d):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return aC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new Qe(Z.comparator);function Xr(){return W3}const bC=new Qe(Z.comparator);function kl(...t){let e=bC;for(const n of t)e=e.insert(n.key,n);return e}function CC(t){let e=bC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return Xl()}function AC(){return Xl()}function Xl(){return new io(t=>t.toString(),(t,e)=>t.isEqual(e))}const H3=new Qe(Z.comparator),q3=new mt(Z.comparator);function xe(...t){let e=q3;for(const n of t)e=e.add(n);return e}const G3=new mt(ve);function K3(){return G3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function NC(t){return{integerValue:""+t}}function Q3(t,e){return T3(e)?NC(e):Rv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function Y3(t,e,n){return t instanceof fh?function(s,i){const o={fields:{[uC]:{stringValue:cC},[hC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Iv(i)&&(i=sf(i)),i&&(o.fields[dC]=i),{mapValue:o}}(n,e):t instanceof bc?PC(t,e):t instanceof Cc?jC(t,e):function(s,i){const o=RC(s,i),a=Z0(o)+Z0(s.Ae);return Ig(o)&&Ig(s.Ae)?NC(a):Rv(s.serializer,a)}(t,e)}function X3(t,e,n){return t instanceof bc?PC(t,e):t instanceof Cc?jC(t,e):n}function RC(t,e){return t instanceof ph?function(r){return Ig(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fh extends lf{}class bc extends lf{constructor(e){super(),this.elements=e}}function PC(t,e){const n=kC(e);for(const r of t.elements)n.some(s=>Tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cc extends lf{constructor(e){super(),this.elements=e}}function jC(t,e){let n=kC(e);for(const r of t.elements)n=n.filter(s=>!Tr(s,r));return{arrayValue:{values:n}}}class ph extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Z0(t){return tt(t.integerValue||t.doubleValue)}function kC(t){return bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof bc&&s instanceof bc||r instanceof Cc&&s instanceof Cc?Na(r.elements,s.elements,Tr):r instanceof ph&&s instanceof ph?Tr(r.Ae,s.Ae):r instanceof fh&&s instanceof fh}(t.transform,e.transform)}class Z3{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cf{}function DC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pv(t.key,An.none()):new Qc(t.key,t.data,An.none());{const n=t.data,r=rn.empty();let s=new mt(St.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ui(t.key,r,new mn(s.toArray()),An.none())}}function e6(t,e,n){t instanceof Qc?function(s,i,o){const a=s.value.clone(),c=tE(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(s,i,o){if(!xd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=tE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(OC(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jl(t,e,n,r){return t instanceof Qc?function(i,o,a,c){if(!xd(i.precondition,o))return a;const d=i.value.clone(),h=nE(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(i,o,a,c){if(!xd(i.precondition,o))return a;const d=nE(i.fieldTransforms,c,o),h=o.data;return h.setAll(OC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return xd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function t6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=RC(r.transform,s||null);i!=null&&(n===null&&(n=rn.empty()),n.set(r.field,i))}return n||null}function eE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Na(r,s,(i,o)=>J3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qc extends cf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ui extends cf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function OC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tE(t,e,n){const r=new Map;Ne(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,X3(o,a,n[s]))}return r}function nE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Y3(i,o,e))}return r}class Pv extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n6 extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&e6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=DC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,(n,r)=>eE(n,r))&&Na(this.baseMutations,e.baseMutations,(n,r)=>eE(n,r))}}class jv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return H3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,_e;function o6(t){switch(t){case U.OK:return ie(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function MC(t){if(t===void 0)return Yr("GRPC error has no .code"),U.UNKNOWN;switch(t){case st.OK:return U.OK;case st.CANCELLED:return U.CANCELLED;case st.UNKNOWN:return U.UNKNOWN;case st.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case st.INTERNAL:return U.INTERNAL;case st.UNAVAILABLE:return U.UNAVAILABLE;case st.UNAUTHENTICATED:return U.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case st.NOT_FOUND:return U.NOT_FOUND;case st.ALREADY_EXISTS:return U.ALREADY_EXISTS;case st.PERMISSION_DENIED:return U.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case st.ABORTED:return U.ABORTED;case st.OUT_OF_RANGE:return U.OUT_OF_RANGE;case st.UNIMPLEMENTED:return U.UNIMPLEMENTED;case st.DATA_LOSS:return U.DATA_LOSS;default:return ie(39323,{code:t})}}(_e=st||(st={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Hs([4294967295,4294967295],0);function rE(t){const e=a6().encode(t),n=new Yb;return n.update(e),new Uint8Array(n.digest())}function sE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([s,i],0)]}class kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Hs.fromNumber(r)));return s.compare(l6)===1&&(s=new Hs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rE(e),[r,s]=sE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new kv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=rE(e),[r,s]=sE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uf(le.min(),s,new Qe(ve),Xr(),xe())}}class Yc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yc(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class LC{constructor(e,n){this.targetId=e,this.Ce=n}}class VC{constructor(e,n,r=At.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class iE{constructor(){this.ve=0,this.Fe=oE(),this.Me=At.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),r=xe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie(38017,{changeType:i})}}),new Yc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=oE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=$u(),this.He=$u(),this.Ye=new Qe(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Cg(i))if(r===0){const o=new Z(i.path);this.et(n,o,Ot.newNoDocument(o,le.min()))}else Ne(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ei(r).toUint8Array()}catch(c){if(c instanceof lC)return Aa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kv(o,s,i)}catch(c){return Aa(c instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Cg(a.target)){const c=new Z(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ot.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=xe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new uf(e,n,this.Ye,this.je,r);return this.je=Xr(),this.Je=$u(),this.He=$u(),this.Ye=new Qe(ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new mt(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new mt(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $u(){return new Qe(Z.comparator)}function oE(){return new Qe(Z.comparator)}const u6={asc:"ASCENDING",desc:"DESCENDING"},d6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h6={and:"AND",or:"OR"};class f6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ng(t,e){return t.useProto3Json||rf(e)?e:{value:e}}function mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p6(t,e){return mh(t,e.toTimestamp())}function vr(t){return Ne(!!t,49232),le.fromTimestamp(function(n){const r=Zs(n);return new Ue(r.seconds,r.nanos)}(t))}function Dv(t,e){return Rg(t,e).canonicalString()}function Rg(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UC(t){const e=De.fromString(t);return Ne(HC(e),10190,{key:e.toString()}),e}function Pg(t,e){return Dv(t.databaseId,e.path)}function Vp(t,e){const n=UC(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(zC(n))}function $C(t,e){return Dv(t.databaseId,e)}function m6(t){const e=UC(t);return e.length===4?De.emptyPath():zC(e)}function jg(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zC(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aE(t,e,n){return{name:Pg(t,e),fields:n.value.mapValue.fields}}function g6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),At.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),At.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:MC(d.code);return new q(h,d.message||"")}(o);n=new VC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vp(t,r.document.name),i=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):le.min(),a=new rn({mapValue:{fields:r.document.fields}}),c=Ot.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new wd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vp(t,r.document),i=r.readTime?vr(r.readTime):le.min(),o=Ot.newNoDocument(s,i),a=r.removedTargetIds||[];n=new wd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vp(t,r.document),i=r.removedTargetIds||[];n=new wd([],i,s,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new i6(s,i),a=r.targetId;n=new LC(a,o)}}return n}function y6(t,e){let n;if(e instanceof Qc)n={update:aE(t,e.key,e.value)};else if(e instanceof Pv)n={delete:Pg(t,e.key)};else if(e instanceof ui)n={update:aE(t,e.key,e.data),updateMask:b6(e.fieldMask)};else{if(!(e instanceof n6))return ie(16599,{Vt:e.type});n={verify:Pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof fh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ph)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:p6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie(27497)}(t,e.precondition)),n}function v6(t,e){return t&&t.length>0?(Ne(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?vr(s.updateTime):vr(i);return o.isEqual(le.min())&&(o=vr(i)),new Z3(o,s.transformResults||[])}(n,e))):[]}function x6(t,e){return{documents:[$C(t,e.path)]}}function w6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$C(t,s);const i=function(d){if(d.length!==0)return WC(Yn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:wo(p.field),direction:T6(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ng(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function _6(t){let e=m6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=BC(f);return p instanceof Yn&&xC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(b){return new Ic(_o(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,rf(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new dh(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new dh(v,p)}(n.endAt)),U3(e,s,o,i,a,"F",c,d)}function E6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_o(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_o(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_o(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return ot.create(_o(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>BC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function T6(t){return u6[t]}function S6(t){return d6[t]}function I6(t){return h6[t]}function wo(t){return{fieldPath:t.canonicalString()}}function _o(t){return St.fromServerFormat(t.fieldPath)}function WC(t){return t instanceof ot?function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(G0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(G0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:S6(n.op),value:n.value}}}(t):t instanceof Yn?function(n){const r=n.getFilters().map(s=>WC(s));return r.length===1?r[0]:{compositeFilter:{op:I6(n.op),filters:r}}}(t):ie(54877,{filter:t})}function b6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,s,i=le.min(),o=le.min(),a=At.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.yt=e}}function A6(t){const e=_6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Cn=new R6}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Js.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class R6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(De.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qC=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(qC,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ja(0)}static cr(){return new ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",P6=1048576;function uE([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class j6{constructor(e){this.Ir=e,this.buffer=new mt(uE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(cE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qa(n)?K(cE,"Ignoring IndexedDB error during garbage collection: ",n):await Ka(n)}await this.Vr(3e5)})}}class D6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(nf.ce);const r=new j6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(lE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),vo()<=ye.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function O6(t,e){return new D6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.changes=new io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Jl(r.mutation,s,mn.empty(),Ue.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=kl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Xr();const o=Xl(),a=function(){return Xl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ui)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Jl(h.mutation,d,h.mutation.getFieldMask(),Ue.now())):o.set(d.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new L6(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Xl();let s=new Qe((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||mn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||xe()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=AC();h.forEach(p=>{if(!i.has(p)){const v=DC(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Ci());let a=_c,c=i;return o.next(d=>$.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,xe())).next(h=>({batchId:a,changes:CC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=kl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=kl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,c=>{const d=function(f,p){return new Ya(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ot.newInvalidDocument(h)))});let a=kl();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Jl(h.mutation,d,mn.empty(),Ue.now()),af(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:A6(s.bundledQuery),readTime:vr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.overlays=new Qe(Z.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Ci(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ci(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ci(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s6(n,r));let i=this.qr.get(n);i===void 0&&(i=xe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Qr=new mt(vt.$r),this.Ur=new mt(vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new vt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new De([])),r=new vt(n,e),s=new vt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new De([])),r=new vt(n,e),s=new vt(n,e+1);let i=xe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new vt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mt(vt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new r6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new vt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Sv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),s=new vt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ve);return n.forEach(s=>{const i=new vt(s,0),o=new vt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new vt(new Z(i),0);let a=new mt(ve);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new vt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new vt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.ri=e,this.docs=function(){return new Qe(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ot.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Xr();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||x3(v3(h),r)<=0||(s.has(h.key)||af(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ie(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W6(this)}getSize(e){return $.resolve(this.size)}}class W6 extends M6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.persistence=e,this.si=new io(n=>Cv(n),Av),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new Ov,this.targetCount=0,this.ai=ja.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.ui={},this.overlays={},this.ci=new nf(0),this.li=!1,this.li=!0,this.hi=new $6,this.referenceDelegate=e(this),this.Pi=new H6(this),this.indexManager=new N6,this.remoteDocumentCache=function(s){return new B6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new C6(n),this.Ii=new F6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new z6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new q6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class q6 extends _3{constructor(e){super(),this.currentSequenceNumber=e}}class Mv{constructor(e){this.persistence=e,this.Ri=new Ov,this.Vi=null}static mi(e){return new Mv(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=Z.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.pi=new io(r=>S3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=O6(this,n)}static mi(e,n){return new gh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return VL()?8:E3(Lt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new G6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(vo()<=ye.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(vo()<=ye.DEBUG&&K("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(vo()<=ye.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):$.resolve())}ys(e,n){if(J0(n))return $.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hh(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,hh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return J0(n)||s.isEqual(le.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(vo()<=ye.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xo(n)),this.vs(e,o,n,y3(s,_c)).next(a=>a))})}Ds(e,n){let r=new mt(IC(e));return n.forEach((s,i)=>{af(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return vo()<=ye.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Js.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LocalStore",Q6=3e8;class Y6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Qe(ve),this.xs=new io(i=>Cv(i),Av),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function X6(t,e,n,r){return new Y6(t,e,n,r)}async function KC(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=xe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function J6(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let v=$.resolve();return p.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(x=>{const S=d.docVersions.get(b);Ne(S!==null,48541),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=xe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function QC(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Z6(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(At.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(x,S,E){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Q6?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,h)&&a.push(n.Pi.updateTargetData(i,v))});let c=Xr(),d=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(eU(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(le.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function eU(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Xr();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):K(Vv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function tU(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nU(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function kg(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Qa(o))throw o;K(Vv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function dE(t,e,n){const r=de(t);let s=le.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=de(c),p=f.xs.get(h);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,yr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:xe())).next(a=>(rU(r,z3(e),a),{documents:a,Qs:i})))}function rU(t,e,n){let r=t.Os.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class hE{constructor(){this.activeTargetIds=K3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sU{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class pE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(fE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function Dg(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="RestConnection",oU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ch?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Dg(),a=this.zo(e,n.toUriEncodedString());K(Fp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=Wa(d);return this.Jo(e,a,c,r,h).then(f=>(K(Fp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Aa(Fp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=oU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class cU extends aU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Dg();return new Promise((a,c)=>{const d=new Xb;d.setWithCredentials(!0),d.listenOnce(Jb.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case gd.NO_ERROR:const f=d.getResponseJson();K(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case gd.TIMEOUT:K(Pt,`RPC '${e}' ${o} timed out`),c(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const p=d.getStatus();if(K(Pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const x=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(b.status);c(new q(x,b.message))}else c(new q(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new q(U.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{K(Pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);K(Pt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Dg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tC(),a=eC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");K(Pt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,v=!1;const b=new lU({Yo:S=>{v?K(Pt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(K(Pt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),K(Pt,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},Zo:()=>f.close()}),x=(S,E,w)=>{S.listen(E,I=>{try{w(I)}catch(j){setTimeout(()=>{throw j},0)}})};return x(f,jl.EventType.OPEN,()=>{v||(K(Pt,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),x(f,jl.EventType.CLOSE,()=>{v||(v=!0,K(Pt,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(f))}),x(f,jl.EventType.ERROR,S=>{v||(v=!0,Aa(Pt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new q(U.UNAVAILABLE,"The operation could not be completed")))}),x(f,jl.EventType.MESSAGE,S=>{var E;if(!v){const w=S.data[0];Ne(!!w,16349);const I=w,j=(I==null?void 0:I.error)||((E=I[0])==null?void 0:E.error);if(j){K(Pt,`RPC '${e}' stream ${s} received error:`,j);const D=j.status;let M=function(C){const N=st[C];if(N!==void 0)return MC(N)}(D),_=j.message;M===void 0&&(M=U.INTERNAL,_="Unknown error status: "+D+" with message "+j.message),v=!0,b.a_(new q(M,_)),f.close()}else K(Pt,`RPC '${e}' stream ${s} received:`,w),b.u_(w)}}),x(a,Zb.STAT_EVENT,S=>{S.stat===Eg.PROXY?K(Pt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Eg.NOPROXY&&K(Pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return new f6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class XC{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uU extends XC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=g6(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?vr(o.readTime):le.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jg(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Cg(c)?{documents:x6(i,c)}:{query:w6(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FC(i,o.resumeToken);const d=Ng(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=mh(i,o.snapshotVersion.toTimestamp());const d=Ng(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=E6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jg(this.serializer),n.removeTarget=e,this.q_(n)}}class dU extends XC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=v6(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>y6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{}class fU extends hU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Rg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Rg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class pU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class mU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{oo(this)&&(K(Xi,"Restarting streams for network reachability change."),await async function(c){const d=de(c);d.Ea.add(4),await Xc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await hf(d)}(this))})}),this.Ra=new pU(r,s)}}async function hf(t){if(oo(t))for(const e of t.da)await e(!0)}async function Xc(t){for(const e of t.da)await e(!1)}function JC(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zv(n)?$v(n):Xa(n).O_()&&Uv(n,e))}function Fv(t,e){const n=de(t),r=Xa(n);n.Ia.delete(e),r.O_()&&ZC(n,e),n.Ia.size===0&&(r.O_()?r.L_():oo(n)&&n.Ra.set("Unknown"))}function Uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).Y_(e)}function ZC(t,e){t.Va.Ue(e),Xa(t).Z_(e)}function $v(t){t.Va=new c6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.Ra.ua()}function zv(t){return oo(t)&&!Xa(t).x_()&&t.Ia.size>0}function oo(t){return de(t).Ea.size===0}function eA(t){t.Va=void 0}async function gU(t){t.Ra.set("Online")}async function yU(t){t.Ia.forEach((e,n)=>{Uv(t,e)})}async function vU(t,e){eA(t),zv(t)?(t.Ra.ha(e),$v(t)):t.Ra.set("Unknown")}async function xU(t,e,n){if(t.Ra.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){K(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yh(t,r)}else if(e instanceof wd?t.Va.Ze(e):e instanceof LC?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await QC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),ZC(i,c);const f=new js(h.target,c,d,h.sequenceNumber);Uv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(Xi,"Failed to raise snapshot:",r),await yh(t,r)}}async function yh(t,e,n){if(!Qa(e))throw e;t.Ea.add(1),await Xc(t),t.Ra.set("Offline"),n||(n=()=>QC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Xi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hf(t)})}function tA(t,e){return e().catch(n=>yh(t,n,e))}async function ff(t){const e=de(t),n=ni(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sv;for(;wU(e);)try{const s=await tU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,_U(e,s)}catch(s){await yh(e,s)}nA(e)&&rA(e)}function wU(t){return oo(t)&&t.Ta.length<10}function _U(t,e){t.Ta.push(e);const n=ni(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nA(t){return oo(t)&&!ni(t).x_()&&t.Ta.length>0}function rA(t){ni(t).start()}async function EU(t){ni(t).ra()}async function TU(t){const e=ni(t);for(const n of t.Ta)e.ea(n.mutations)}async function SU(t,e,n){const r=t.Ta.shift(),s=jv.from(r,e,n);await tA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ff(t)}async function IU(t,e){e&&ni(t).X_&&await async function(r,s){if(function(o){return o6(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();ni(r).B_(),await tA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ff(r)}}(t,e),nA(t)&&rA(t)}async function gE(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),K(Xi,"RemoteStore received new credentials");const r=oo(n);n.Ea.add(3),await Xc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function bU(t,e){const n=de(t);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await Xc(n),n.Ra.set("Unknown"))}function Xa(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new uU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:gU.bind(null,t),t_:yU.bind(null,t),r_:vU.bind(null,t),H_:xU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),zv(t)?$v(t):t.Ra.set("Unknown")):(await t.ma.stop(),eA(t))})),t.ma}function ni(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new dU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:EU.bind(null,t),r_:IU.bind(null,t),ta:TU.bind(null,t),na:SU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ff(t)):(await t.fa.stop(),t.Ta.length>0&&(K(Xi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Bv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wv(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Qa(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.ga=new Qe(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ka{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ka(e,n,Go.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AU{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=vE(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function vE(){return new io(t=>SC(t),of)}async function sA(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new CU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Wv(o,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Hv(n)}async function iA(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NU(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Hv(n)}function RU(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Hv(t){t.Ca.forEach(e=>{e.next()})}var Og,xE;(xE=Og||(Og={})).Ma="default",xE.Cache="cache";class oA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class PU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=IC(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=af(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;p&&v?p.data.isEqual(v.data)?b!==x&&(r.track({type:3,doc:v}),S=!0):this.su(p,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),S=!0):p&&!v&&(r.track({type:1,doc:p}),S=!0,(c||d)&&(a=!0)),S&&(v?(o=o.add(v),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,b){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:S})}};return x(v)-x(b)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new ka(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new lA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new aA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qv="SyncEngine";class jU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kU{constructor(e){this.key=e,this.hu=!1}}class DU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new io(a=>SC(a),of),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(Z.comparator),this.Au=new Map,this.Ru=new Ov,this.Vu={},this.mu=new Map,this.fu=ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OU(t,e,n=!0){const r=pA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await cA(r,e,n,!0),s}async function MU(t,e){const n=pA(t);await cA(n,e,!0,!1)}async function cA(t,e,n,r){const s=await nU(t.localStore,yr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await LU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&JC(t.remoteStore,s),a}async function LU(t,e,n,r,s){t.pu=(f,p,v)=>async function(x,S,E,w){let I=S.view.ru(E);I.Cs&&(I=await dE(x.localStore,S.query,!1).then(({documents:_})=>S.view.ru(_,I)));const j=w&&w.targetChanges.get(S.targetId),D=w&&w.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(I,x.isPrimaryClient,j,D);return _E(x,S.targetId,M.au),M.snapshot}(t,f,p,v);const i=await dE(t.localStore,e,!0),o=new PU(e,i.Qs),a=o.ru(i.documents),c=Yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);_E(t,n,d.au);const h=new jU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function VU(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!of(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await kg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Fv(r.remoteStore,s.targetId),Mg(r,s.targetId)}).catch(Ka)):(Mg(r,s.targetId),await kg(r.localStore,s.targetId,!0))}async function FU(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fv(n.remoteStore,r.targetId))}async function UU(t,e,n){const r=GU(t);try{const s=await function(o,a){const c=de(o),d=Ue.now(),h=a.reduce((v,b)=>v.add(b.key),xe());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Xr(),x=xe();return c.Ns.getEntries(v,h).next(S=>{b=S,b.forEach((E,w)=>{w.isValidDocument()||(x=x.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(S=>{f=S;const E=[];for(const w of a){const I=t6(w,f.get(w.key).overlayedDocument);I!=null&&E.push(new ui(w.key,I,gC(I.value.mapValue),An.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,E,a)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(v,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:CC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new Qe(ve)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Jc(r,s.changes),await ff(r.remoteStore)}catch(s){const i=Wv(s,"Failed to persist write");n.reject(i)}}async function uA(t,e){const n=de(t);try{const r=await Z6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ne(o.hu,14607):s.removedDocuments.size>0&&(Ne(o.hu,42227),o.hu=!1))}),await Jc(n,r,e)}catch(r){await Ka(r)}}function wE(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=de(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(d=!0)}),d&&Hv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $U(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(Z.comparator);o=o.insert(i,Ot.newNoDocument(i,le.min()));const a=xe().add(i),c=new uf(le.min(),new Map,new Qe(ve),o,a);await uA(r,c),r.du=r.du.remove(i),r.Au.delete(e),Gv(r)}else await kg(r.localStore,e,!1).then(()=>Mg(r,e,n)).catch(Ka)}async function zU(t,e){const n=de(t),r=e.batch.batchId;try{const s=await J6(n.localStore,e);hA(n,r,null),dA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jc(n,s)}catch(s){await Ka(s)}}async function BU(t,e,n){const r=de(t);try{const s=await function(o,a){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ne(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);hA(r,e,n),dA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jc(r,s)}catch(s){await Ka(s)}}function dA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function hA(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||fA(t,r)})}function fA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Fv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gv(t))}function _E(t,e,n){for(const r of n)r instanceof aA?(t.Ru.addReference(r.key,e),WU(t,r)):r instanceof lA?(K(qv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fA(t,r.key)):ie(19791,{wu:r})}function WU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(qv,"New document in limbo: "+n),t.Eu.add(r),Gv(t))}function Gv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(De.fromString(e)),r=t.fu.next();t.Au.set(r,new kU(n)),t.du=t.du.insert(n,r),JC(t.remoteStore,new js(yr(Nv(n.path)),r,"TargetPurposeLimboResolution",nf.ce))}}async function Jc(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Lv.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=de(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,p=>$.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>$.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Qa(f))throw f;K(Vv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),b=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(p,x)}}}(r.localStore,i))}async function HU(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){K(qv,"User change. New user:",e.toKey());const r=await KC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new q(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jc(n,r.Ls)}}function qU(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let s=xe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function pA(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$U.bind(null,e),e.Pu.H_=NU.bind(null,e.eventManager),e.Pu.yu=RU.bind(null,e.eventManager),e}function GU(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BU.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return X6(this.persistence,new K6,e.initialUser,this.serializer)}Cu(e){return new GC(Mv.mi,this.serializer)}Du(e){return new sU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class KU extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ne(this.persistence.referenceDelegate instanceof gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new GC(r=>gh.mi(r,n),this.serializer)}}class Lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HU.bind(null,this.syncEngine),await bU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AU}()}createDatastore(e){const n=df(e.databaseInfo.databaseId),r=function(i){return new cU(i)}(e.databaseInfo);return function(i,o,a,c){return new fU(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new mU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wE(this.syncEngine,n,0),function(){return pE.v()?new pE:new iU}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new DU(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);K(Xi,"RemoteStore shutting down."),i.Ea.add(5),await Xc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="FirestoreClient";class QU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=Tv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(ri,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(ri,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $p(t,e){t.asyncQueue.verifyOperationInProgress(),K(ri,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await KC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YU(t);K(ri,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>gE(e.remoteStore,s)),t._onlineComponents=e}async function YU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(ri,"Using user provided OfflineComponentProvider");try{await $p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await $p(t,new vh)}}else K(ri,"Using default OfflineComponentProvider"),await $p(t,new KU(void 0));return t._offlineComponents}async function gA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(ri,"Using user provided OnlineComponentProvider"),await EE(t,t._uninitializedComponentsProvider._online)):(K(ri,"Using default OnlineComponentProvider"),await EE(t,new Lg))),t._onlineComponents}function XU(t){return gA(t).then(e=>e.syncEngine)}async function yA(t){const e=await gA(t),n=e.eventManager;return n.onListen=OU.bind(null,e.syncEngine),n.onUnlisten=VU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FU.bind(null,e.syncEngine),n}function JU(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new mA({next:p=>{h.Nu(),o.enqueueAndForget(()=>iA(i,f));const v=p.docs.has(a);!v&&p.fromCache?d.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new oA(Nv(a.path),h,{includeMetadataChanges:!0,qa:!0});return sA(i,f)}(await yA(t),t.asyncQueue,e,n,r)),r.promise}function ZU(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new mA({next:p=>{h.Nu(),o.enqueueAndForget(()=>iA(i,f)),p.fromCache&&c.source==="server"?d.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new oA(a,h,{includeMetadataChanges:!0,qa:!0});return sA(i,f)}(await yA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firestore.googleapis.com",SE=!0;class IE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P6)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new i3;switch(r.type){case"firstParty":return new c3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=TE.get(n);r&&(K("ComponentProvider","Removing Datastore"),TE.delete(n),r.terminate())}(this),Promise.resolve()}}function e5(t,e,n,r={}){var d;t=Qn(t,pf);const s=Wa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(hb(`https://${a}`),fb("Firestore",!0)),i.host!==xA&&i.host!==a&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Gi(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=kt.MOCK_USER;else{h=NL(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new kt(p)}t._authCredentials=new o3(new rC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new di(this.firestore,e,this._query)}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kc(n,rt._jsonSchema))return new rt(e,r||null,new Z(De.fromString(n.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:at("string",rt._jsonSchemaVersion),referencePath:at("string")};class qs extends di{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new Z(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function Nr(t,e,...n){if(t=Ct(t),sC("collection","path",e),t instanceof pf){const r=De.fromString(e,...n);return V0(r),new qs(t,null,r)}{if(!(t instanceof rt||t instanceof qs))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return V0(r),new qs(t.firestore,null,r)}}function Ko(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Tv.newId()),sC("doc","path",e),t instanceof pf){const r=De.fromString(e,...n);return L0(r),new rt(t,null,new Z(r))}{if(!(t instanceof rt||t instanceof qs))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return L0(r),new rt(t.firestore,t instanceof qs?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class CE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YC(this,"async_queue_retry"),this._c=()=>{const r=Up();r&&K(bE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ur;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qa(e))throw e;K(bE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",AE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Bv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ie(47125,{Pc:AE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ao extends pf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new CE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function t5(t,e){const n=typeof t=="object"?t:yb(),r=typeof t=="string"?t:ch,s=dv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=CL("firestore");i&&e5(s,...i)}return s}function Kv(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n5(t),t._firestoreClient}function n5(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new C3(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new QU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(At.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new In(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kc(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:at("string",In._jsonSchemaVersion),bytes:at("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(Kc(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:at("string",xr._jsonSchemaVersion),latitude:at("number"),longitude:at("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kc(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wr(e.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:at("string",wr._jsonSchemaVersion),vectorValues:at("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=/^__.*__$/;class s5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qc(e,this.data,n,this.fieldTransforms)}}class wA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _A(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class Yv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_A(this.Ac)&&r5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class i5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||df(e)}Cc(e,n,r,s=!1){return new Yv({Ac:e,methodName:n,Dc:r,path:St.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(t){const e=t._freezeSettings(),n=df(t._databaseId);return new i5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EA(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Xv("Data must be an object, but it was:",o,r);const a=TA(r,o);let c,d;if(i.merge)c=new mn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Vg(e,f,n);if(!o.contains(p))throw new q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);IA(h,p)||h.push(p)}c=new mn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new s5(new rn(a),c,d)}class yf extends Qv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function o5(t,e,n,r){const s=t.Cc(1,e,n);Xv("Data must be an object, but it was:",s,r);const i=[],o=rn.empty();ci(r,(c,d)=>{const h=Jv(e,c,n);d=Ct(d);const f=s.yc(h);if(d instanceof yf)i.push(h);else{const p=Zc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new mn(i);return new wA(o,a,s.fieldTransforms)}function a5(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Vg(e,r,n)],c=[s];if(i.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Vg(e,i[p])),c.push(i[p+1]);const d=[],h=rn.empty();for(let p=a.length-1;p>=0;--p)if(!IA(d,a[p])){const v=a[p];let b=c[p];b=Ct(b);const x=o.yc(v);if(b instanceof yf)d.push(v);else{const S=Zc(b,x);S!=null&&(d.push(v),h.set(v,S))}}const f=new mn(d);return new wA(h,f,o.fieldTransforms)}function l5(t,e,n,r=!1){return Zc(n,t.Cc(r?4:3,e))}function Zc(t,e){if(SA(t=Ct(t)))return Xv("Unsupported field value:",e,t),TA(t,e);if(t instanceof Qv)return function(r,s){if(!_A(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Zc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ue.fromDate(r);return{timestampValue:mh(s.serializer,i)}}if(r instanceof Ue){const i=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(s.serializer,i)}}if(r instanceof xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof In)return{bytesValue:FC(s.serializer,r._byteString)};if(r instanceof rt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Dv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wr)return function(o,a){return{mapValue:{fields:{[fC]:{stringValue:mC},[uh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Rv(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${tf(r)}`)}(t,e)}function TA(t,e){const n={};return aC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(t,(r,s)=>{const i=Zc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function SA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof xr||t instanceof In||t instanceof rt||t instanceof Qv||t instanceof wr)}function Xv(t,e,n){if(!SA(n)||!iC(n)){const r=tf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vg(t,e,n){if((e=Ct(e))instanceof mf)return e._internalPath;if(typeof e=="string")return Jv(t,e);throw xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const c5=new RegExp("[~\\*/\\[\\]]");function Jv(t,e,n){if(e.search(c5)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mf(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new q(U.INVALID_ARGUMENT,a+t+c)}function IA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u5 extends bA{data(){return super.data()}}function vf(t,e){return typeof e=="string"?Jv(t,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zv{}class ex extends Zv{}function Il(t,e,...n){let r=[];e instanceof Zv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof tx).length,a=i.filter(c=>c instanceof xf).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xf extends ex{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xf(e,n,r)}_apply(e){const n=this._parse(e);return CA(e._query,n),new di(e.firestore,e.converter,Ag(e._query,n))}_parse(e){const n=gf(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){RE(f,h);const b=[];for(const x of f)b.push(NE(c,i,x));p={arrayValue:{values:b}}}else p=NE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||RE(f,h),p=l5(a,o,f,h==="in"||h==="not-in");return ot.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bu(t,e,n){const r=e,s=vf("where",t);return xf._create(s,r,n)}class tx extends Zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)CA(o,c),o=Ag(o,c)}(e._query,n),new di(e.firestore,e.converter,Ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nx extends ex{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nx(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(i,o)}(e._query,this._field,this._direction);return new di(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ya(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function bl(t,e="asc"){const n=e,r=vf("orderBy",t);return nx._create(r,n)}class rx extends ex{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rx(e,n,r)}_apply(e){return new di(e.firestore,e.converter,hh(e._query,this._limit,this._limitType))}}function zp(t){return g3("limit",t),rx._create("limit",t,"F")}function NE(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TC(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!Z.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q0(t,new Z(r))}if(n instanceof rt)return q0(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function RE(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h5{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ci(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[uh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>tt(o.doubleValue));return new wr(n)}convertGeoPoint(e){return new xr(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Ne(HC(r),9688,{name:e});const s=new Tc(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||Yr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vi extends bA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vi._jsonSchema={type:at("string",Vi._jsonSchemaVersion),bundleSource:at("string","DocumentSnapshot"),bundleName:at("string"),bundle:at("string")};class _d extends Vi{data(e={}){return super.data(e)}}class Qo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ol(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _d(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new _d(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ol(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new _d(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ol(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:f5(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){t=Qn(t,rt);const e=Qn(t.firestore,ao);return JU(Kv(e),t._key).then(n=>y5(e,t,n))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:at("string",Qo._jsonSchemaVersion),bundleSource:at("string","QuerySnapshot"),bundleName:at("string"),bundle:at("string")};class NA extends h5{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function Wu(t){t=Qn(t,di);const e=Qn(t.firestore,ao),n=Kv(e),r=new NA(e);return d5(t._query),ZU(n,t._query).then(s=>new Qo(e,r,t,s))}function m5(t,e,n){t=Qn(t,rt);const r=Qn(t.firestore,ao),s=AA(t.converter,e,n);return wf(r,[EA(gf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,An.none())])}function RA(t,e,n,...r){t=Qn(t,rt);const s=Qn(t.firestore,ao),i=gf(s);let o;return o=typeof(e=Ct(e))=="string"||e instanceof mf?a5(i,"updateDoc",t._key,e,n,r):o5(i,"updateDoc",t._key,e),wf(s,[o.toMutation(t._key,An.exists(!0))])}function g5(t){return wf(Qn(t.firestore,ao),[new Pv(t._key,An.none())])}function Hu(t,e){const n=Qn(t.firestore,ao),r=Ko(t),s=AA(t.converter,e);return wf(n,[EA(gf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function wf(t,e){return function(r,s){const i=new Ur;return r.asyncQueue.enqueueAndForget(async()=>UU(await XU(r),s,i)),i.promise}(Kv(t),e)}function y5(t,e,n){const r=n.docs.get(e._key),s=new NA(t);return new Vi(t,s,e._key,r,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ga=s})(Ha),ba(new Ki("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ao(new a3(r.getProvider("auth-internal")),new u3(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ws(k0,D0,e),Ws(k0,D0,"esm2020")})();const v5={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},PA=gb(v5),Bp=r3(PA),Xt=t5(PA),sx=new Dr;sx.addScope("email");sx.addScope("profile");class Wp{static async signInWithGoogle(){try{const n=(await hF(Bp,sx)).user;return await this.saveUserToFirestore(n),n}catch(e){throw console.error("Google sign-in error:",e),e}}static async signOut(){try{await q4(Bp)}catch(e){throw console.error("Sign-out error:",e),e}}static onAuthStateChanged(e){return H4(Bp,e)}static async saveUserToFirestore(e){try{const n=Ko(Xt,"users",e.uid),r={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:new Date,lastLoginAt:new Date,preferences:{theme:"light",notifications:!0,language:"en"}};await m5(n,r,{merge:!0})}catch(n){throw console.error("Error saving user to Firestore:",n),n}}static async getUserData(e){try{const n=Ko(Xt,"users",e),r=await p5(n);if(r.exists())return r.data();throw new Error("User data not found")}catch(n){throw console.error("Error getting user data:",n),n}}static async updateUserData(e,n){try{const r=Ko(Xt,"users",e);await RA(r,{...n,updatedAt:new Date})}catch(r){throw console.error("Error updating user data:",r),r}}}class x5{static async createPost(e,n){try{return(await Hu(Nr(Xt,"posts"),{...n,userId:e,createdAt:new Date,updatedAt:new Date})).id}catch(r){throw console.error("Error creating post:",r),r}}static async getPosts(e,n=10){try{let r=Il(Nr(Xt,"posts"),bl("createdAt","desc"),zp(n));return e&&(r=Il(Nr(Xt,"posts"),Bu("userId","==",e),bl("createdAt","desc"),zp(n))),(await Wu(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(r){throw console.error("Error getting posts:",r),r}}static async updatePost(e,n){try{const r=Ko(Xt,"posts",e);await RA(r,{...n,updatedAt:new Date})}catch(r){throw console.error("Error updating post:",r),r}}static async deletePost(e){try{const n=Ko(Xt,"posts",e);await g5(n)}catch(n){throw console.error("Error deleting post:",n),n}}static async createWorkflow(e,n){try{return(await Hu(Nr(Xt,"workflows"),{...n,userId:e,createdAt:new Date,updatedAt:new Date})).id}catch(r){throw console.error("Error creating workflow:",r),r}}static async getWorkflows(e){try{const n=Il(Nr(Xt,"workflows"),Bu("userId","==",e),bl("createdAt","desc"));return(await Wu(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error getting workflows:",n),n}}static async createAgent(e,n){try{return(await Hu(Nr(Xt,"agents"),{...n,userId:e,createdAt:new Date,updatedAt:new Date})).id}catch(r){throw console.error("Error creating agent:",r),r}}static async getAgents(e){try{const n=Il(Nr(Xt,"agents"),Bu("userId","==",e),bl("createdAt","desc"));return(await Wu(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error getting agents:",n),n}}static async createChatMessage(e,n){try{return(await Hu(Nr(Xt,"chatMessages"),{...n,userId:e,createdAt:new Date})).id}catch(r){throw console.error("Error creating chat message:",r),r}}static async getChatMessages(e,n=50){try{const r=Il(Nr(Xt,"chatMessages"),Bu("userId","==",e),bl("createdAt","desc"),zp(n));return(await Wu(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(r){throw console.error("Error getting chat messages:",r),r}}}const jA=g.createContext(void 0);function w5({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(!0);g.useEffect(()=>Wp.onAuthStateChanged(d=>{n(d),s(!1)}),[]);const a={user:e,loading:r,signInWithGoogle:async()=>{try{s(!0),await Wp.signInWithGoogle()}catch(c){throw console.error("Sign-in error:",c),c}finally{s(!1)}},signOut:async()=>{try{s(!0),await Wp.signOut()}catch(c){throw console.error("Sign-out error:",c),c}finally{s(!1)}},isAuthenticated:!!e};return l.jsx(jA.Provider,{value:a,children:t})}function eu(){const t=g.useContext(jA);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const me=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));me.displayName="Card";const Oe=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));Oe.displayName="CardHeader";const $e=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));$e.displayName="CardTitle";const _5=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));_5.displayName="CardDescription";const be=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));be.displayName="CardContent";const E5=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));E5.displayName="CardFooter";function T5(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4",children:l.jsx(me,{className:"w-full max-w-md",children:l.jsxs(be,{className:"p-8 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-accent rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx("i",{className:"fas fa-robot text-white text-2xl"})}),l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AuraOS"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-Powered Social Media Platform"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Loading your workspace..."}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),l.jsxs("div",{className:"text-left space-y-2 text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Initializing AI systems"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Loading social media integrations"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),l.jsx("span",{children:"Connecting to Firestore database"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-muted rounded-full"}),l.jsx("span",{children:"Preparing your dashboard"})]})]})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Powered by advanced AI"}),l.jsxs("div",{className:"flex justify-center gap-4 text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-brain text-primary"}),l.jsx("span",{children:"Smart Agents"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-share-alt text-accent"}),l.jsx("span",{children:"Auto Posting"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("i",{className:"fas fa-chart-line text-green-500"}),l.jsx("span",{children:"Analytics"})]})]})]})]})})})}const S5=Uc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?pD:"button";return l.jsx(o,{className:ce(S5({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";const I5=Uc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Bt=g.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ce(I5({variant:e}),t),...n}));Bt.displayName="Alert";const b5=g.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",t),...e}));b5.displayName="AlertTitle";const Wt=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",t),...e}));Wt.displayName="AlertDescription";var C5="Separator",PE="horizontal",A5=["horizontal","vertical"],kA=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=PE,...s}=t,i=N5(r)?r:PE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(se.div,{"data-orientation":i,...a,...s,ref:e})});kA.displayName=C5;function N5(t){return A5.includes(t)}var DA=kA;const er=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>l.jsx(DA,{ref:s,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));er.displayName=DA.displayName;function R5(){const{signInWithGoogle:t,loading:e}=eu(),[n,r]=g.useState(null),[s,i]=g.useState(!1),o=async()=>{try{r(null),i(!0),await t()}catch(a){r(a.message||"Failed to sign in with Google")}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-accent/10 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-primary to-accent rounded-3xl flex items-center justify-center mx-auto mb-6",children:l.jsx("i",{className:"fas fa-robot text-white text-3xl"})}),l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"AuraOS"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"AI-Powered Social Media Automation"})]}),l.jsxs(me,{className:"shadow-2xl border-0 bg-card/80 backdrop-blur-sm",children:[l.jsxs(Oe,{className:"text-center pb-4",children:[l.jsx($e,{className:"text-2xl font-semibold",children:"Welcome Back"}),l.jsx("p",{className:"text-muted-foreground",children:"Sign in to access your AI-powered social media dashboard"})]}),l.jsxs(be,{className:"space-y-6",children:[n&&l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:n})}),l.jsx(ee,{onClick:o,disabled:s||e,className:"w-full h-12 text-base font-medium bg-white hover:bg-gray-50 text-gray-900 border border-gray-300 shadow-sm",variant:"outline",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-900 mr-3"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),l.jsx(er,{className:"my-6",children:l.jsx("span",{className:"text-xs text-muted-foreground bg-card px-2",children:"or"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-medium text-foreground text-center",children:"What you'll get access to:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fas fa-robot text-primary"}),l.jsx("span",{children:"AI Agents"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fas fa-share-alt text-accent"}),l.jsx("span",{children:"Auto Posting"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fas fa-chart-line text-green-500"}),l.jsx("span",{children:"Analytics"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[l.jsx("i",{className:"fab fa-telegram text-blue-500"}),l.jsx("span",{children:"Telegram Bot"})]})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing in, you agree to our"," ",l.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})})]})]}),l.jsx("div",{className:"text-center mt-8",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"Powered by Firebase • Secure Authentication • Cloud Storage"})})]})})}function P5({children:t}){const{user:e,loading:n,isAuthenticated:r}=eu();return n?l.jsx(T5,{}):r?l.jsx(l.Fragment,{children:t}):l.jsx(R5,{})}var ix="Avatar",[j5,Uz]=Jn(ix),[k5,OA]=j5(ix),MA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return l.jsx(k5,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(se.span,{...r,ref:e})})});MA.displayName=ix;var LA="AvatarImage",VA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=OA(LA,n),a=D5(r,i),c=Ze(d=>{s(d),o.onImageLoadingStatusChange(d)});return lt(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(se.img,{...i,ref:e,src:r}):null});VA.displayName=LA;var FA="AvatarFallback",UA=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=OA(FA,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(se.span,{...s,ref:e}):null});UA.displayName=FA;function jE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function D5(t,{referrerPolicy:e,crossOrigin:n}){const r=M5(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=g.useState(()=>jE(i,t));return lt(()=>{a(jE(i,t))},[i,t]),lt(()=>{const c=f=>()=>{a(f)};if(!i)return;const d=c("loaded"),h=c("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,n,e]),o}function O5(){return()=>{}}function M5(){return g.useSyncExternalStore(O5,()=>!0,()=>!1)}var $A=MA,zA=VA,BA=UA;const Yo=g.forwardRef(({className:t,...e},n)=>l.jsx($A,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Yo.displayName=$A.displayName;const _f=g.forwardRef(({className:t,...e},n)=>l.jsx(zA,{ref:n,className:ce("aspect-square h-full w-full",t),...e}));_f.displayName=zA.displayName;const Xo=g.forwardRef(({className:t,...e},n)=>l.jsx(BA,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Xo.displayName=BA.displayName;const L5=[{name:"Dashboard",href:"/",icon:"fas fa-home"},{name:"Social Feed",href:"/social-feed",icon:"fas fa-users",hasNotification:!0},{name:"Workflows",href:"/workflows",icon:"fas fa-project-diagram"},{name:"AI Agents",href:"/ai-agents",icon:"fas fa-robot"},{name:"Smart Learning",href:"/smart-learning",icon:"fas fa-brain"},{name:"AI Tools",href:"/advanced-ai-tools",icon:"fas fa-tools"},{name:"Telegram",href:"/telegram",icon:"fab fa-telegram"},{name:"Analytics",href:"/analytics",icon:"fas fa-chart-bar"},{name:"Settings",href:"/settings",icon:"fas fa-cog"}];function lo(){var s,i,o;const[t]=T2(),{user:e,signOut:n}=eu();Gt({queryKey:["userData",e==null?void 0:e.uid],queryFn:()=>e!=null&&e.uid?x5.getUserData(e.uid):null,enabled:!!(e!=null&&e.uid)});const r=async()=>{try{await n()}catch(a){console.error("Sign out error:",a)}};return l.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col",children:[l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary to-accent rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-robot text-white text-sm"})}),l.jsx("span",{className:"font-bold text-xl text-foreground",children:"AIFlow"})]})}),l.jsx("nav",{className:"flex-1 px-4 pb-4",children:l.jsx("ul",{className:"space-y-2",children:L5.map(a=>{const c=t===a.href;return l.jsx("li",{children:l.jsx(b2,{href:a.href,children:l.jsxs("a",{className:ce("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors",c?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),"data-testid":`nav-${a.name.toLowerCase().replace(" ","-")}`,children:[l.jsx("i",{className:`${a.icon} w-5`}),l.jsx("span",{className:"font-medium",children:a.name}),a.hasNotification&&l.jsx("div",{className:"ml-auto w-2 h-2 bg-accent rounded-full animate-pulse","data-testid":"notification-dot"})]})})},a.name)})})}),l.jsx(er,{}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Yo,{className:"w-10 h-10",children:[l.jsx(_f,{src:(e==null?void 0:e.photoURL)||void 0,alt:(e==null?void 0:e.displayName)||"User"}),l.jsx(Xo,{children:((s=e==null?void 0:e.displayName)==null?void 0:s.split(" ").map(a=>a[0]).join(""))||((o=(i=e==null?void 0:e.email)==null?void 0:i[0])==null?void 0:o.toUpperCase())||"U"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-foreground truncate","data-testid":"text-user-name",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground truncate","data-testid":"text-user-email",children:(e==null?void 0:e.email)||"user@example.com"})]}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:r,"data-testid":"button-sign-out",title:"Sign Out",children:l.jsx("i",{className:"fas fa-sign-out-alt"})})]})})]})}function co({title:t,subtitle:e,actions:n}){return l.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-page-title",children:t}),e&&l.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-page-subtitle",children:e})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ee,{variant:"ghost",size:"sm",className:"relative","data-testid":"button-notifications",children:[l.jsx("i",{className:"fas fa-bell text-lg"}),l.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full"})]}),n]})]})})}function V5(){var r,s,i,o;const{data:t,isLoading:e}=Gt({queryKey:["/api/users/user-1/stats"]});if(e)return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((a,c)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-3",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),l.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})},c))});const n=[{title:"Total Posts",value:((r=t==null?void 0:t.totalPosts)==null?void 0:r.toLocaleString())||"0",change:"+12%",changeText:"from last month",icon:"fas fa-file-alt",iconBg:"bg-primary/10",iconColor:"text-primary",isPositive:!0,testId:"stat-total-posts"},{title:"Active Agents",value:((s=t==null?void 0:t.activeAgents)==null?void 0:s.toString())||"0",change:"+3",changeText:"new this week",icon:"fas fa-robot",iconBg:"bg-accent/10",iconColor:"text-accent",isPositive:!0,testId:"stat-active-agents"},{title:"Engagement Rate",value:`${((i=t==null?void 0:t.engagementRate)==null?void 0:i.toFixed(1))||"0.0"}%`,change:"+0.8%",changeText:"from last week",icon:"fas fa-heart",iconBg:"bg-green-500/10",iconColor:"text-green-500",isPositive:!0,testId:"stat-engagement-rate"},{title:"Automations Run",value:((o=t==null?void 0:t.automationsRun)==null?void 0:o.toLocaleString())||"0",change:"+24%",changeText:"efficiency gain",icon:"fas fa-bolt",iconBg:"bg-blue-500/10",iconColor:"text-blue-500",isPositive:!0,testId:"stat-automations-run"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(a=>l.jsx(me,{className:"p-6","data-testid":a.testId,children:l.jsxs(be,{className:"p-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:a.title}),l.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":`${a.testId}-value`,children:a.value})]}),l.jsx("div",{className:`w-12 h-12 ${a.iconBg} rounded-lg flex items-center justify-center`,children:l.jsx("i",{className:`${a.icon} ${a.iconColor} text-xl`})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-sm ${a.isPositive?"text-green-600":"text-red-600"}`,"data-testid":`${a.testId}-change`,children:a.change}),l.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`${a.testId}-change-text`,children:a.changeText})]})]})},a.testId))})}const F5=Uc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ht({className:t,variant:e,...n}){return l.jsx("div",{className:ce(F5({variant:e}),t),...n})}function WA({post:t}){const[e,n]=g.useState(!1),r=li(),s=nn({mutationFn:async()=>_a("POST",`/api/posts/${t.id}/like`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/posts"]}),n(!0)}}),i=o=>{const a=new Date,c=new Date(o),d=Math.floor((a.getTime()-c.getTime())/(1e3*60*60));return d<1?"Just now":d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`};return l.jsx(me,{className:"overflow-hidden transition-all duration-200 hover:shadow-md","data-testid":`post-card-${t.id}`,children:l.jsxs(be,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs(Yo,{className:"w-12 h-12",children:[l.jsx(_f,{src:t.author.identityIcon||void 0,alt:t.author.identityName}),l.jsx(Xo,{children:t.author.identityName.split(" ").map(o=>o[0]).join("")})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h3",{className:"font-semibold text-foreground","data-testid":`text-author-${t.id}`,children:t.author.identityName}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",t.author.username]}),l.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),l.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`text-timestamp-${t.id}`,children:i(t.createdAt||new Date)}),t.isAiGenerated&&l.jsxs(Ht,{variant:"secondary",className:"ml-auto bg-primary/10 text-primary","data-testid":`badge-ai-generated-${t.id}`,children:[l.jsx("i",{className:"fas fa-robot mr-1"}),"AI Enhanced"]})]}),l.jsx("p",{className:"text-foreground mb-4 whitespace-pre-wrap","data-testid":`text-content-${t.id}`,children:t.content}),t.imageUrl&&l.jsx("img",{src:t.imageUrl,alt:"Post content",className:"w-full h-48 object-cover rounded-lg mb-4","data-testid":`img-content-${t.id}`})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs(ee,{variant:"ghost",size:"sm",className:`flex items-center gap-2 transition-colors ${e?"text-red-500":"text-muted-foreground hover:text-red-500"}`,onClick:()=>s.mutate(),disabled:s.isPending,"data-testid":`button-like-${t.id}`,children:[l.jsx("i",{className:e?"fas fa-heart":"far fa-heart"}),l.jsx("span",{"data-testid":`text-likes-${t.id}`,children:e?t.likes+1:t.likes})]}),l.jsxs(ee,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors","data-testid":`button-comment-${t.id}`,children:[l.jsx("i",{className:"fas fa-comment"}),l.jsx("span",{"data-testid":`text-comments-${t.id}`,children:t.comments})]}),l.jsxs(ee,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-muted-foreground hover:text-green-500 transition-colors","data-testid":`button-share-${t.id}`,children:[l.jsx("i",{className:"fas fa-retweet"}),l.jsx("span",{"data-testid":`text-shares-${t.id}`,children:t.shares})]})]}),l.jsx(ee,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground","data-testid":`button-bookmark-${t.id}`,children:l.jsx("i",{className:"far fa-bookmark"})})]})]})})}function HA({template:t,showActions:e=!1}){const{toast:n}=Gy(),r=li(),s=nn({mutationFn:async()=>(await _a("POST",`/api/agent-templates/${t.id}/use`),_a("POST","/api/user-agents",{userId:"user-1",templateId:t.id,name:t.name,config:t.config,isActive:!0})),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/user-agents"]}),r.invalidateQueries({queryKey:["/api/agent-templates"]}),n({title:"Agent created!",description:`${t.name} has been added to your agents.`})},onError:()=>{n({title:"Error",description:"Failed to create agent. Please try again.",variant:"destructive"})}}),i=o=>{const a={Content:"from-blue-500 to-purple-500",Engagement:"from-green-500 to-teal-500",Analytics:"from-orange-500 to-red-500",default:"from-gray-500 to-gray-600"};return a[o]||a.default};return l.jsx(me,{className:"transition-all duration-200 hover:shadow-md cursor-pointer","data-testid":`agent-template-${t.id}`,children:l.jsx(be,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${i(t.category)} rounded-lg flex items-center justify-center flex-shrink-0`,children:l.jsx("i",{className:`${t.icon} text-white text-sm`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-foreground","data-testid":`text-name-${t.id}`,children:t.name}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3","data-testid":`text-description-${t.id}`,children:t.description}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.isPopular&&l.jsx(Ht,{variant:"default",className:"bg-primary/10 text-primary","data-testid":`badge-popular-${t.id}`,children:"Popular"}),l.jsx(Ht,{variant:"outline","data-testid":`badge-category-${t.id}`,children:t.category}),l.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`text-usage-${t.id}`,children:["Used ",t.usageCount.toLocaleString()," times"]})]}),e&&l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(ee,{size:"sm",onClick:()=>s.mutate(),disabled:s.isPending,"data-testid":`button-use-${t.id}`,children:[l.jsx("i",{className:`fas ${s.isPending?"fa-spinner fa-spin":"fa-plus"} mr-1`}),s.isPending?"Creating...":"Use Template"]}),l.jsxs(ee,{size:"sm",variant:"outline","data-testid":`button-preview-${t.id}`,children:[l.jsx("i",{className:"fas fa-eye mr-1"}),"Preview"]})]})]})]})})})}const si=g.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));si.displayName="Input";var U5=g.createContext(void 0);function Ef(t){const e=g.useContext(U5);return t||e||"ltr"}function Fg(t,[e,n]){return Math.min(n,Math.max(e,t))}function $5(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var ox="ScrollArea",[qA,$z]=Jn(ox),[z5,Pn]=qA(ox),GA=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,c]=g.useState(null),[d,h]=g.useState(null),[f,p]=g.useState(null),[v,b]=g.useState(null),[x,S]=g.useState(null),[E,w]=g.useState(0),[I,j]=g.useState(0),[D,M]=g.useState(!1),[_,T]=g.useState(!1),C=Te(e,P=>c(P)),N=Ef(s);return l.jsx(z5,{scope:n,type:r,dir:N,scrollHideDelay:i,scrollArea:a,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:D,onScrollbarXEnabledChange:M,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:_,onScrollbarYEnabledChange:T,onCornerWidthChange:w,onCornerHeightChange:j,children:l.jsx(se.div,{dir:N,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":I+"px",...t.style}})})});GA.displayName=ox;var KA="ScrollAreaViewport",QA=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Pn(KA,n),a=g.useRef(null),c=Te(e,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(se.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QA.displayName=KA;var Ir="ScrollAreaScrollbar",ax=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(Ir,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(B5,{...r,ref:e,forceMount:n}):s.type==="scroll"?l.jsx(W5,{...r,ref:e,forceMount:n}):s.type==="auto"?l.jsx(YA,{...r,ref:e,forceMount:n}):s.type==="always"?l.jsx(lx,{...r,ref:e}):null});ax.displayName=Ir;var B5=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(Ir,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Zn,{present:n||i,children:l.jsx(YA,{"data-state":i?"visible":"hidden",...r,ref:e})})}),W5=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Pn(Ir,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Sf(()=>c("SCROLL_END"),100),[a,c]=$5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,s.scrollHideDelay,c]),g.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const v=d[h];f!==v&&(c("SCROLL"),o()),f=v};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,i,c,o]),l.jsx(Zn,{present:n||a!=="hidden",children:l.jsx(lx,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:J(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),YA=g.forwardRef((t,e)=>{const n=Pn(Ir,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",c=Sf(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?d:h)}},10);return Da(n.viewport,c),Da(n.content,c),l.jsx(Zn,{present:r||i,children:l.jsx(lx,{"data-state":i?"visible":"hidden",...s,ref:e})})}),lx=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Pn(Ir,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=tN(a.viewport,a.content),h={...r,sizes:a,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,v){return Y5(p,o.current,a,v)}return n==="horizontal"?l.jsx(H5,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,v=kE(p,a,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?l.jsx(q5,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,v=kE(p,a);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),H5=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Pn(Ir,t.__scopeScrollArea),[o,a]=g.useState(),c=g.useRef(null),d=Te(e,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(JA,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),rN(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_h(o.paddingLeft),paddingEnd:_h(o.paddingRight)}})}})}),q5=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Pn(Ir,t.__scopeScrollArea),[o,a]=g.useState(),c=g.useRef(null),d=Te(e,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(JA,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),rN(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_h(o.paddingTop),paddingEnd:_h(o.paddingBottom)}})}})}),[G5,XA]=qA(Ir),JA=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,v=Pn(Ir,n),[b,x]=g.useState(null),S=Te(e,C=>x(C)),E=g.useRef(null),w=g.useRef(""),I=v.viewport,j=r.content-r.viewport,D=Ze(h),M=Ze(c),_=Sf(f,10);function T(C){if(E.current){const N=C.clientX-E.current.left,P=C.clientY-E.current.top;d({x:N,y:P})}}return g.useEffect(()=>{const C=N=>{const P=N.target;(b==null?void 0:b.contains(P))&&D(N,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[I,b,j,D]),g.useEffect(M,[r,M]),Da(b,_),Da(v.content,_),l.jsx(G5,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:Ze(i),onThumbPointerUp:Ze(o),onThumbPositionChange:M,onThumbPointerDown:Ze(a),children:l.jsx(se.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:J(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),E.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),T(C))}),onPointerMove:J(t.onPointerMove,T),onPointerUp:J(t.onPointerUp,C=>{const N=C.target;N.hasPointerCapture(C.pointerId)&&N.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=w.current,v.viewport&&(v.viewport.style.scrollBehavior=""),E.current=null})})})}),wh="ScrollAreaThumb",ZA=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=XA(wh,t.__scopeScrollArea);return l.jsx(Zn,{present:n||s.hasThumb,children:l.jsx(K5,{ref:e,...r})})}),K5=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Pn(wh,n),o=XA(wh,n),{onThumbPositionChange:a}=o,c=Te(e,f=>o.onThumbChange(f)),d=g.useRef(void 0),h=Sf(()=>{d.current&&(d.current(),d.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(h(),!d.current){const v=X5(f,a);d.current=v,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,h,a]),l.jsx(se.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(t.onPointerDownCapture,f=>{const v=f.target.getBoundingClientRect(),b=f.clientX-v.left,x=f.clientY-v.top;o.onThumbPointerDown({x:b,y:x})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});ZA.displayName=wh;var cx="ScrollAreaCorner",eN=g.forwardRef((t,e)=>{const n=Pn(cx,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(Q5,{...t,ref:e}):null});eN.displayName=cx;var Q5=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Pn(cx,n),[i,o]=g.useState(0),[a,c]=g.useState(0),d=!!(i&&a);return Da(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Da(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),d?l.jsx(se.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function _h(t){return t?parseInt(t,10):0}function tN(t,e){const n=t/e;return isNaN(n)?0:n}function Tf(t){const e=tN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Y5(t,e,n,r="ltr"){const s=Tf(n),i=s/2,o=e||i,a=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-a,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return nN([c,d],f)(t)}function kE(t,e,n="ltr"){const r=Tf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Fg(t,c);return nN([0,o],[0,a])(d)}function nN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function rN(t,e){return t>0&&t<e}var X5=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Sf(t,e){const n=Ze(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Da(t,e){const n=Ze(e);lt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var sN=GA,J5=QA,Z5=eN;const iN=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(sN,{ref:r,className:ce("relative overflow-hidden",t),...n,children:[l.jsx(J5,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(oN,{}),l.jsx(Z5,{})]}));iN.displayName=sN.displayName;const oN=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx(ax,{ref:r,orientation:e,className:ce("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(ZA,{className:"relative flex-1 rounded-full bg-border"})}));oN.displayName=ax.displayName;function e9(t,e){const n=g.useRef(null);return g.useEffect(()=>{const s=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${t}`,i=new WebSocket(s);return n.current=i,i.onopen=()=>{console.log("WebSocket connected")},i.onmessage=o=>{try{const a=JSON.parse(o.data);e(a)}catch(a){console.error("Failed to parse WebSocket message:",a)}},i.onclose=()=>{console.log("WebSocket disconnected")},i.onerror=o=>{console.error("WebSocket error:",o)},()=>{i.close()}},[t,e]),n.current}function If(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState([]),o=g.useRef(null);e9("/ws",h=>{console.log("WebSocket message:",h)}),Gt({queryKey:["/api/chat/history"],queryFn:()=>fetch("/api/chat/history?userId=user-1&limit=10").then(h=>h.json()),enabled:t});const a=nn({mutationFn:async h=>(await _a("POST","/api/chat",{message:h,userId:"user-1"})).json(),onSuccess:h=>{i(f=>[...f,{id:Date.now().toString(),type:"ai",content:h.response,timestamp:new Date}])}}),c=()=>{if(!n.trim())return;const h={id:Date.now().toString(),type:"user",content:n,timestamp:new Date};i(f=>[...f,h]),a.mutate(n),r("")},d=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),c())};return g.useEffect(()=>{var h;(h=o.current)==null||h.scrollIntoView({behavior:"smooth"})},[s]),g.useEffect(()=>{t&&s.length===0&&i([{id:"welcome",type:"ai",content:"Hi! I'm your AI assistant. I can help you create content, set up automations, or analyze your social media performance. What would you like to do?",timestamp:new Date}])},[t]),l.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:l.jsxs("div",{className:"relative",children:[l.jsx(ee,{className:"w-14 h-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 group",onClick:()=>e(!t),"data-testid":"button-toggle-chat",children:l.jsx("i",{className:`fas ${t?"fa-times":"fa-robot"} text-lg group-hover:scale-110 transition-transform`})}),t&&l.jsxs(me,{className:"absolute bottom-16 right-0 w-80 shadow-xl","data-testid":"chat-widget",children:[l.jsx(Oe,{className:"p-4 border-b",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Yo,{className:"w-8 h-8",children:[l.jsx(_f,{src:"",alt:"AI Assistant"}),l.jsx(Xo,{className:"bg-gradient-to-r from-primary to-accent text-white",children:l.jsx("i",{className:"fas fa-robot text-sm"})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-foreground",children:"AI Assistant"}),l.jsx(Ht,{variant:"secondary",className:"text-xs bg-green-500/10 text-green-600",children:"Online"})]}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>e(!1),"data-testid":"button-close-chat",children:l.jsx("i",{className:"fas fa-times"})})]})}),l.jsxs(be,{className:"p-0",children:[l.jsx(iN,{className:"h-60 p-4",children:l.jsxs("div",{className:"space-y-4",children:[s.map(h=>l.jsxs("div",{className:`flex gap-3 ${h.type==="user"?"justify-end":"justify-start"}`,"data-testid":`chat-message-${h.type}-${h.id}`,children:[h.type==="ai"&&l.jsx(Yo,{className:"w-6 h-6 flex-shrink-0",children:l.jsx(Xo,{className:"bg-primary text-white",children:l.jsx("i",{className:"fas fa-robot text-xs"})})}),l.jsx("div",{className:`max-w-[70%] p-3 rounded-lg text-sm ${h.type==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted text-foreground"}`,children:h.content})]},h.id)),a.isPending&&l.jsxs("div",{className:"flex gap-3 justify-start",children:[l.jsx(Yo,{className:"w-6 h-6 flex-shrink-0",children:l.jsx(Xo,{className:"bg-primary text-white",children:l.jsx("i",{className:"fas fa-robot text-xs"})})}),l.jsxs("div",{className:"bg-muted text-foreground p-3 rounded-lg text-sm",children:[l.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"AI is thinking..."]})]}),l.jsx("div",{ref:o})]})}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(si,{placeholder:"Type your message...",value:n,onChange:h=>r(h.target.value),onKeyPress:d,disabled:a.isPending,"data-testid":"input-chat-message"}),l.jsx(ee,{onClick:c,disabled:a.isPending||!n.trim(),"data-testid":"button-send-message",children:l.jsx("i",{className:"fas fa-paper-plane"})})]})})]})]})]})})}function t9(){const{data:t,isLoading:e}=Gt({queryKey:["/api/posts"]}),{data:n,isLoading:r}=Gt({queryKey:["/api/agent-templates"]}),{data:s,isLoading:i}=Gt({queryKey:["/api/user-agents"],queryFn:()=>fetch("/api/user-agents?userId=user-1").then(o=>o.json())});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(lo,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(co,{title:"Dashboard",subtitle:"Manage your AI-powered social platform"}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[l.jsx(V5,{}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Recent Posts"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ee,{variant:"default",size:"sm","data-testid":"filter-all",children:"All"}),l.jsx(ee,{variant:"ghost",size:"sm","data-testid":"filter-ai-generated",children:"AI Generated"}),l.jsx(ee,{variant:"ghost",size:"sm","data-testid":"filter-manual",children:"Manual"})]})]}),e?l.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((o,a)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-3",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),l.jsx("div",{className:"h-32 bg-muted rounded"})]})},a))}):l.jsx("div",{className:"space-y-6",children:t==null?void 0:t.map(o=>l.jsx(WA,{post:o},o.id))}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($e,{children:"Visual Workflow Builder"}),l.jsx(ee,{variant:"link",size:"sm","data-testid":"link-open-editor",children:"Open Editor"})]})}),l.jsx(be,{children:l.jsxs("div",{className:"relative bg-muted/30 rounded-lg p-6 min-h-[300px] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[l.jsx("div",{className:"bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg cursor-move transition-transform hover:scale-105","data-testid":"workflow-node-trigger",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-play-circle"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"Trigger"}),l.jsx("div",{className:"text-xs opacity-80",children:"New Mention"})]})]})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-0.5 w-12 bg-border"}),l.jsx("i",{className:"fas fa-chevron-right text-muted-foreground ml-2"})]}),l.jsx("div",{className:"bg-primary text-primary-foreground px-4 py-3 rounded-lg shadow-lg cursor-move transition-transform hover:scale-105","data-testid":"workflow-node-ai",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-robot"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"AI Analysis"}),l.jsx("div",{className:"text-xs opacity-80",children:"Sentiment Check"})]})]})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-0.5 w-12 bg-border"}),l.jsx("i",{className:"fas fa-chevron-right text-muted-foreground ml-2"})]}),l.jsx("div",{className:"bg-accent text-accent-foreground px-4 py-3 rounded-lg shadow-lg cursor-move transition-transform hover:scale-105","data-testid":"workflow-node-action",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-reply"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"Auto Reply"}),l.jsx("div",{className:"text-xs opacity-80",children:"Generate Response"})]})]})})]}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground","data-testid":"text-last-run",children:"Last run: 2 minutes ago"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-green-600","data-testid":"text-successful-runs",children:"✓ 12 successful runs today"}),l.jsx("span",{className:"text-muted-foreground","data-testid":"text-errors",children:"• 0 errors"})]})]})})]})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($e,{children:"AI Agent Templates"}),l.jsx(ee,{variant:"link",size:"sm","data-testid":"link-view-all-templates",children:"View All"})]})}),l.jsxs(be,{className:"space-y-3",children:[r?l.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((o,a)=>l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},a))}):n==null?void 0:n.slice(0,3).map(o=>l.jsx(HA,{template:o},o.id)),l.jsxs(ee,{className:"w-full","data-testid":"button-create-agent",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Custom Agent"]})]})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Active Automations"})}),l.jsx(be,{className:"space-y-4",children:i?l.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((o,a)=>l.jsx("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg animate-pulse",children:l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})},a))}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg","data-testid":"automation-daily-scheduler",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Daily Content Scheduler"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Last run: 30 min ago"})]})]}),l.jsx(ee,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:l.jsx("i",{className:"fas fa-ellipsis-v"})})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg","data-testid":"automation-engagement-tracker",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Engagement Tracker"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Last run: 1 hour ago"})]})]}),l.jsx(ee,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:l.jsx("i",{className:"fas fa-ellipsis-v"})})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg","data-testid":"automation-hashtag-optimizer",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Hashtag Optimizer"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Paused"})]})]}),l.jsx(ee,{variant:"ghost",size:"sm","data-testid":"button-automation-options",children:l.jsx("i",{className:"fas fa-ellipsis-v"})})]})]})})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Quick Actions"})}),l.jsx(be,{children:l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(ee,{variant:"ghost",className:"p-3 bg-primary/10 text-primary hover:bg-primary/20 h-auto flex-col","data-testid":"button-schedule-post",children:[l.jsx("i",{className:"fas fa-calendar-plus text-lg mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Schedule Post"})]}),l.jsxs(ee,{variant:"ghost",className:"p-3 bg-accent/10 text-accent hover:bg-accent/20 h-auto flex-col","data-testid":"button-ai-generate",children:[l.jsx("i",{className:"fas fa-sparkles text-lg mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"AI Generate"})]}),l.jsxs(ee,{variant:"ghost",className:"p-3 bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 h-auto flex-col","data-testid":"button-view-analytics",children:[l.jsx("i",{className:"fas fa-chart-bar text-lg mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Analytics"})]}),l.jsxs(ee,{variant:"ghost",className:"p-3 bg-green-500/10 text-green-500 hover:bg-green-500/20 h-auto flex-col","data-testid":"button-create-workflow",children:[l.jsx("i",{className:"fas fa-plus text-lg mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"New Agent"})]})]})})]})]})]})]})})]}),l.jsx(If,{})]})}var Hp="focusScope.autoFocusOnMount",qp="focusScope.autoFocusOnUnmount",DE={bubbles:!1,cancelable:!0},n9="FocusScope",ux=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=g.useState(null),d=Ze(s),h=Ze(i),f=g.useRef(null),p=Te(e,x=>c(x)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(I){if(v.paused||!a)return;const j=I.target;a.contains(j)?f.current=j:fs(f.current,{select:!0})},S=function(I){if(v.paused||!a)return;const j=I.relatedTarget;j!==null&&(a.contains(j)||fs(f.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const D of I)D.removedNodes.length>0&&fs(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){ME.add(v);const x=document.activeElement;if(!a.contains(x)){const E=new CustomEvent(Hp,DE);a.addEventListener(Hp,d),a.dispatchEvent(E),E.defaultPrevented||(r9(l9(aN(a)),{select:!0}),document.activeElement===x&&fs(a))}return()=>{a.removeEventListener(Hp,d),setTimeout(()=>{const E=new CustomEvent(qp,DE);a.addEventListener(qp,h),a.dispatchEvent(E),E.defaultPrevented||fs(x??document.body,{select:!0}),a.removeEventListener(qp,h),ME.remove(v)},0)}}},[a,d,h,v]);const b=g.useCallback(x=>{if(!n&&!r||v.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,E=document.activeElement;if(S&&E){const w=x.currentTarget,[I,j]=s9(w);I&&j?!x.shiftKey&&E===j?(x.preventDefault(),n&&fs(I,{select:!0})):x.shiftKey&&E===I&&(x.preventDefault(),n&&fs(j,{select:!0})):E===w&&x.preventDefault()}},[n,r,v.paused]);return l.jsx(se.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});ux.displayName=n9;function r9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fs(r,{select:e}),document.activeElement!==n)return}function s9(t){const e=aN(t),n=OE(e,t),r=OE(e.reverse(),t);return[n,r]}function aN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function OE(t,e){for(const n of t)if(!i9(n,{upTo:e}))return n}function i9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function o9(t){return t instanceof HTMLInputElement&&"select"in t}function fs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&o9(t)&&e&&t.select()}}var ME=a9();function a9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=LE(t,e),t.unshift(e)},remove(e){var n;t=LE(t,e),(n=t[0])==null||n.resume()}}}function LE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function l9(t){return t.filter(e=>e.tagName!=="A")}var Gp=0;function lN(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VE()),document.body.insertAdjacentElement("beforeend",t[1]??VE()),Gp++,()=>{Gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gp--}},[])}function VE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hr=function(){return hr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hr.apply(this,arguments)};function cN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function c9(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ed="right-scroll-bar-position",Td="width-before-scroll-bar",u9="with-scroll-bars-hidden",d9="--removed-body-scroll-bar-size";function Kp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function h9(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var f9=typeof window<"u"?g.useLayoutEffect:g.useEffect,FE=new WeakMap;function p9(t,e){var n=h9(null,function(r){return t.forEach(function(s){return Kp(s,r)})});return f9(function(){var r=FE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Kp(a,null)}),i.forEach(function(a){s.has(a)||Kp(a,o)})}FE.set(n,t)},[t]),n}function m9(t){return t}function g9(t,e){e===void 0&&(e=m9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function y9(t){t===void 0&&(t={});var e=g9(null);return e.options=hr({async:!0,ssr:!1},t),e}var uN=function(t){var e=t.sideCar,n=cN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,hr({},n))};uN.isSideCarExport=!0;function v9(t,e){return t.useMedium(e),uN}var dN=y9(),Qp=function(){},bf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Qp,onWheelCapture:Qp,onTouchMoveCapture:Qp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,v=t.noIsolation,b=t.inert,x=t.allowPinchZoom,S=t.as,E=S===void 0?"div":S,w=t.gapMode,I=cN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,D=p9([n,e]),M=hr(hr({},I),s);return g.createElement(g.Fragment,null,h&&g.createElement(j,{sideCar:dN,removeScrollBar:d,shards:f,noIsolation:v,inert:b,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),hr(hr({},M),{ref:D})):g.createElement(E,hr({},M,{className:c,ref:D}),a))});bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bf.classNames={fullWidth:Td,zeroRight:Ed};var x9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=x9();return e&&t.setAttribute("nonce",e),t}function _9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function E9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var T9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=w9())&&(_9(e,n),E9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},S9=function(){var t=T9();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},hN=function(){var t=S9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},I9={left:0,top:0,right:0,gap:0},Yp=function(t){return parseInt(t||"",10)||0},b9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Yp(n),Yp(r),Yp(s)]},C9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return I9;var e=b9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},A9=hN(),Jo="data-scroll-locked",N9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(u9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Jo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Td,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Td," .").concat(Td,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jo,`] {
    `).concat(d9,": ").concat(a,`px;
  }
`)},UE=function(){var t=parseInt(document.body.getAttribute(Jo)||"0",10);return isFinite(t)?t:0},R9=function(){g.useEffect(function(){return document.body.setAttribute(Jo,(UE()+1).toString()),function(){var t=UE()-1;t<=0?document.body.removeAttribute(Jo):document.body.setAttribute(Jo,t.toString())}},[])},P9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;R9();var i=g.useMemo(function(){return C9(s)},[s]);return g.createElement(A9,{styles:N9(i,!e,s,n?"":"!important")})},Ug=!1;if(typeof window<"u")try{var qu=Object.defineProperty({},"passive",{get:function(){return Ug=!0,!0}});window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{Ug=!1}var mo=Ug?{passive:!1}:!1,j9=function(t){return t.tagName==="TEXTAREA"},fN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!j9(t)&&n[e]==="visible")},k9=function(t){return fN(t,"overflowY")},D9=function(t){return fN(t,"overflowX")},$E=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pN(t,r);if(s){var i=mN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},O9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},M9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pN=function(t,e){return t==="v"?k9(e):D9(e)},mN=function(t,e){return t==="v"?O9(e):M9(e)},L9=function(t,e){return t==="h"&&e==="rtl"?-1:1},V9=function(t,e,n,r,s){var i=L9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,p=0;do{var v=mN(t,a),b=v[0],x=v[1],S=v[2],E=x-S-i*b;(b||E)&&pN(t,a)&&(f+=E,p+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(d=!0),d},Gu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zE=function(t){return[t.deltaX,t.deltaY]},BE=function(t){return t&&"current"in t?t.current:t},F9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},U9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$9=0,go=[];function z9(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState($9++)[0],i=g.useState(hN)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=c9([t.lockRef.current],(t.shards||[]).map(BE),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var E=Gu(x),w=n.current,I="deltaX"in x?x.deltaX:w[0]-E[0],j="deltaY"in x?x.deltaY:w[1]-E[1],D,M=x.target,_=Math.abs(I)>Math.abs(j)?"h":"v";if("touches"in x&&_==="h"&&M.type==="range")return!1;var T=$E(_,M);if(!T)return!0;if(T?D=_:(D=_==="v"?"h":"v",T=$E(_,M)),!T)return!1;if(!r.current&&"changedTouches"in x&&(I||j)&&(r.current=D),!D)return!0;var C=r.current||D;return V9(C,S,x,C==="h"?I:j,!0)},[]),c=g.useCallback(function(x){var S=x;if(!(!go.length||go[go.length-1]!==i)){var E="deltaY"in S?zE(S):Gu(S),w=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&F9(D.delta,E)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var I=(o.current.shards||[]).map(BE).filter(Boolean).filter(function(D){return D.contains(S.target)}),j=I.length>0?a(S,I[0]):!o.current.noIsolation;j&&S.cancelable&&S.preventDefault()}}},[]),d=g.useCallback(function(x,S,E,w){var I={name:x,delta:S,target:E,should:w,shadowParent:B9(E)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(j){return j!==I})},1)},[]),h=g.useCallback(function(x){n.current=Gu(x),r.current=void 0},[]),f=g.useCallback(function(x){d(x.type,zE(x),x.target,a(x,t.lockRef.current))},[]),p=g.useCallback(function(x){d(x.type,Gu(x),x.target,a(x,t.lockRef.current))},[]);g.useEffect(function(){return go.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,mo),document.addEventListener("touchmove",c,mo),document.addEventListener("touchstart",h,mo),function(){go=go.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,mo),document.removeEventListener("touchmove",c,mo),document.removeEventListener("touchstart",h,mo)}},[]);var v=t.removeScrollBar,b=t.inert;return g.createElement(g.Fragment,null,b?g.createElement(i,{styles:U9(s)}):null,v?g.createElement(P9,{gapMode:t.gapMode}):null)}function B9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const W9=v9(dN,z9);var dx=g.forwardRef(function(t,e){return g.createElement(bf,hr({},t,{ref:e,sideCar:W9}))});dx.classNames=bf.classNames;var H9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yo=new WeakMap,Ku=new WeakMap,Qu={},Xp=0,gN=function(t){return t&&(t.host||gN(t.parentNode))},q9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},G9=function(t,e,n,r){var s=q9(e,Array.isArray(t)?t:[t]);Qu[n]||(Qu[n]=new WeakMap);var i=Qu[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var v=p.getAttribute(r),b=v!==null&&v!=="false",x=(yo.get(p)||0)+1,S=(i.get(p)||0)+1;yo.set(p,x),i.set(p,S),o.push(p),x===1&&b&&Ku.set(p,!0),S===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return h(e),a.clear(),Xp++,function(){o.forEach(function(f){var p=yo.get(f)-1,v=i.get(f)-1;yo.set(f,p),i.set(f,v),p||(Ku.has(f)||f.removeAttribute(r),Ku.delete(f)),v||f.removeAttribute(n)}),Xp--,Xp||(yo=new WeakMap,yo=new WeakMap,Ku=new WeakMap,Qu={})}},yN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=H9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),G9(r,s,n,"aria-hidden")):function(){return null}},hx="Dialog",[vN,zz]=Jn(hx),[K9,tr]=vN(hx),xN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),c=g.useRef(null),[d=!1,h]=Ta({prop:r,defaultProp:s,onChange:i});return l.jsx(K9,{scope:e,triggerRef:a,contentRef:c,contentId:$s(),titleId:$s(),descriptionId:$s(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};xN.displayName=hx;var wN="DialogTrigger",_N=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(wN,n),i=Te(e,s.triggerRef);return l.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":mx(s.open),...r,ref:i,onClick:J(t.onClick,s.onOpenToggle)})});_N.displayName=wN;var fx="DialogPortal",[Q9,EN]=vN(fx,{forceMount:void 0}),TN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=tr(fx,e);return l.jsx(Q9,{scope:e,forceMount:n,children:g.Children.map(r,o=>l.jsx(Zn,{present:n||i.open,children:l.jsx(zh,{asChild:!0,container:s,children:o})}))})};TN.displayName=fx;var Eh="DialogOverlay",SN=g.forwardRef((t,e)=>{const n=EN(Eh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Eh,t.__scopeDialog);return i.modal?l.jsx(Zn,{present:r||i.open,children:l.jsx(X9,{...s,ref:e})}):null});SN.displayName=Eh;var Y9=Ea("DialogOverlay.RemoveScroll"),X9=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(Eh,n);return l.jsx(dx,{as:Y9,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(se.div,{"data-state":mx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ji="DialogContent",IN=g.forwardRef((t,e)=>{const n=EN(Ji,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Ji,t.__scopeDialog);return l.jsx(Zn,{present:r||i.open,children:i.modal?l.jsx(J9,{...s,ref:e}):l.jsx(Z9,{...s,ref:e})})});IN.displayName=Ji;var J9=g.forwardRef((t,e)=>{const n=tr(Ji,t.__scopeDialog),r=g.useRef(null),s=Te(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return yN(i)},[]),l.jsx(bN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault())})}),Z9=g.forwardRef((t,e)=>{const n=tr(Ji,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(bN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bN=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=tr(Ji,n),c=g.useRef(null),d=Te(e,c);return lN(),l.jsxs(l.Fragment,{children:[l.jsx(ux,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Vc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":mx(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(e$,{titleId:a.titleId}),l.jsx(n$,{contentRef:c,descriptionId:a.descriptionId})]})]})}),px="DialogTitle",CN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(px,n);return l.jsx(se.h2,{id:s.titleId,...r,ref:e})});CN.displayName=px;var AN="DialogDescription",NN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(AN,n);return l.jsx(se.p,{id:s.descriptionId,...r,ref:e})});NN.displayName=AN;var RN="DialogClose",PN=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(RN,n);return l.jsx(se.button,{type:"button",...r,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});PN.displayName=RN;function mx(t){return t?"open":"closed"}var jN="DialogTitleWarning",[Bz,kN]=hD(jN,{contentName:Ji,titleName:px,docsSlug:"dialog"}),e$=({titleId:t})=>{const e=kN(jN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},t$="DialogDescriptionWarning",n$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kN(t$).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},r$=xN,s$=_N,i$=TN,DN=SN,ON=IN,MN=CN,LN=NN,o$=PN;const a$=r$,l$=s$,c$=i$,VN=g.forwardRef(({className:t,...e},n)=>l.jsx(DN,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));VN.displayName=DN.displayName;const FN=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(c$,{children:[l.jsx(VN,{}),l.jsxs(ON,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(o$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(vI,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FN.displayName=ON.displayName;const UN=({className:t,...e})=>l.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});UN.displayName="DialogHeader";const $N=g.forwardRef(({className:t,...e},n)=>l.jsx(MN,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));$N.displayName=MN.displayName;const u$=g.forwardRef(({className:t,...e},n)=>l.jsx(LN,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));u$.displayName=LN.displayName;const Xn=g.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Xn.displayName="Textarea";var d$="Label",zN=g.forwardRef((t,e)=>l.jsx(se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zN.displayName=d$;var BN=zN;const h$=Uc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Do=g.forwardRef(({className:t,...e},n)=>l.jsx(BN,{ref:n,className:ce(h$(),t),...e}));Do.displayName=BN.displayName;function WE(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[c,d]=g.useState(!1),{toast:h}=Gy(),f=li(),p=nn({mutationFn:async S=>_a("POST","/api/posts",{...S,authorId:"user-1"}),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/posts"]}),e(!1),r(""),i(""),a(""),h({title:"Post created!",description:"Your post has been shared successfully."})},onError:()=>{h({title:"Error",description:"Failed to create post. Please try again.",variant:"destructive"})}}),v=nn({mutationFn:async S=>(await _a("POST","/api/ai/generate-content",{prompt:S,type:"post"})).json(),onSuccess:S=>{r(S.content),d(!1),h({title:"Content generated!",description:"AI has generated content for your post."})},onError:()=>{d(!1),h({title:"Error",description:"Failed to generate content. Please try again.",variant:"destructive"})}}),b=()=>{if(!o.trim()){h({title:"Error",description:"Please enter a prompt for AI generation.",variant:"destructive"});return}d(!0),v.mutate(o)},x=()=>{if(!n.trim()){h({title:"Error",description:"Please enter some content for your post.",variant:"destructive"});return}p.mutate({content:n,imageUrl:s||void 0,isAiGenerated:!!o})};return l.jsxs(a$,{open:t,onOpenChange:e,children:[l.jsx(l$,{asChild:!0,children:l.jsxs(ee,{"data-testid":"button-create-post",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Post"]})}),l.jsxs(FN,{className:"sm:max-w-[600px]","data-testid":"dialog-create-post",children:[l.jsx(UN,{children:l.jsx($N,{children:"Create New Post"})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Do,{children:"AI Content Generation (Optional)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(si,{placeholder:"Describe what you want to post about...",value:o,onChange:S=>a(S.target.value),"data-testid":"input-ai-prompt"}),l.jsxs(ee,{onClick:b,disabled:c,"data-testid":"button-generate-content",children:[l.jsx("i",{className:`fas ${c?"fa-spinner fa-spin":"fa-magic"} mr-2`}),c?"Generating...":"Generate"]})]})]}),l.jsx(er,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Do,{htmlFor:"content",children:"Post Content"}),o&&l.jsxs(Ht,{variant:"secondary",className:"bg-primary/10 text-primary",children:[l.jsx("i",{className:"fas fa-robot mr-1"}),"AI Generated"]})]}),l.jsx(Xn,{id:"content",placeholder:"What's on your mind?",value:n,onChange:S=>r(S.target.value),className:"min-h-[120px]","data-testid":"textarea-content"}),l.jsxs("div",{className:"text-sm text-muted-foreground text-right",children:[n.length,"/500 characters"]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Do,{htmlFor:"imageUrl",children:"Image URL (Optional)"}),l.jsx(si,{id:"imageUrl",placeholder:"https://example.com/image.jpg",value:s,onChange:S=>i(S.target.value),"data-testid":"input-image-url"})]}),s&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Do,{children:"Image Preview"}),l.jsx("img",{src:s,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border",onError:()=>{h({title:"Invalid image URL",description:"The image URL is not valid or accessible.",variant:"destructive"})},"data-testid":"img-preview"})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(ee,{variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel",children:"Cancel"}),l.jsxs(ee,{onClick:x,disabled:p.isPending,"data-testid":"button-post",children:[l.jsx("i",{className:`fas ${p.isPending?"fa-spinner fa-spin":"fa-share"} mr-2`}),p.isPending?"Posting...":"Post"]})]})]})]})]})}function f$(){const{data:t,isLoading:e}=Gt({queryKey:["/api/posts"]});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(lo,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(co,{title:"Social Feed",subtitle:"Engage with your community and share content",actions:l.jsx(WE,{})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:e?l.jsx("div",{className:"space-y-6",children:Array.from({length:5}).map((n,r)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-muted rounded-full"}),l.jsxs("div",{className:"space-y-2 flex-1",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/6"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-full"}),l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]}),l.jsx("div",{className:"h-48 bg-muted rounded"})]})},r))}):t!=null&&t.length?l.jsx("div",{className:"space-y-6",children:t.map(n=>l.jsx(WA,{post:n},n.id))}):l.jsx(me,{className:"p-12 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("i",{className:"fas fa-comments text-4xl text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No posts yet"}),l.jsx("p",{className:"text-muted-foreground",children:"Be the first to share something with the community!"})]}),l.jsx(WE,{})]})})})})]}),l.jsx(If,{})]})}const p$=[{id:"trigger-1",type:"trigger",title:"Trigger",subtitle:"New Mention",position:{x:100,y:150},color:"bg-green-500",icon:"fas fa-play-circle"},{id:"ai-1",type:"ai",title:"AI Analysis",subtitle:"Sentiment Check",position:{x:350,y:150},color:"bg-primary",icon:"fas fa-robot"},{id:"action-1",type:"action",title:"Auto Reply",subtitle:"Generate Response",position:{x:600,y:150},color:"bg-accent",icon:"fas fa-reply"}];function m$(){const[t,e]=g.useState(p$),[n,r]=g.useState(null),[s,i]=g.useState(null),[o,a]=g.useState({x:0,y:0}),c=g.useCallback((p,v)=>{if(!t.find(w=>w.id===v))return;const x=p.currentTarget.getBoundingClientRect(),S=p.clientX-x.left,E=p.clientY-x.top;i(v),a({x:S,y:E}),r(v)},[t]),d=g.useCallback(p=>{if(!s)return;const b=p.currentTarget.getBoundingClientRect(),x=p.clientX-b.left-o.x,S=p.clientY-b.top-o.y;e(E=>E.map(w=>w.id===s?{...w,position:{x:Math.max(0,Math.min(x,700)),y:Math.max(0,Math.min(S,350))}}:w))},[s,o]),h=g.useCallback(()=>{i(null)},[]),f=p=>{const v={id:`${p}-${Date.now()}`,type:p,title:p==="trigger"?"New Trigger":p==="ai"?"AI Process":"New Action",subtitle:"Configure me",position:{x:200,y:200},color:p==="trigger"?"bg-green-500":p==="ai"?"bg-primary":"bg-accent",icon:p==="trigger"?"fas fa-play":p==="ai"?"fas fa-brain":"fas fa-cog"};e(b=>[...b,v])};return l.jsxs(me,{className:"h-[600px]",children:[l.jsx(Oe,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($e,{children:"Workflow Builder"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ee,{size:"sm",variant:"outline","data-testid":"button-save-workflow",children:[l.jsx("i",{className:"fas fa-save mr-2"}),"Save"]}),l.jsxs(ee,{size:"sm","data-testid":"button-run-workflow",children:[l.jsx("i",{className:"fas fa-play mr-2"}),"Run"]})]})]})}),l.jsx(be,{children:l.jsxs("div",{className:"flex gap-6 h-full",children:[l.jsxs("div",{className:"w-48 space-y-3",children:[l.jsx("h4",{className:"font-medium text-foreground mb-3",children:"Components"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("trigger"),"data-testid":"button-add-trigger",children:[l.jsx("i",{className:"fas fa-play-circle text-green-500 mr-2"}),"Trigger"]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("ai"),"data-testid":"button-add-ai",children:[l.jsx("i",{className:"fas fa-robot text-primary mr-2"}),"AI Process"]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>f("action"),"data-testid":"button-add-action",children:[l.jsx("i",{className:"fas fa-cog text-accent mr-2"}),"Action"]})]}),n&&l.jsxs("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg",children:[l.jsx("h5",{className:"font-medium mb-2",children:"Node Properties"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure the selected node's settings here."})]})]}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsxs("div",{className:"w-full h-full bg-muted/20 rounded-lg relative overflow-hidden cursor-crosshair border-2 border-dashed border-muted-foreground/20",onMouseMove:d,onMouseUp:h,onMouseLeave:h,"data-testid":"workflow-canvas",children:[l.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:t.map((p,v)=>{const b=t[v+1];return b?l.jsx("line",{x1:p.position.x+80,y1:p.position.y+25,x2:b.position.x,y2:b.position.y+25,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",strokeDasharray:"5,5",opacity:"0.5"},`line-${p.id}-${b.id}`):null})}),t.map(p=>l.jsx("div",{className:`absolute cursor-move select-none transition-all duration-200 hover:scale-105 ${n===p.id?"ring-2 ring-primary":""}`,style:{left:p.position.x,top:p.position.y,transform:s===p.id?"scale(1.05)":"scale(1)"},onMouseDown:v=>c(v,p.id),"data-testid":`workflow-node-${p.id}`,children:l.jsx("div",{className:`${p.color} text-white px-4 py-3 rounded-lg shadow-lg min-w-[160px]`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:p.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:p.title}),l.jsx("div",{className:"text-xs opacity-80",children:p.subtitle})]})]})})},p.id)),l.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
                    radial-gradient(circle, hsl(var(--muted-foreground)) 1px, transparent 1px)
                  `,backgroundSize:"20px 20px"}})]}),l.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l.jsxs("div",{className:"flex items-center justify-between text-sm bg-card/90 backdrop-blur-sm rounded-lg px-3 py-2 border",children:[l.jsxs("span",{className:"text-muted-foreground","data-testid":"text-node-count",children:[t.length," nodes"]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(Ht,{variant:"secondary","data-testid":"badge-status",children:[l.jsx("i",{className:"fas fa-circle text-green-500 mr-1"}),"Ready to run"]})})]})})]})]})})]})}function g$(){const{data:t,isLoading:e}=Gt({queryKey:["/api/workflows"],queryFn:()=>fetch("/api/workflows?userId=user-1").then(n=>n.json())});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(lo,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(co,{title:"Workflows",subtitle:"Create and manage your automation workflows"}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(m$,{})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Your Workflows"})}),l.jsx(be,{children:e?l.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((n,r)=>l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg animate-pulse",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},r))}):t!=null&&t.length?l.jsx("div",{className:"space-y-4",children:t.map(n=>l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg hover:bg-muted transition-colors","data-testid":`workflow-${n.id}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h4",{className:"font-medium text-foreground",children:n.name}),l.jsx(Ht,{variant:n.isActive?"default":"secondary","data-testid":`status-${n.id}`,children:n.isActive?"Active":"Inactive"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:n.description}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsxs("span",{"data-testid":`run-count-${n.id}`,children:[n.runCount," runs"]}),l.jsx("span",{"data-testid":`last-run-${n.id}`,children:n.lastRun?`Last: ${new Date(n.lastRun).toLocaleDateString()}`:"Never run"})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsxs(ee,{size:"sm",variant:"outline","data-testid":`button-edit-${n.id}`,children:[l.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]}),l.jsxs(ee,{size:"sm",variant:"outline","data-testid":`button-toggle-${n.id}`,children:[l.jsx("i",{className:`fas ${n.isActive?"fa-pause":"fa-play"} mr-1`}),n.isActive?"Pause":"Start"]})]})]},n.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("i",{className:"fas fa-project-diagram text-4xl text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No workflows created yet"})]})})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Quick Start Templates"})}),l.jsxs(be,{className:"space-y-3",children:[l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-auto-responder",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-reply text-white text-sm"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Auto Responder"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Respond to mentions automatically"})]})]})}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-content-scheduler",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-calendar text-white text-sm"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Content Scheduler"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Schedule posts at optimal times"})]})]})}),l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors cursor-pointer","data-testid":"template-trend-analyzer",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-chart-line text-white text-sm"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-foreground",children:"Trend Analyzer"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor and respond to trends"})]})]})})]})]})]})]})})})]}),l.jsx(If,{})]})}var Jp="rovingFocusGroup.onEntryFocus",y$={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[$g,WN,v$]=Ky(Cf),[x$,HN]=Jn(Cf,[v$]),[w$,_$]=x$(Cf),qN=g.forwardRef((t,e)=>l.jsx($g.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx($g.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(E$,{...t,ref:e})})}));qN.displayName=Cf;var E$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=g.useRef(null),v=Te(e,p),b=Ef(i),[x=null,S]=Ta({prop:o,defaultProp:a,onChange:c}),[E,w]=g.useState(!1),I=Ze(d),j=WN(n),D=g.useRef(!1),[M,_]=g.useState(0);return g.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Jp,I),()=>T.removeEventListener(Jp,I)},[I]),l.jsx(w$,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(T=>S(T),[S]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>_(T=>T-1),[]),children:l.jsx(se.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{D.current=!0}),onFocus:J(t.onFocus,T=>{const C=!D.current;if(T.target===T.currentTarget&&C&&!E){const N=new CustomEvent(Jp,y$);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const P=j().filter(Y=>Y.focusable),k=P.find(Y=>Y.active),R=P.find(Y=>Y.id===x),re=[k,R,...P].filter(Boolean).map(Y=>Y.ref.current);QN(re,h)}}D.current=!1}),onBlur:J(t.onBlur,()=>w(!1))})})}),GN="RovingFocusGroupItem",KN=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=$s(),c=i||a,d=_$(GN,n),h=d.currentTabStopId===c,f=WN(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=d;return g.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),l.jsx($g.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(se.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:J(t.onMouseDown,b=>{r?d.onItemFocus(c):b.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:J(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=I$(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=f().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")E.reverse();else if(x==="prev"||x==="next"){x==="prev"&&E.reverse();const w=E.indexOf(b.currentTarget);E=d.loop?b$(E,w+1):E.slice(w+1)}setTimeout(()=>QN(E))}})})})});KN.displayName=GN;var T$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function I$(t,e,n){const r=S$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return T$[r]}function QN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function b$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var C$=qN,A$=KN,gx="Tabs",[N$,Wz]=Jn(gx,[HN]),YN=HN(),[R$,yx]=N$(gx),XN=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Ef(a),[f,p]=Ta({prop:r,onChange:s,defaultProp:i});return l.jsx(R$,{scope:n,baseId:$s(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:l.jsx(se.div,{dir:h,"data-orientation":o,...d,ref:e})})});XN.displayName=gx;var JN="TabsList",ZN=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=yx(JN,n),o=YN(n);return l.jsx(C$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(se.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ZN.displayName=JN;var eR="TabsTrigger",tR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=yx(eR,n),a=YN(n),c=sR(o.baseId,r),d=iR(o.baseId,r),h=r===o.value;return l.jsx(A$,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(se.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:J(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:J(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:J(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});tR.displayName=eR;var nR="TabsContent",rR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=yx(nR,n),c=sR(a.baseId,r),d=iR(a.baseId,r),h=r===a.value,f=g.useRef(h);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(Zn,{present:s||h,children:({present:p})=>l.jsx(se.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});rR.displayName=nR;function sR(t,e){return`${t}-trigger-${e}`}function iR(t,e){return`${t}-content-${e}`}var P$=XN,oR=ZN,aR=tR,lR=rR;const vx=P$,Af=g.forwardRef(({className:t,...e},n)=>l.jsx(oR,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Af.displayName=oR.displayName;const Un=g.forwardRef(({className:t,...e},n)=>l.jsx(aR,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Un.displayName=aR.displayName;const $n=g.forwardRef(({className:t,...e},n)=>l.jsx(lR,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));$n.displayName=lR.displayName;function j$(){const{data:t,isLoading:e}=Gt({queryKey:["/api/agent-templates"]}),{data:n,isLoading:r}=Gt({queryKey:["/api/user-agents"],queryFn:()=>fetch("/api/user-agents?userId=user-1").then(s=>s.json())});return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(lo,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(co,{title:"AI Agents",subtitle:"Create and manage your intelligent automation agents"}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsxs(vx,{defaultValue:"templates",className:"space-y-6",children:[l.jsxs(Af,{children:[l.jsx(Un,{value:"templates","data-testid":"tab-templates",children:"Templates"}),l.jsx(Un,{value:"my-agents","data-testid":"tab-my-agents",children:"My Agents"})]}),l.jsxs($n,{value:"templates",className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Agent Templates"}),l.jsx("p",{className:"text-muted-foreground",children:"Choose from pre-built templates or create your own"})]}),l.jsxs(ee,{"data-testid":"button-create-custom-agent",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Custom Agent"]})]}),e?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,i)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg"}),l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-full"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})},i))}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(s=>l.jsx(HA,{template:s,showActions:!0},s.id))})]}),l.jsxs($n,{value:"my-agents",className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"My AI Agents"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your active automation agents"})]})}),r?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((s,i)=>l.jsx(me,{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-muted rounded w-full"}),l.jsx("div",{className:"h-8 bg-muted rounded w-1/3 mt-4"})]})},i))}):n!=null&&n.length?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>l.jsx(me,{className:"p-6","data-testid":`agent-card-${s.id}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h3",{className:"font-semibold text-foreground",children:s.name}),l.jsx("div",{className:`w-3 h-3 rounded-full ${s.isActive?"bg-green-500":"bg-gray-400"}`,"data-testid":`status-${s.id}`})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Status:"}),l.jsx("span",{className:s.isActive?"text-green-600":"text-gray-500",children:s.isActive?"Active":"Inactive"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Runs:"}),l.jsx("span",{"data-testid":`run-count-${s.id}`,children:s.runCount})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Last Run:"}),l.jsx("span",{"data-testid":`last-run-${s.id}`,children:s.lastRun?new Date(s.lastRun).toLocaleDateString():"Never"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ee,{size:"sm",variant:s.isActive?"secondary":"default","data-testid":`button-toggle-${s.id}`,children:[l.jsx("i",{className:`fas ${s.isActive?"fa-pause":"fa-play"} mr-1`}),s.isActive?"Pause":"Start"]}),l.jsxs(ee,{size:"sm",variant:"outline","data-testid":`button-edit-${s.id}`,children:[l.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]})]})]})},s.id))}):l.jsx(me,{className:"p-12 text-center",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("i",{className:"fas fa-robot text-4xl text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No agents created yet"}),l.jsx("p",{className:"text-muted-foreground",children:"Create your first AI agent from a template or build a custom one"})]}),l.jsxs(ee,{"data-testid":"button-get-started",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Get Started"]})]})})]})]})})})]}),l.jsx(If,{})]})}function k$(){var S,E,w,I,j;const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),c=li(),{data:d,isLoading:h,error:f}=Gt({queryKey:["/api/telegram/status"],refetchInterval:3e4}),p=nn({mutationFn:async D=>{const M=await fetch("/api/telegram/send-message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!M.ok)throw new Error("Failed to send message");return M.json()},onSuccess:()=>{e(""),c.invalidateQueries({queryKey:["/api/telegram/status"]})}}),v=nn({mutationFn:async D=>{const M=await fetch("/api/telegram/broadcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!M.ok)throw new Error("Failed to broadcast message");return M.json()},onSuccess:()=>{i(""),a(""),c.invalidateQueries({queryKey:["/api/telegram/status"]})}}),b=()=>{!t||!n||p.mutate({chatId:n,message:t})},x=()=>{if(!s||!o)return;const D=o.split(",").map(M=>M.trim()).filter(M=>M);D.length!==0&&v.mutate({message:s,chatIds:D})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsxs($e,{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fab fa-telegram text-blue-500"}),"Telegram Bot Status"]})}),l.jsx(be,{children:h?l.jsxs("div",{className:"animate-pulse space-y-2",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}):f?l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:"Failed to load Telegram bot status. Please check your configuration."})}):d?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ht,{variant:d.connected?"default":"secondary",children:d.connected?"🟢 Connected":"🔴 Disconnected"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",d.botInfo.username]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Bot ID:"})," ",d.botInfo.id]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",d.botInfo.firstName]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Can Join Groups:"}),d.botInfo.canJoinGroups?" ✅":" ❌"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Read Group Messages:"}),d.botInfo.canReadAllGroupMessages?" ✅":" ❌"]})]})]}):null})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Send Message"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Chat ID"}),l.jsx(si,{placeholder:"Enter chat ID (e.g., 123456789)",value:n,onChange:D=>r(D.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Message"}),l.jsx(Xn,{placeholder:"Enter your message...",value:t,onChange:D=>e(D.target.value),rows:3})]})]}),l.jsx(ee,{onClick:b,disabled:!t||!n||p.isPending,className:"w-full",children:p.isPending?"Sending...":"Send Message"}),p.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsxs(Wt,{children:["Failed to send message: ",(S=p.error)==null?void 0:S.message]})}),p.isSuccess&&l.jsx(Bt,{children:l.jsxs(Wt,{children:["✅ Message sent successfully! Message ID: ",(E=p.data)==null?void 0:E.messageId]})})]})]}),l.jsx(er,{}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Broadcast Message"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Chat IDs (comma-separated)"}),l.jsx(si,{placeholder:"123456789, 987654321, 555666777",value:o,onChange:D=>a(D.target.value)}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter multiple chat IDs separated by commas"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Broadcast Message"}),l.jsx(Xn,{placeholder:"Enter your broadcast message...",value:s,onChange:D=>i(D.target.value),rows:4})]}),l.jsx(ee,{onClick:x,disabled:!s||!o||v.isPending,className:"w-full",variant:"outline",children:v.isPending?"Broadcasting...":"Broadcast Message"}),v.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsxs(Wt,{children:["Failed to broadcast message: ",(w=v.error)==null?void 0:w.message]})}),v.isSuccess&&l.jsx(Bt,{children:l.jsxs(Wt,{children:["✅ Broadcast completed! Check results: ",(j=(I=v.data)==null?void 0:I.results)==null?void 0:j.length," messages processed"]})})]})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Quick Actions"})}),l.jsx(be,{children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(ee,{variant:"outline",onClick:()=>{r("123456789"),e("/start")},children:[l.jsx("i",{className:"fas fa-play mr-2"}),"Send /start Command"]}),l.jsxs(ee,{variant:"outline",onClick:()=>{r("123456789"),e("/help")},children:[l.jsx("i",{className:"fas fa-question-circle mr-2"}),"Send /help Command"]}),l.jsxs(ee,{variant:"outline",onClick:()=>{r("123456789"),e("/status")},children:[l.jsx("i",{className:"fas fa-chart-bar mr-2"}),"Send /status Command"]}),l.jsxs(ee,{variant:"outline",onClick:()=>{r("123456789"),e("/posts")},children:[l.jsx("i",{className:"fas fa-list mr-2"}),"Send /posts Command"]})]})})]})]})}function D$(){return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(lo,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(co,{title:"Telegram Integration",subtitle:"Manage your Telegram bot and send messages",actions:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Bot Status:"}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:l.jsx(k$,{})})})]})]})}function O$(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var M$=[" ","Enter","ArrowUp","ArrowDown"],L$=[" ","Enter"],tu="Select",[Nf,Rf,V$]=Ky(tu),[Ja,Hz]=Jn(tu,[V$,Kh]),Pf=Kh(),[F$,hi]=Ja(tu),[U$,$$]=Ja(tu),cR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:v,form:b}=t,x=Pf(e),[S,E]=g.useState(null),[w,I]=g.useState(null),[j,D]=g.useState(!1),M=Ef(d),[_=!1,T]=Ta({prop:r,defaultProp:s,onChange:i}),[C,N]=Ta({prop:o,defaultProp:a,onChange:c}),P=g.useRef(null),k=S?b||!!S.closest("form"):!0,[R,B]=g.useState(new Set),re=Array.from(R).map(Y=>Y.props.value).join(";");return l.jsx(XM,{...x,children:l.jsxs(F$,{required:v,scope:e,trigger:S,onTriggerChange:E,valueNode:w,onValueNodeChange:I,valueNodeHasChildren:j,onValueNodeHasChildrenChange:D,contentId:$s(),value:C,onValueChange:N,open:_,onOpenChange:T,dir:M,triggerPointerDownPosRef:P,disabled:p,children:[l.jsx(Nf.Provider,{scope:e,children:l.jsx(U$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Y=>{B(ue=>new Set(ue).add(Y))},[]),onNativeOptionRemove:g.useCallback(Y=>{B(ue=>{const F=new Set(ue);return F.delete(Y),F})},[]),children:n})}),k?l.jsxs(DR,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:Y=>N(Y.target.value),disabled:p,form:b,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},re):null]})})};cR.displayName=tu;var uR="SelectTrigger",dR=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Pf(n),o=hi(uR,n),a=o.disabled||r,c=Te(e,o.onTriggerChange),d=Rf(n),h=g.useRef("touch"),[f,p,v]=OR(x=>{const S=d().filter(I=>!I.disabled),E=S.find(I=>I.value===o.value),w=MR(S,x,E);w!==void 0&&o.onValueChange(w.value)}),b=x=>{a||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(QI,{asChild:!0,...i,children:l.jsx(se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":kR(o.value)?"":void 0,...s,ref:c,onClick:J(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&b(x)}),onPointerDown:J(s.onPointerDown,x=>{h.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:J(s.onKeyDown,x=>{const S=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(S&&x.key===" ")&&M$.includes(x.key)&&(b(),x.preventDefault())})})})});dR.displayName=uR;var hR="SelectValue",fR=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=hi(hR,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Te(e,c.onValueNodeChange);return lt(()=>{d(h)},[d,h]),l.jsx(se.span,{...a,ref:f,style:{pointerEvents:"none"},children:kR(c.value)?l.jsx(l.Fragment,{children:o}):i})});fR.displayName=hR;var z$="SelectIcon",pR=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(se.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});pR.displayName=z$;var B$="SelectPortal",mR=t=>l.jsx(zh,{asChild:!0,...t});mR.displayName=B$;var Zi="SelectContent",gR=g.forwardRef((t,e)=>{const n=hi(Zi,t.__scopeSelect),[r,s]=g.useState();if(lt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?so.createPortal(l.jsx(yR,{scope:t.__scopeSelect,children:l.jsx(Nf.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(vR,{...t,ref:e})});gR.displayName=Zi;var kn=10,[yR,fi]=Ja(Zi),W$="SelectContentImpl",H$=Ea("SelectContent.RemoveScroll"),vR=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:S,...E}=t,w=hi(Zi,n),[I,j]=g.useState(null),[D,M]=g.useState(null),_=Te(e,te=>j(te)),[T,C]=g.useState(null),[N,P]=g.useState(null),k=Rf(n),[R,B]=g.useState(!1),re=g.useRef(!1);g.useEffect(()=>{if(I)return yN(I)},[I]),lN();const Y=g.useCallback(te=>{const[Re,...ut]=k().map(Ie=>Ie.ref.current),[je]=ut.slice(-1),Ce=document.activeElement;for(const Ie of te)if(Ie===Ce||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Re&&D&&(D.scrollTop=0),Ie===je&&D&&(D.scrollTop=D.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Ce))return},[k,D]),ue=g.useCallback(()=>Y([T,I]),[Y,T,I]);g.useEffect(()=>{R&&ue()},[R,ue]);const{onOpenChange:F,triggerPointerDownPosRef:W}=w;g.useEffect(()=>{if(I){let te={x:0,y:0};const Re=je=>{var Ce,Ie;te={x:Math.abs(Math.round(je.pageX)-(((Ce=W.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Ie=W.current)==null?void 0:Ie.y)??0))}},ut=je=>{te.x<=10&&te.y<=10?je.preventDefault():I.contains(je.target)||F(!1),document.removeEventListener("pointermove",Re),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",ut,{capture:!0})}}},[I,F,W]),g.useEffect(()=>{const te=()=>F(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[F]);const[X,ae]=OR(te=>{const Re=k().filter(Ce=>!Ce.disabled),ut=Re.find(Ce=>Ce.ref.current===document.activeElement),je=MR(Re,te,ut);je&&setTimeout(()=>je.ref.current.focus())}),Se=g.useCallback((te,Re,ut)=>{const je=!re.current&&!ut;(w.value!==void 0&&w.value===Re||je)&&(C(te),je&&(re.current=!0))},[w.value]),gt=g.useCallback(()=>I==null?void 0:I.focus(),[I]),Be=g.useCallback((te,Re,ut)=>{const je=!re.current&&!ut;(w.value!==void 0&&w.value===Re||je)&&P(te)},[w.value]),Yt=r==="popper"?zg:xR,ct=Yt===zg?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:S}:{};return l.jsx(yR,{scope:n,content:I,viewport:D,onViewportChange:M,itemRefCallback:Se,selectedItem:T,onItemLeave:gt,itemTextRefCallback:Be,focusSelectedItem:ue,selectedItemText:N,position:r,isPositioned:R,searchRef:X,children:l.jsx(dx,{as:H$,allowPinchZoom:!0,children:l.jsx(ux,{asChild:!0,trapped:w.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:J(s,te=>{var Re;(Re=w.trigger)==null||Re.focus({preventScroll:!0}),te.preventDefault()}),children:l.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Yt,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:te=>te.preventDefault(),...E,...ct,onPlaced:()=>B(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:J(E.onKeyDown,te=>{const Re=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Re&&te.key.length===1&&ae(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let je=k().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(te.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ce=te.target,Ie=je.indexOf(Ce);je=je.slice(Ie+1)}setTimeout(()=>Y(je)),te.preventDefault()}})})})})})})});vR.displayName=W$;var q$="SelectItemAlignedPosition",xR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=hi(Zi,n),o=fi(Zi,n),[a,c]=g.useState(null),[d,h]=g.useState(null),f=Te(e,_=>h(_)),p=Rf(n),v=g.useRef(!1),b=g.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:E,focusSelectedItem:w}=o,I=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&x&&S&&E){const _=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),N=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=N.left-T.left,Ie=C.left-Ce,_t=_.left-Ie,cn=_.width+_t,pi=Math.max(cn,T.width),br=window.innerWidth-kn,Cr=Fg(Ie,[kn,Math.max(kn,br-pi)]);a.style.minWidth=cn+"px",a.style.left=Cr+"px"}else{const Ce=T.right-N.right,Ie=window.innerWidth-C.right-Ce,_t=window.innerWidth-_.right-Ie,cn=_.width+_t,pi=Math.max(cn,T.width),br=window.innerWidth-kn,Cr=Fg(Ie,[kn,Math.max(kn,br-pi)]);a.style.minWidth=cn+"px",a.style.right=Cr+"px"}const P=p(),k=window.innerHeight-kn*2,R=x.scrollHeight,B=window.getComputedStyle(d),re=parseInt(B.borderTopWidth,10),Y=parseInt(B.paddingTop,10),ue=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),W=re+Y+R+F+ue,X=Math.min(S.offsetHeight*5,W),ae=window.getComputedStyle(x),Se=parseInt(ae.paddingTop,10),gt=parseInt(ae.paddingBottom,10),Be=_.top+_.height/2-kn,Yt=k-Be,ct=S.offsetHeight/2,te=S.offsetTop+ct,Re=re+Y+te,ut=W-Re;if(Re<=Be){const Ce=P.length>0&&S===P[P.length-1].ref.current;a.style.bottom="0px";const Ie=d.clientHeight-x.offsetTop-x.offsetHeight,_t=Math.max(Yt,ct+(Ce?gt:0)+Ie+ue),cn=Re+_t;a.style.height=cn+"px"}else{const Ce=P.length>0&&S===P[0].ref.current;a.style.top="0px";const _t=Math.max(Be,re+x.offsetTop+(Ce?Se:0)+ct)+ut;a.style.height=_t+"px",x.scrollTop=Re-Be+x.offsetTop}a.style.margin=`${kn}px 0`,a.style.minHeight=X+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,a,d,x,S,E,i.dir,r]);lt(()=>I(),[I]);const[j,D]=g.useState();lt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const M=g.useCallback(_=>{_&&b.current===!0&&(I(),w==null||w(),b.current=!1)},[I,w]);return l.jsx(K$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xR.displayName=q$;var G$="SelectPopperPosition",zg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=kn,...i}=t,o=Pf(n);return l.jsx(YI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zg.displayName=G$;var[K$,xx]=Ja(Zi,{}),Bg="SelectViewport",wR=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=fi(Bg,n),o=xx(Bg,n),a=Te(e,i.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Nf.Slot,{scope:n,children:l.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const b=window.innerHeight-kn*2,x=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),E=Math.max(x,S);if(E<b){const w=E+v,I=Math.min(b,w),j=w-I;f.style.height=I+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});wR.displayName=Bg;var _R="SelectGroup",[Q$,Y$]=Ja(_R),X$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$s();return l.jsx(Q$,{scope:n,id:s,children:l.jsx(se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});X$.displayName=_R;var ER="SelectLabel",TR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Y$(ER,n);return l.jsx(se.div,{id:s.id,...r,ref:e})});TR.displayName=ER;var Th="SelectItem",[J$,SR]=Ja(Th),IR=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=hi(Th,n),c=fi(Th,n),d=a.value===r,[h,f]=g.useState(i??""),[p,v]=g.useState(!1),b=Te(e,w=>{var I;return(I=c.itemRefCallback)==null?void 0:I.call(c,w,r,s)}),x=$s(),S=g.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(J$,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:g.useCallback(w=>{f(I=>I||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Nf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(se.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:J(o.onFocus,()=>v(!0)),onBlur:J(o.onBlur,()=>v(!1)),onClick:J(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:J(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:J(o.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:J(o.onPointerMove,w=>{var I;S.current=w.pointerType,s?(I=c.onItemLeave)==null||I.call(c):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(o.onPointerLeave,w=>{var I;w.currentTarget===document.activeElement&&((I=c.onItemLeave)==null||I.call(c))}),onKeyDown:J(o.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(L$.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});IR.displayName=Th;var Ml="SelectItemText",bR=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=hi(Ml,n),a=fi(Ml,n),c=SR(Ml,n),d=$$(Ml,n),[h,f]=g.useState(null),p=Te(e,E=>f(E),c.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,c.value,c.disabled)}),v=h==null?void 0:h.textContent,b=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=d;return lt(()=>(x(b),()=>S(b)),[x,S,b]),l.jsxs(l.Fragment,{children:[l.jsx(se.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?so.createPortal(i.children,o.valueNode):null]})});bR.displayName=Ml;var CR="SelectItemIndicator",AR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return SR(CR,n).isSelected?l.jsx(se.span,{"aria-hidden":!0,...r,ref:e}):null});AR.displayName=CR;var Wg="SelectScrollUpButton",NR=g.forwardRef((t,e)=>{const n=fi(Wg,t.__scopeSelect),r=xx(Wg,t.__scopeSelect),[s,i]=g.useState(!1),o=Te(e,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(PR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});NR.displayName=Wg;var Hg="SelectScrollDownButton",RR=g.forwardRef((t,e)=>{const n=fi(Hg,t.__scopeSelect),r=xx(Hg,t.__scopeSelect),[s,i]=g.useState(!1),o=Te(e,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(PR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});RR.displayName=Hg;var PR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=fi("SelectScrollButton",n),o=g.useRef(null),a=Rf(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),lt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:J(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:J(s.onPointerLeave,()=>{c()})})}),Z$="SelectSeparator",jR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(se.div,{"aria-hidden":!0,...r,ref:e})});jR.displayName=Z$;var qg="SelectArrow",ez=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pf(n),i=hi(qg,n),o=fi(qg,n);return i.open&&o.position==="popper"?l.jsx(XI,{...s,...r,ref:e}):null});ez.displayName=qg;function kR(t){return t===""||t===void 0}var DR=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Te(e,s),o=O$(n);return g.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),l.jsx(Fc,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});DR.displayName="BubbleSelect";function OR(t){const e=Ze(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function MR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=tz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function tz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nz=cR,LR=dR,rz=fR,sz=pR,iz=mR,VR=gR,oz=wR,FR=TR,UR=IR,az=bR,lz=AR,$R=NR,zR=RR,BR=jR;const Oa=nz,Ma=rz,eo=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(LR,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(sz,{asChild:!0,children:l.jsx(yI,{className:"h-4 w-4 opacity-50"})})]}));eo.displayName=LR.displayName;const WR=g.forwardRef(({className:t,...e},n)=>l.jsx($R,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(iO,{className:"h-4 w-4"})}));WR.displayName=$R.displayName;const HR=g.forwardRef(({className:t,...e},n)=>l.jsx(zR,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(yI,{className:"h-4 w-4"})}));HR.displayName=zR.displayName;const to=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(iz,{children:l.jsxs(VR,{ref:s,className:ce("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(WR,{}),l.jsx(oz,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(HR,{})]})}));to.displayName=VR.displayName;const cz=g.forwardRef(({className:t,...e},n)=>l.jsx(FR,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cz.displayName=FR.displayName;const We=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(UR,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(lz,{children:l.jsx(sO,{className:"h-4 w-4"})})}),l.jsx(az,{children:e})]}));We.displayName=UR.displayName;const uz=g.forwardRef(({className:t,...e},n)=>l.jsx(BR,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));uz.displayName=BR.displayName;var wx="Progress",_x=100,[dz,qz]=Jn(wx),[hz,fz]=dz(wx),qR=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=pz,...o}=t;(s||s===0)&&!HE(s)&&console.error(mz(`${s}`,"Progress"));const a=HE(s)?s:_x;r!==null&&!qE(r,a)&&console.error(gz(`${r}`,"Progress"));const c=qE(r,a)?r:null,d=Sh(c)?i(c,a):void 0;return l.jsx(hz,{scope:n,value:c,max:a,children:l.jsx(se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Sh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":QR(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});qR.displayName=wx;var GR="ProgressIndicator",KR=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=fz(GR,n);return l.jsx(se.div,{"data-state":QR(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});KR.displayName=GR;function pz(t,e){return`${Math.round(t/e*100)}%`}function QR(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Sh(t){return typeof t=="number"}function HE(t){return Sh(t)&&!isNaN(t)&&t>0}function qE(t,e){return Sh(t)&&!isNaN(t)&&t<=e&&t>=0}function mz(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_x}\`.`}function gz(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_x} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var YR=qR,yz=KR;const Zo=g.forwardRef(({className:t,value:e,...n},r)=>l.jsx(YR,{ref:r,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(yz,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Zo.displayName=YR.displayName;function vz(){const{user:t}=eu();li();const[e,n]=g.useState("content-generation"),{data:r,isLoading:s}=Gt({queryKey:["/api/ai/performance-metrics",t==null?void 0:t.uid],enabled:!!(t!=null&&t.uid),refetchInterval:3e4}),i=nn({mutationFn:async h=>{const f=await fetch("/api/ai/smart-learning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to process smart learning request");return f.json()}}),o=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/content-generation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to generate content");return f.json()}}),a=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/sentiment-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to analyze sentiment");return f.json()}}),c=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/intent-classification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to classify intent");return f.json()}}),d=nn({mutationFn:async h=>{const f=await fetch("/api/ai/zero-shot/style-transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t==null?void 0:t.uid,...h})});if(!f.ok)throw new Error("Failed to transfer style");return f.json()}});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Smart Learning AI"}),l.jsx("p",{className:"text-muted-foreground",children:"Zero-shot learning with meta-loop adaptation"})]}),l.jsxs(Ht,{variant:"outline",className:"text-sm",children:[l.jsx("i",{className:"fas fa-brain mr-2"}),"Meta-Learning Active"]})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsxs($e,{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-chart-line text-primary"}),"Performance Metrics"]})}),l.jsx(be,{children:s?l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),l.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}):r?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round(r.overallAccuracy*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Accuracy"}),l.jsx(Zo,{value:r.overallAccuracy*100,className:"mt-2"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-accent",children:[Math.round(r.generalizationScore*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Generalization"}),l.jsx(Zo,{value:r.generalizationScore*100,className:"mt-2"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[r.adaptationSpeed,"ms"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Adaptation Speed"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[Math.round(r.confidenceCalibration*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"}),l.jsx(Zo,{value:r.confidenceCalibration*100,className:"mt-2"})]})]}):l.jsx(Bt,{children:l.jsx(Wt,{children:"No performance metrics available. Start using the AI to see metrics."})})})]}),l.jsxs(vx,{value:e,onValueChange:n,children:[l.jsxs(Af,{className:"grid w-full grid-cols-5",children:[l.jsx(Un,{value:"content-generation",children:"Content Generation"}),l.jsx(Un,{value:"sentiment-analysis",children:"Sentiment Analysis"}),l.jsx(Un,{value:"intent-classification",children:"Intent Classification"}),l.jsx(Un,{value:"style-transfer",children:"Style Transfer"}),l.jsx(Un,{value:"meta-learning",children:"Meta Learning"})]}),l.jsx($n,{value:"content-generation",children:l.jsx(xz,{mutation:o})}),l.jsx($n,{value:"sentiment-analysis",children:l.jsx(wz,{mutation:a})}),l.jsx($n,{value:"intent-classification",children:l.jsx(_z,{mutation:c})}),l.jsx($n,{value:"style-transfer",children:l.jsx(Ez,{mutation:d})}),l.jsx($n,{value:"meta-learning",children:l.jsx(Tz,{mutation:i})})]})]})}function xz({mutation:t}){var c;const[e,n]=g.useState(""),[r,s]=g.useState("social_media"),[i,o]=g.useState("professional"),a=()=>{e.trim()&&t.mutate({prompt:e,topic:r,style:i})};return l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Zero-Shot Content Generation"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Prompt"}),l.jsx(Xn,{placeholder:"Enter your content prompt...",value:e,onChange:d=>n(d.target.value),rows:4})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Topic"}),l.jsxs(Oa,{value:r,onValueChange:s,children:[l.jsx(eo,{children:l.jsx(Ma,{})}),l.jsxs(to,{children:[l.jsx(We,{value:"social_media",children:"Social Media"}),l.jsx(We,{value:"technical",children:"Technical"}),l.jsx(We,{value:"creative",children:"Creative"}),l.jsx(We,{value:"analytical",children:"Analytical"}),l.jsx(We,{value:"conversational",children:"Conversational"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Style"}),l.jsxs(Oa,{value:i,onValueChange:o,children:[l.jsx(eo,{children:l.jsx(Ma,{})}),l.jsxs(to,{children:[l.jsx(We,{value:"professional",children:"Professional"}),l.jsx(We,{value:"casual",children:"Casual"}),l.jsx(We,{value:"formal",children:"Formal"}),l.jsx(We,{value:"friendly",children:"Friendly"}),l.jsx(We,{value:"technical",children:"Technical"})]})]})]})]}),l.jsx(ee,{onClick:a,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Generating...":"Generate Content"}),t.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:(c=t.error)==null?void 0:c.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(er,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Generated Content:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t.data.output})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",t.data.executionTime,"ms"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",t.data.adaptationType]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Explanation:"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.data.explanation})]})]})]})]})}function wz({mutation:t}){var s;const[e,n]=g.useState(""),r=()=>{e.trim()&&t.mutate({text:e})};return l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Zero-Shot Sentiment Analysis"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Text to Analyze"}),l.jsx(Xn,{placeholder:"Enter text for sentiment analysis...",value:e,onChange:i=>n(i.target.value),rows:4})]}),l.jsx(ee,{onClick:r,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Analyzing...":"Analyze Sentiment"}),t.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:(s=t.error)==null?void 0:s.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(er,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Sentiment Analysis Result:"}),l.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:t.data.output>.1?"😊 Positive":t.data.output<-.1?"😞 Negative":"😐 Neutral"}),l.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Score: ",t.data.output.toFixed(3)]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function _z({mutation:t}){var s;const[e,n]=g.useState(""),r=()=>{e.trim()&&t.mutate({text:e})};return l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Zero-Shot Intent Classification"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Text to Classify"}),l.jsx(Xn,{placeholder:"Enter text for intent classification...",value:e,onChange:i=>n(i.target.value),rows:4})]}),l.jsx(ee,{onClick:r,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Classifying...":"Classify Intent"}),t.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:(s=t.error)==null?void 0:s.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(er,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Intent Classification Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg text-center",children:l.jsx(Ht,{variant:"outline",className:"text-lg",children:t.data.output})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function Ez({mutation:t}){var o;const[e,n]=g.useState(""),[r,s]=g.useState("professional"),i=()=>{e.trim()&&t.mutate({text:e,targetStyle:r})};return l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Zero-Shot Style Transfer"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Original Text"}),l.jsx(Xn,{placeholder:"Enter text to transfer style...",value:e,onChange:a=>n(a.target.value),rows:4})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Style"}),l.jsxs(Oa,{value:r,onValueChange:s,children:[l.jsx(eo,{children:l.jsx(Ma,{})}),l.jsxs(to,{children:[l.jsx(We,{value:"professional",children:"Professional"}),l.jsx(We,{value:"casual",children:"Casual"}),l.jsx(We,{value:"formal",children:"Formal"}),l.jsx(We,{value:"friendly",children:"Friendly"}),l.jsx(We,{value:"technical",children:"Technical"})]})]})]}),l.jsx(ee,{onClick:i,disabled:!e.trim()||t.isPending,className:"w-full",children:t.isPending?"Transferring...":"Transfer Style"}),t.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:(o=t.error)==null?void 0:o.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(er,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Style Transfer Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t.data.output})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]})]})]})]})]})}function Tz({mutation:t}){var c;const[e,n]=g.useState("content_generation"),[r,s]=g.useState(""),[i,o]=g.useState(""),a=()=>{if(!r.trim())return;let d={};try{d=i?JSON.parse(i):{}}catch{console.error("Invalid metadata JSON")}t.mutate({taskType:e,inputData:r,metadata:d})};return l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Meta Learning System"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Task Type"}),l.jsxs(Oa,{value:e,onValueChange:n,children:[l.jsx(eo,{children:l.jsx(Ma,{})}),l.jsxs(to,{children:[l.jsx(We,{value:"content_generation",children:"Content Generation"}),l.jsx(We,{value:"sentiment_analysis",children:"Sentiment Analysis"}),l.jsx(We,{value:"intent_classification",children:"Intent Classification"}),l.jsx(We,{value:"style_transfer",children:"Style Transfer"}),l.jsx(We,{value:"custom",children:"Custom Task"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Input Data"}),l.jsx(Xn,{placeholder:"Enter input data for meta learning...",value:r,onChange:d=>s(d.target.value),rows:4})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Metadata (JSON)"}),l.jsx(Xn,{placeholder:'{"key": "value"}',value:i,onChange:d=>o(d.target.value),rows:2})]}),l.jsx(ee,{onClick:a,disabled:!r.trim()||t.isPending,className:"w-full",children:t.isPending?"Meta Learning...":"Execute Meta Learning"}),t.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:(c=t.error)==null?void 0:c.message})}),t.isSuccess&&t.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(er,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Meta Learning Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:l.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(t.data.output,null,2)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(t.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Strategy:"})," ",t.data.strategy]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",t.data.executionTime,"ms"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Type:"})," ",t.data.adaptationType]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Explanation:"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.data.explanation})]})]})]})]})}function Sz(){return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(lo,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(co,{title:"Smart Learning AI",subtitle:"Zero-shot learning with meta-loop adaptation",actions:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Meta-Learning:"}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm text-green-500",children:"Active"})]})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsx(vz,{})})})]})]})}function Iz(){var w,I,j,D,M;const{user:t}=eu();li();const[e,n]=g.useState(null),[r,s]=g.useState({}),[i,o]=g.useState("tools"),{data:a,isLoading:c}=Gt({queryKey:["/api/ai-tools"],refetchInterval:3e4}),{data:d}=Gt({queryKey:["/api/ai-tools/categories"],refetchInterval:3e4}),{data:h}=Gt({queryKey:["/api/ai-tools/analytics"],refetchInterval:3e4}),f=nn({mutationFn:async({toolId:_,params:T})=>{const C=await fetch(`/api/ai-tools/${_}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:T,context:{userId:t==null?void 0:t.uid,sessionId:`session_${Date.now()}`,metadata:{source:"ui"}}})});if(!C.ok)throw new Error("Failed to execute tool");return C.json()}}),p=nn({mutationFn:async({query:_,category:T})=>{const C=await fetch("/api/ai-tools/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:_,category:T})});if(!C.ok)throw new Error("Failed to discover tools");return C.json()}}),v=_=>{n(_),s({})},b=(_,T)=>{s(C=>({...C,[_]:T}))},x=()=>{e&&f.mutate({toolId:e.id,params:r})},S=_=>({content:"fas fa-edit",analysis:"fas fa-chart-line",data_extraction:"fas fa-download",media:"fas fa-image",integration:"fas fa-plug",automation:"fas fa-cogs",monitoring:"fas fa-eye",nlp:"fas fa-language"})[_]||"fas fa-tool",E=_=>({content:"bg-blue-500",analysis:"bg-green-500",data_extraction:"bg-purple-500",media:"bg-pink-500",integration:"bg-orange-500",automation:"bg-red-500",monitoring:"bg-yellow-500",nlp:"bg-indigo-500"})[_]||"bg-gray-500";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Advanced AI Tools"}),l.jsx("p",{className:"text-muted-foreground",children:"Powerful AI tools with MCP integration"})]}),l.jsxs(Ht,{variant:"outline",className:"text-sm",children:[l.jsx("i",{className:"fas fa-brain mr-2"}),"MCP Enabled"]})]}),h&&l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsxs($e,{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-chart-bar text-primary"}),"Tools Analytics"]})}),l.jsx(be,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:h.totalTools||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tools"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-accent",children:((w=h.categories)==null?void 0:w.length)||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Categories"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-500",children:h.totalExecutions||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Executions"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[Math.round(((I=h.toolStats)==null?void 0:I.reduce((_,T)=>_+T.usage.successRate,0))/(((j=h.toolStats)==null?void 0:j.length)||1)*100),"%"]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Success Rate"})]})]})})]}),l.jsxs(vx,{value:i,onValueChange:o,children:[l.jsxs(Af,{className:"grid w-full grid-cols-3",children:[l.jsx(Un,{value:"tools",children:"AI Tools"}),l.jsx(Un,{value:"discover",children:"Discover"}),l.jsx(Un,{value:"analytics",children:"Analytics"})]}),l.jsx($n,{value:"tools",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Available Tools"})}),l.jsx(be,{className:"space-y-4",children:c?l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((_,T)=>l.jsx("div",{className:"h-16 bg-muted rounded"},T))}):a?a.map(_=>l.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(e==null?void 0:e.id)===_.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>v(_),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg ${E(_.category)} flex items-center justify-center`,children:l.jsx("i",{className:`${S(_.category)} text-white`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-semibold text-sm",children:_.name}),l.jsxs(Ht,{variant:"secondary",className:"text-xs",children:["v",_.version]}),_.isActive?l.jsx(Ht,{variant:"default",className:"text-xs",children:"Active"}):l.jsx(Ht,{variant:"outline",className:"text-xs",children:"Inactive"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[_.usage.totalCalls," calls"]}),l.jsxs("span",{children:[Math.round(_.usage.successRate*100),"% success"]}),l.jsxs("span",{children:[_.usage.averageExecutionTime,"ms avg"]})]})]})]})},_.id)):l.jsx(Bt,{children:l.jsx(Wt,{children:"No AI tools available"})})})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:e?`Execute: ${e.name}`:"Select a Tool"})}),l.jsx(be,{className:"space-y-4",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-4",children:e.parameters.map(_=>{var T;return l.jsxs("div",{children:[l.jsxs(Do,{htmlFor:_.name,className:"text-sm font-medium",children:[_.name,_.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("div",{className:"mt-1",children:_.type==="string"&&_.name.includes("text")?l.jsx(Xn,{id:_.name,placeholder:_.description,value:r[_.name]||"",onChange:C=>b(_.name,C.target.value),rows:3}):_.type==="boolean"?l.jsxs(Oa,{value:((T=r[_.name])==null?void 0:T.toString())||"",onValueChange:C=>b(_.name,C==="true"),children:[l.jsx(eo,{children:l.jsx(Ma,{placeholder:_.description})}),l.jsxs(to,{children:[l.jsx(We,{value:"true",children:"True"}),l.jsx(We,{value:"false",children:"False"})]})]}):l.jsx(si,{id:_.name,type:_.type==="number"?"number":"text",placeholder:_.description,value:r[_.name]||"",onChange:C=>b(_.name,_.type==="number"?Number(C.target.value):C.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_.description})]},_.name)})}),l.jsx(ee,{onClick:x,disabled:f.isPending,className:"w-full",children:f.isPending?"Executing...":"Execute Tool"}),f.isError&&l.jsx(Bt,{variant:"destructive",children:l.jsx(Wt,{children:(D=f.error)==null?void 0:D.message})}),f.isSuccess&&f.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(er,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Execution Result:"}),l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(f.data.data,null,2)})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Success:"})," ",f.data.success?"Yes":"No"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution Time:"})," ",f.data.executionTime,"ms"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(f.data.confidence*100),"%"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Tool Used:"})," ",f.data.toolUsed]})]}),f.data.suggestions&&f.data.suggestions.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Suggestions:"}),l.jsx("ul",{className:"text-sm text-muted-foreground mt-1",children:f.data.suggestions.map((_,T)=>l.jsxs("li",{children:["• ",_]},T))})]})]})]}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("i",{className:"fas fa-tools text-4xl mb-4"}),l.jsx("p",{children:"Select a tool from the list to execute it"})]})})]})]})}),l.jsx($n,{value:"discover",children:l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Discover AI Tools"})}),l.jsxs(be,{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(si,{placeholder:"Search for tools...",value:((M=p.variables)==null?void 0:M.query)||"",onChange:_=>{}}),l.jsxs(Oa,{children:[l.jsx(eo,{className:"w-48",children:l.jsx(Ma,{placeholder:"Category"})}),l.jsx(to,{children:d==null?void 0:d.map(_=>l.jsx(We,{value:_,children:_},_))})]}),l.jsx(ee,{onClick:()=>{p.mutate({query:"content generation",category:"content"})},children:"Search"})]}),p.isSuccess&&p.data&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium",children:"Search Results:"}),p.data.map(_=>l.jsx("div",{className:"p-4 border rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded ${E(_.category)} flex items-center justify-center`,children:l.jsx("i",{className:`${S(_.category)} text-white text-sm`})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h5",{className:"font-semibold",children:_.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:_.description}),l.jsx("div",{className:"flex gap-2 mt-2",children:_.capabilities.map(T=>l.jsx(Ht,{variant:"outline",className:"text-xs",children:T},T))})]})]})},_.id))]})]})]})}),l.jsx($n,{value:"analytics",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Tool Performance"})}),l.jsx(be,{children:h!=null&&h.toolStats?l.jsx("div",{className:"space-y-4",children:h.toolStats.map(_=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:_.name}),l.jsxs("span",{children:[Math.round(_.usage.successRate*100),"%"]})]}),l.jsx(Zo,{value:_.usage.successRate*100})]},_.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("i",{className:"fas fa-chart-line text-4xl mb-4"}),l.jsx("p",{children:"No analytics data available"})]})})]}),l.jsxs(me,{children:[l.jsx(Oe,{children:l.jsx($e,{children:"Category Distribution"})}),l.jsx(be,{children:d?l.jsx("div",{className:"space-y-4",children:d.map(_=>{const T=(a==null?void 0:a.filter(N=>N.category===_))||[],C=a?T.length/a.length*100:0;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"capitalize",children:_}),l.jsxs("span",{children:[T.length," tools"]})]}),l.jsx(Zo,{value:C})]},_)})}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("i",{className:"fas fa-chart-pie text-4xl mb-4"}),l.jsx("p",{children:"No category data available"})]})})]})]})})]})]})}function bz(){return l.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[l.jsx(lo,{}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(co,{title:"Advanced AI Tools",subtitle:"Powerful AI tools with MCP integration",actions:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"MCP:"}),l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm text-green-500",children:"Connected"})]})}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:l.jsx(Iz,{})})})]})]})}function Cz(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(me,{className:"w-full max-w-md mx-4",children:l.jsxs(be,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(oO,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Az(){return l.jsx(P5,{children:l.jsxs(C2,{children:[l.jsx(as,{path:"/",component:t9}),l.jsx(as,{path:"/social-feed",component:f$}),l.jsx(as,{path:"/workflows",component:g$}),l.jsx(as,{path:"/ai-agents",component:j$}),l.jsx(as,{path:"/telegram",component:D$}),l.jsx(as,{path:"/smart-learning",component:Sz}),l.jsx(as,{path:"/advanced-ai-tools",component:bz}),l.jsx(as,{component:Cz})]})})}function Nz(){return l.jsx(w5,{children:l.jsx(G2,{client:oD,children:l.jsx(vL,{children:l.jsxs(mL,{children:[l.jsx(zO,{}),l.jsx(Az,{})]})})})})}y1(document.getElementById("root")).render(l.jsx(Nz,{}));
