<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings - AuraOS</title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#00d9ff" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/icons/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <style>
      .settings-page {
        min-height: 100vh;
        background: linear-gradient(
          135deg,
          var(--bg-dark) 0%,
          var(--bg-primary) 25%,
          var(--bg-secondary) 50%,
          var(--bg-tertiary) 75%,
          var(--bg-primary) 100%
        );
        background-attachment: fixed;
        position: relative;
        padding: var(--spacing-6);
      }

      .settings-page::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
          radial-gradient(
            circle at 20% 20%,
            rgba(0, 217, 255, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(255, 107, 157, 0.08) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 40% 60%,
            rgba(157, 78, 221, 0.06) 0%,
            transparent 50%
          );
        pointer-events: none;
        z-index: -1;
        animation: ambient-glow 8s ease-in-out infinite alternate;
      }

      .settings-container {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 300px 1fr;
        gap: var(--spacing-8);
        animation: fadeInUp 0.8s ease-out;
      }

      /* Settings Navigation */
      .settings-nav {
        background: rgba(30, 41, 59, 0.8);
        backdrop-filter: blur(20px);
        border-radius: var(--radius-xl);
        border: 1px solid var(--border-color);
        box-shadow: var(--glow-sm), var(--shadow-md);
        height: fit-content;
        overflow: hidden;
      }

      .settings-nav-header {
        padding: var(--spacing-6);
        border-bottom: 1px solid var(--border-color);
        text-align: center;
      }

      .settings-nav-title {
        font-size: var(--font-size-xl);
        font-weight: 700;
        color: var(--text-primary);
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-2);
      }

      .settings-nav-title i {
        color: var(--primary-color);
        animation: neon-pulse 3s ease-in-out infinite;
      }

      .nav-back {
        display: flex;
        align-items: center;
        gap: var(--spacing-2);
        color: var(--text-secondary);
        text-decoration: none;
        font-size: var(--font-size-sm);
        margin-bottom: var(--spacing-4);
        padding: var(--spacing-2);
        border-radius: var(--radius-md);
        transition: var(--transition-fast);
      }

      .nav-back:hover {
        color: var(--primary-color);
        background: rgba(0, 217, 255, 0.1);
        transform: translateX(-2px);
      }

      .settings-nav-list {
        padding: var(--spacing-4) 0;
      }

      .nav-section {
        margin-bottom: var(--spacing-6);
      }

      .nav-section-title {
        padding: 0 var(--spacing-6);
        color: var(--text-light);
        font-size: var(--font-size-xs);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-bottom: var(--spacing-3);
        opacity: 0.7;
      }

      .nav-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-3);
        padding: var(--spacing-3) var(--spacing-6);
        color: var(--text-secondary);
        text-decoration: none;
        font-size: var(--font-size-sm);
        font-weight: 500;
        transition: all var(--transition-fast);
        position: relative;
        cursor: pointer;
      }

      .nav-item:hover,
      .nav-item.active {
        color: var(--primary-color);
        background: rgba(0, 217, 255, 0.1);
        transform: translateX(5px);
      }

      .nav-item.active::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: var(--primary-color);
        box-shadow: var(--glow-sm);
      }

      .nav-item i {
        width: 20px;
        text-align: center;
        font-size: var(--font-size-base);
      }

      /* Settings Content */
      .settings-content {
        background: rgba(30, 41, 59, 0.8);
        backdrop-filter: blur(20px);
        border-radius: var(--radius-xl);
        border: 1px solid var(--border-color);
        box-shadow: var(--glow-sm), var(--shadow-md);
        overflow: hidden;
      }

      .content-header {
        padding: var(--spacing-6);
        border-bottom: 1px solid var(--border-color);
      }

      .content-title {
        font-size: var(--font-size-2xl);
        font-weight: 700;
        color: var(--text-primary);
        margin: 0 0 var(--spacing-2) 0;
      }

      .content-subtitle {
        color: var(--text-secondary);
        font-size: var(--font-size-base);
        margin: 0;
      }

      .content-body {
        padding: var(--spacing-6);
      }

      .settings-section {
        display: none;
        animation: fadeInUp 0.4s ease-out;
      }

      .settings-section.active {
        display: block;
      }

      .section-group {
        margin-bottom: var(--spacing-8);
      }

      .group-title {
        font-size: var(--font-size-lg);
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: var(--spacing-4);
        display: flex;
        align-items: center;
        gap: var(--spacing-2);
      }

      .group-title i {
        color: var(--primary-color);
      }

      .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-4);
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-lg);
        margin-bottom: var(--spacing-4);
        transition: all var(--transition-fast);
      }

      .setting-item:hover {
        background: rgba(0, 217, 255, 0.05);
        border-color: var(--primary-color);
        transform: translateX(2px);
      }

      .setting-info {
        flex: 1;
      }

      .setting-title {
        font-size: var(--font-size-base);
        font-weight: 500;
        color: var(--text-primary);
        margin-bottom: var(--spacing-1);
      }

      .setting-description {
        font-size: var(--font-size-sm);
        color: var(--text-secondary);
        line-height: 1.4;
      }

      .setting-control {
        margin-left: var(--spacing-4);
      }

      /* Toggle Switch */
      .toggle-switch {
        position: relative;
        width: 50px;
        height: 26px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 13px;
        cursor: pointer;
        transition: background-color var(--transition-fast);
        border: 1px solid var(--border-color);
      }

      .toggle-switch.active {
        background: var(--primary-color);
        box-shadow: var(--glow-sm);
      }

      .toggle-slider {
        position: absolute;
        top: 2px;
        left: 2px;
        width: 20px;
        height: 20px;
        background: white;
        border-radius: 50%;
        transition: transform var(--transition-fast);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .toggle-switch.active .toggle-slider {
        transform: translateX(24px);
        background: #000000;
      }

      /* Select Dropdown */
      .select-dropdown {
        position: relative;
        min-width: 150px;
      }

      .select-button {
        width: 100%;
        padding: var(--spacing-3) var(--spacing-4);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        color: var(--text-primary);
        font-size: var(--font-size-sm);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: all var(--transition-fast);
      }

      .select-button:hover {
        border-color: var(--primary-color);
        background: rgba(0, 217, 255, 0.1);
      }

      .select-options {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(30, 41, 59, 0.95);
        backdrop-filter: blur(20px);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        z-index: 10;
        display: none;
        overflow: hidden;
      }

      .select-options.open {
        display: block;
        animation: fadeInDown 0.2s ease-out;
      }

      .select-option {
        padding: var(--spacing-3) var(--spacing-4);
        color: var(--text-secondary);
        cursor: pointer;
        transition: all var(--transition-fast);
        font-size: var(--font-size-sm);
      }

      .select-option:hover,
      .select-option.selected {
        background: rgba(0, 217, 255, 0.1);
        color: var(--primary-color);
      }

      /* Input Field */
      .input-field {
        padding: var(--spacing-3) var(--spacing-4);
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-md);
        color: var(--text-primary);
        font-size: var(--font-size-sm);
        min-width: 200px;
        transition: all var(--transition-fast);
      }

      .input-field:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
        background: rgba(255, 255, 255, 0.08);
      }

      /* Color Picker */
      .color-picker {
        display: flex;
        gap: var(--spacing-2);
      }

      .color-option {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all var(--transition-fast);
        position: relative;
      }

      .color-option.selected {
        border-color: var(--primary-color);
        box-shadow: var(--glow-sm);
      }

      .color-option::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        opacity: 0;
        transition: opacity var(--transition-fast);
      }

      .color-option.selected::after {
        opacity: 1;
      }

      /* Range Slider */
      .range-slider {
        width: 200px;
        height: 6px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
        outline: none;
        appearance: none;
        cursor: pointer;
      }

      .range-slider::-webkit-slider-thumb {
        appearance: none;
        width: 18px;
        height: 18px;
        background: var(--primary-color);
        border-radius: 50%;
        cursor: pointer;
        box-shadow: var(--glow-sm);
      }

      .range-slider::-moz-range-thumb {
        width: 18px;
        height: 18px;
        background: var(--primary-color);
        border-radius: 50%;
        cursor: pointer;
        border: none;
        box-shadow: var(--glow-sm);
      }

      /* Button Styles */
      .btn-primary {
        background: var(--primary-gradient);
        color: #000000;
        border: none;
        padding: var(--spacing-3) var(--spacing-6);
        border-radius: var(--radius-lg);
        font-size: var(--font-size-sm);
        font-weight: 600;
        cursor: pointer;
        transition: all var(--transition-normal);
        box-shadow: var(--glow-sm), var(--shadow-sm);
      }

      .btn-primary:hover {
        background: var(--secondary-gradient);
        transform: translateY(-2px);
        box-shadow: var(--glow-md), var(--shadow-md);
      }

      .btn-secondary {
        background: transparent;
        color: var(--primary-color);
        border: 1px solid var(--primary-color);
        padding: var(--spacing-3) var(--spacing-6);
        border-radius: var(--radius-lg);
        font-size: var(--font-size-sm);
        font-weight: 600;
        cursor: pointer;
        transition: all var(--transition-normal);
      }

      .btn-secondary:hover {
        background: rgba(0, 217, 255, 0.1);
        transform: translateY(-1px);
      }

      .btn-danger {
        background: var(--error-gradient);
        color: #000000;
        border: none;
        padding: var(--spacing-3) var(--spacing-6);
        border-radius: var(--radius-lg);
        font-size: var(--font-size-sm);
        font-weight: 600;
        cursor: pointer;
        transition: all var(--transition-normal);
      }

      .btn-danger:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(255, 71, 87, 0.3);
      }

      /* Profile Section */
      .profile-section {
        display: flex;
        align-items: center;
        gap: var(--spacing-6);
        padding: var(--spacing-6);
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-lg);
        margin-bottom: var(--spacing-6);
      }

      .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--primary-gradient);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #000000;
        font-size: var(--font-size-2xl);
        font-weight: 700;
        box-shadow: var(--glow-md);
        position: relative;
        cursor: pointer;
      }

      .avatar-edit {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 24px;
        height: 24px;
        background: var(--accent-color);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: var(--font-size-xs);
        cursor: pointer;
        border: 2px solid var(--bg-secondary);
      }

      .profile-info {
        flex: 1;
      }

      .profile-name {
        font-size: var(--font-size-xl);
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: var(--spacing-1);
      }

      .profile-email {
        font-size: var(--font-size-base);
        color: var(--text-secondary);
        margin-bottom: var(--spacing-3);
      }

      .profile-status {
        display: inline-flex;
        align-items: center;
        gap: var(--spacing-2);
        padding: var(--spacing-1) var(--spacing-3);
        background: rgba(16, 185, 129, 0.1);
        color: var(--success-color);
        border-radius: var(--radius-md);
        font-size: var(--font-size-sm);
        font-weight: 500;
      }

      .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--success-color);
        animation: pulse 2s ease-in-out infinite;
      }

      /* Mobile Responsive */
      @media (max-width: 1024px) {
        .settings-container {
          grid-template-columns: 1fr;
          gap: var(--spacing-6);
        }

        .settings-nav {
          order: 2;
        }

        .settings-content {
          order: 1;
        }
      }

      @media (max-width: 768px) {
        .settings-page {
          padding: var(--spacing-4);
        }

        .profile-section {
          flex-direction: column;
          text-align: center;
        }

        .setting-item {
          flex-direction: column;
          align-items: flex-start;
          gap: var(--spacing-3);
        }

        .setting-control {
          margin-left: 0;
        }

        .input-field,
        .range-slider {
          width: 100%;
        }
      }

      /* Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
    </style>
    <!-- Firebase SDKs (compat for script.js usage) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  </head>
  <body>
    <div class="settings-page">
      <div class="settings-container">
        <!-- Settings Navigation -->
        <nav class="settings-nav">
          <div class="settings-nav-header">
            <a href="dashboard.html" class="nav-back">
              <i class="fas fa-arrow-left"></i>
              <span>Back to Dashboard</span>
            </a>
            <h2 class="settings-nav-title">
              <i class="fas fa-cog"></i>
              Settings
            </h2>
          </div>

          <div class="settings-nav-list">
            <div class="nav-section">
              <div class="nav-section-title">Account</div>
              <div class="nav-item active" data-section="profile">
                <i class="fas fa-user"></i>
                <span>Profile</span>
              </div>
              <div class="nav-item" data-section="security">
                <i class="fas fa-shield-alt"></i>
                <span>Security</span>
              </div>
              <div class="nav-item" data-section="privacy">
                <i class="fas fa-eye"></i>
                <span>Privacy</span>
              </div>
            </div>

            <div class="nav-section">
              <div class="nav-section-title">Preferences</div>
              <div class="nav-item" data-section="appearance">
                <i class="fas fa-palette"></i>
                <span>Appearance</span>
              </div>
              <div class="nav-item" data-section="notifications">
                <i class="fas fa-bell"></i>
                <span>Notifications</span>
              </div>
              <div class="nav-item" data-section="language">
                <i class="fas fa-globe"></i>
                <span>Language</span>
              </div>
            </div>

            <div class="nav-section">
              <div class="nav-section-title">System</div>
              <div class="nav-item" data-section="performance">
                <i class="fas fa-tachometer-alt"></i>
                <span>Performance</span>
              </div>
              <div class="nav-item" data-section="storage">
                <i class="fas fa-hdd"></i>
                <span>Storage</span>
              </div>
              <div class="nav-item" data-section="advanced">
                <i class="fas fa-cogs"></i>
                <span>Advanced</span>
              </div>
            </div>
          </div>
        </nav>

        <!-- Settings Content -->
        <main class="settings-content">
          <div class="content-header">
            <h1 class="content-title" id="contentTitle">Profile Settings</h1>
            <p class="content-subtitle" id="contentSubtitle">
              Manage your account information and preferences
            </p>
          </div>

          <div class="content-body">
            <!-- Profile Section -->
            <div class="settings-section active" id="profile-section">
              <div class="profile-section">
                <div class="profile-avatar" id="profileAvatar">
                  A
                  <div class="avatar-edit">
                    <i class="fas fa-camera"></i>
                  </div>
                </div>
                <div class="profile-info">
                  <div class="profile-name" id="profileName">AuraOS User</div>
                  <div class="profile-email" id="profileEmail">
                    user@auraos.com
                  </div>
                  <div class="profile-status">
                    <div class="status-dot"></div>
                    <span>Online</span>
                  </div>
                </div>
              </div>

              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-user"></i>
                  Personal Information
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Display Name</div>
                    <div class="setting-description">
                      Your name as it appears to others
                    </div>
                  </div>
                  <div class="setting-control">
                    <input
                      type="text"
                      class="input-field"
                      value="AuraOS User"
                      id="displayName"
                    />
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Email Address</div>
                    <div class="setting-description">
                      Your primary email for notifications and login
                    </div>
                  </div>
                  <div class="setting-control">
                    <input
                      type="email"
                      class="input-field"
                      value="user@auraos.com"
                      id="emailAddress"
                    />
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Bio</div>
                    <div class="setting-description">
                      Tell others about yourself
                    </div>
                  </div>
                  <div class="setting-control">
                    <input
                      type="text"
                      class="input-field"
                      placeholder="Add a bio..."
                      id="userBio"
                    />
                  </div>
                </div>
              </div>

              <div style="display: flex; gap: 1rem; justify-content: flex-end">
                <button class="btn-secondary">Cancel</button>
                <button class="btn-primary" id="saveProfile">
                  Save Changes
                </button>
              </div>
            </div>

            <!-- Security Section -->
            <div class="settings-section" id="security-section">
              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-shield-alt"></i>
                  Password & Authentication
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Change Password</div>
                    <div class="setting-description">
                      Update your account password
                    </div>
                  </div>
                  <div class="setting-control">
                    <button class="btn-primary">Change Password</button>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Two-Factor Authentication</div>
                    <div class="setting-description">
                      Add an extra layer of security to your account
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="toggle-switch" id="twoFactorToggle">
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Login Notifications</div>
                    <div class="setting-description">
                      Get notified when someone signs into your account
                    </div>
                  </div>
                  <div class="setting-control">
                    <div
                      class="toggle-switch active"
                      id="loginNotificationsToggle"
                    >
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-history"></i>
                  Session Management
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Active Sessions</div>
                    <div class="setting-description">
                      Manage devices signed into your account
                    </div>
                  </div>
                  <div class="setting-control">
                    <button class="btn-secondary">View Sessions</button>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Sign Out All Devices</div>
                    <div class="setting-description">
                      Sign out from all devices except this one
                    </div>
                  </div>
                  <div class="setting-control">
                    <button class="btn-danger">Sign Out All</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Appearance Section -->
            <div class="settings-section" id="appearance-section">
              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-palette"></i>
                  Theme & Colors
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Theme Mode</div>
                    <div class="setting-description">
                      Choose your preferred theme
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="select-dropdown">
                      <div class="select-button" id="themeSelect">
                        <span>Dark Mode</span>
                        <i class="fas fa-chevron-down"></i>
                      </div>
                      <div class="select-options">
                        <div class="select-option selected">Dark Mode</div>
                        <div class="select-option">Light Mode</div>
                        <div class="select-option">Auto</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Accent Color</div>
                    <div class="setting-description">
                      Customize your interface color
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="color-picker">
                      <div
                        class="color-option selected"
                        style="background: #00d9ff"
                        data-color="#00d9ff"
                      ></div>
                      <div
                        class="color-option"
                        style="background: #ff6b9d"
                        data-color="#ff6b9d"
                      ></div>
                      <div
                        class="color-option"
                        style="background: #9d4edd"
                        data-color="#9d4edd"
                      ></div>
                      <div
                        class="color-option"
                        style="background: #00ff88"
                        data-color="#00ff88"
                      ></div>
                      <div
                        class="color-option"
                        style="background: #ffb347"
                        data-color="#ffb347"
                      ></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Animation Speed</div>
                    <div class="setting-description">
                      Control interface animation speed
                    </div>
                  </div>
                  <div class="setting-control">
                    <input
                      type="range"
                      class="range-slider"
                      min="0.5"
                      max="2"
                      step="0.1"
                      value="1"
                      id="animationSpeed"
                    />
                  </div>
                </div>
              </div>

              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-desktop"></i>
                  Display Settings
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Sidebar Collapsed</div>
                    <div class="setting-description">
                      Start with sidebar collapsed
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="toggle-switch" id="sidebarCollapsedToggle">
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Reduce Motion</div>
                    <div class="setting-description">
                      Minimize animations and transitions
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="toggle-switch" id="reduceMotionToggle">
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Notifications Section -->
            <div class="settings-section" id="notifications-section">
              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-bell"></i>
                  Push Notifications
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Enable Notifications</div>
                    <div class="setting-description">
                      Receive push notifications from AuraOS
                    </div>
                  </div>
                  <div class="setting-control">
                    <div
                      class="toggle-switch active"
                      id="pushNotificationsToggle"
                    >
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">System Updates</div>
                    <div class="setting-description">
                      Notifications about system updates and maintenance
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="toggle-switch active" id="systemUpdatesToggle">
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Task Reminders</div>
                    <div class="setting-description">
                      Get reminded about upcoming tasks and deadlines
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="toggle-switch active" id="taskRemindersToggle">
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-volume-up"></i>
                  Sound & Alerts
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Notification Sounds</div>
                    <div class="setting-description">
                      Play sounds for notifications
                    </div>
                  </div>
                  <div class="setting-control">
                    <div
                      class="toggle-switch active"
                      id="notificationSoundsToggle"
                    >
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Sound Volume</div>
                    <div class="setting-description">
                      Adjust notification volume level
                    </div>
                  </div>
                  <div class="setting-control">
                    <input
                      type="range"
                      class="range-slider"
                      min="0"
                      max="100"
                      value="75"
                      id="soundVolume"
                    />
                  </div>
                </div>
              </div>
            </div>

            <!-- Performance Section -->
            <div class="settings-section" id="performance-section">
              <div class="section-group">
                <div class="group-title">
                  <i class="fas fa-tachometer-alt"></i>
                  Performance Optimization
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Hardware Acceleration</div>
                    <div class="setting-description">
                      Use GPU acceleration when available
                    </div>
                  </div>
                  <div class="setting-control">
                    <div
                      class="toggle-switch active"
                      id="hardwareAccelerationToggle"
                    >
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Background Sync</div>
                    <div class="setting-description">
                      Sync data in the background
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="toggle-switch active" id="backgroundSyncToggle">
                      <div class="toggle-slider"></div>
                    </div>
                  </div>
                </div>
                <div class="setting-item">
                  <div class="setting-info">
                    <div class="setting-title">Performance Mode</div>
                    <div class="setting-description">
                      Optimize for performance or battery life
                    </div>
                  </div>
                  <div class="setting-control">
                    <div class="select-dropdown">
                      <div class="select-button" id="performanceModeSelect">
                        <span>Balanced</span>
                        <i class="fas fa-chevron-down"></i>
                      </div>
                      <div class="select-options">
                        <div class="select-option">Performance</div>
                        <div class="select-option selected">Balanced</div>
                        <div class="select-option">Power Saver</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script src="router.js"></script>
    <script src="script.js"></script>
    <script>
      // Settings Manager
      class SettingsManager {
        constructor() {
          this.currentSection = 'profile';
          this.settings = this.loadSettings();
          this.init();
        }

        init() {
          this.setupNavigation();
          this.setupControls();
          this.loadUserProfile();
          this.applySettings();
        }

        setupNavigation() {
          const navItems = document.querySelectorAll('.nav-item');

          navItems.forEach(item => {
            item.addEventListener('click', () => {
              const section = item.getAttribute('data-section');
              if (section) {
                this.switchSection(section);
              }
            });
          });
        }

        switchSection(section) {
          // Update navigation
          document.querySelectorAll('.nav-item').forEach(item => {
            item.classList.remove('active');
          });
          document
            .querySelector(`[data-section="${section}"]`)
            .classList.add('active');

          // Update content
          document.querySelectorAll('.settings-section').forEach(sec => {
            sec.classList.remove('active');
          });
          document.getElementById(`${section}-section`).classList.add('active');

          // Update header
          this.updateHeader(section);
          this.currentSection = section;
        }

        updateHeader(section) {
          const titles = {
            profile: {
              title: 'Profile Settings',
              subtitle: 'Manage your account information and preferences',
            },
            security: {
              title: 'Security Settings',
              subtitle: 'Protect your account with advanced security features',
            },
            privacy: {
              title: 'Privacy Settings',
              subtitle: 'Control your data and privacy preferences',
            },
            appearance: {
              title: 'Appearance Settings',
              subtitle: 'Customize the look and feel of your interface',
            },
            notifications: {
              title: 'Notification Settings',
              subtitle: 'Manage how and when you receive notifications',
            },
            language: {
              title: 'Language Settings',
              subtitle: 'Choose your preferred language and region',
            },
            performance: {
              title: 'Performance Settings',
              subtitle: 'Optimize system performance and resource usage',
            },
            storage: {
              title: 'Storage Settings',
              subtitle: 'Manage your storage and data usage',
            },
            advanced: {
              title: 'Advanced Settings',
              subtitle: 'Advanced configuration options for power users',
            },
          };

          const info = titles[section];
          document.getElementById('contentTitle').textContent = info.title;
          document.getElementById('contentSubtitle').textContent =
            info.subtitle;
        }

        setupControls() {
          // Toggle switches
          document.querySelectorAll('.toggle-switch').forEach(toggle => {
            toggle.addEventListener('click', () => {
              toggle.classList.toggle('active');
              this.saveSettings();
            });
          });

          // Select dropdowns
          document.querySelectorAll('.select-button').forEach(button => {
            button.addEventListener('click', () => {
              const dropdown = button.parentElement;
              const options = dropdown.querySelector('.select-options');
              options.classList.toggle('open');
            });
          });

          document.querySelectorAll('.select-option').forEach(option => {
            option.addEventListener('click', () => {
              const dropdown = option.closest('.select-dropdown');
              const button = dropdown.querySelector('.select-button span');
              const options = dropdown.querySelector('.select-options');

              // Update selection
              dropdown.querySelectorAll('.select-option').forEach(opt => {
                opt.classList.remove('selected');
              });
              option.classList.add('selected');
              button.textContent = option.textContent;
              options.classList.remove('open');

              this.saveSettings();
            });
          });

          // Color picker
          document.querySelectorAll('.color-option').forEach(color => {
            color.addEventListener('click', () => {
              document.querySelectorAll('.color-option').forEach(c => {
                c.classList.remove('selected');
              });
              color.classList.add('selected');
              this.applyAccentColor(color.getAttribute('data-color'));
              this.saveSettings();
            });
          });

          // Range sliders
          document.querySelectorAll('.range-slider').forEach(slider => {
            slider.addEventListener('input', () => {
              this.saveSettings();
            });
          });

          // Save profile button
          document
            .getElementById('saveProfile')
            .addEventListener('click', () => {
              this.saveProfile();
            });

          // Close dropdowns when clicking outside
          document.addEventListener('click', e => {
            if (!e.target.closest('.select-dropdown')) {
              document.querySelectorAll('.select-options').forEach(options => {
                options.classList.remove('open');
              });
            }
          });
        }

        loadUserProfile() {
          const urlParams = new URLSearchParams(window.location.search);
          const isGuest = urlParams.get('guest') === 'true';
          const provider = urlParams.get('provider');

          const profileName = document.getElementById('profileName');
          const profileEmail = document.getElementById('profileEmail');
          const profileAvatar = document.getElementById('profileAvatar');
          const displayName = document.getElementById('displayName');
          const emailAddress = document.getElementById('emailAddress');

          if (isGuest) {
            profileName.textContent = 'Guest User';
            profileEmail.textContent = 'guest@auraos.com';
            profileAvatar.textContent = 'G';
            profileAvatar.style.background = 'var(--success-gradient)';
            displayName.value = 'Guest User';
            emailAddress.value = 'guest@auraos.com';
          } else if (provider) {
            const userName = `${provider.charAt(0).toUpperCase() + provider.slice(1)} User`;
            profileName.textContent = userName;
            profileEmail.textContent = `user@${provider}.com`;
            profileAvatar.textContent = provider.charAt(0).toUpperCase();
            displayName.value = userName;
            emailAddress.value = `user@${provider}.com`;
          } else {
            profileName.textContent = 'AuraOS User';
            profileEmail.textContent = 'user@auraos.com';
            profileAvatar.textContent = 'A';
            displayName.value = 'AuraOS User';
            emailAddress.value = 'user@auraos.com';
          }
        }

        saveProfile() {
          const displayName = document.getElementById('displayName').value;
          const emailAddress = document.getElementById('emailAddress').value;
          const userBio = document.getElementById('userBio').value;

          // Update profile display
          document.getElementById('profileName').textContent = displayName;
          document.getElementById('profileEmail').textContent = emailAddress;

          // Show success message
          this.showToast('Profile updated successfully!', 'success');
        }

        applyAccentColor(color) {
          document.documentElement.style.setProperty('--primary-color', color);

          // Generate complementary colors
          const hsl = this.hexToHsl(color);
          const lightColor = `hsl(${hsl.h}, ${hsl.s}%, ${Math.min(hsl.l + 20, 90)}%)`;
          const darkColor = `hsl(${hsl.h}, ${hsl.s}%, ${Math.max(hsl.l - 20, 10)}%)`;

          document.documentElement.style.setProperty(
            '--primary-light',
            lightColor
          );
          document.documentElement.style.setProperty(
            '--primary-dark',
            darkColor
          );
        }

        hexToHsl(hex) {
          const r = parseInt(hex.slice(1, 3), 16) / 255;
          const g = parseInt(hex.slice(3, 5), 16) / 255;
          const b = parseInt(hex.slice(5, 7), 16) / 255;

          const max = Math.max(r, g, b);
          const min = Math.min(r, g, b);
          let h,
            s,
            l = (max + min) / 2;

          if (max === min) {
            h = s = 0;
          } else {
            const d = max - min;
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
            switch (max) {
              case r:
                h = (g - b) / d + (g < b ? 6 : 0);
                break;
              case g:
                h = (b - r) / d + 2;
                break;
              case b:
                h = (r - g) / d + 4;
                break;
            }
            h /= 6;
          }

          return { h: h * 360, s: s * 100, l: l * 100 };
        }

        loadSettings() {
          const saved = localStorage.getItem('auraos-settings');
          return saved ? JSON.parse(saved) : {};
        }

        saveSettings() {
          // Collect all settings
          const settings = {};

          // Toggle switches
          document.querySelectorAll('.toggle-switch').forEach(toggle => {
            const id = toggle.id;
            if (id) {
              settings[id] = toggle.classList.contains('active');
            }
          });

          // Select dropdowns
          document.querySelectorAll('.select-dropdown').forEach(dropdown => {
            const id = dropdown.querySelector('.select-button').id;
            const selected = dropdown.querySelector('.select-option.selected');
            if (id && selected) {
              settings[id] = selected.textContent;
            }
          });

          // Range sliders
          document.querySelectorAll('.range-slider').forEach(slider => {
            if (slider.id) {
              settings[slider.id] = slider.value;
            }
          });

          // Color picker
          const selectedColor = document.querySelector(
            '.color-option.selected'
          );
          if (selectedColor) {
            settings.accentColor = selectedColor.getAttribute('data-color');
          }

          localStorage.setItem('auraos-settings', JSON.stringify(settings));
        }

        applySettings() {
          // Apply saved settings
          Object.keys(this.settings).forEach(key => {
            const value = this.settings[key];
            const element = document.getElementById(key);

            if (element) {
              if (element.classList.contains('toggle-switch')) {
                if (value) {
                  element.classList.add('active');
                }
              } else if (element.classList.contains('range-slider')) {
                element.value = value;
              }
            }
          });

          // Apply accent color
          if (this.settings.accentColor) {
            this.applyAccentColor(this.settings.accentColor);
            document.querySelectorAll('.color-option').forEach(color => {
              color.classList.remove('selected');
              if (
                color.getAttribute('data-color') === this.settings.accentColor
              ) {
                color.classList.add('selected');
              }
            });
          }
        }

        showToast(message, type = 'info') {
          const toast = document.createElement('div');
          toast.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 1rem 1.5rem;
                    border-radius: 0.5rem;
                    color: #000000;
                    font-weight: 500;
                    z-index: 10001;
                    animation: slideInRight 0.3s ease-out;
                    box-shadow: var(--glow-md);
                `;

          switch (type) {
            case 'success':
              toast.style.background = 'var(--success-color)';
              break;
            case 'error':
              toast.style.background = 'var(--error-color)';
              break;
            default:
              toast.style.background = 'var(--primary-color)';
          }

          toast.textContent = message;
          document.body.appendChild(toast);

          setTimeout(() => {
            toast.style.animation = 'slideOutRight 0.3s ease-in';
            setTimeout(() => {
              document.body.removeChild(toast);
            }, 300);
          }, 3000);
        }
      }

      // Initialize settings
      new SettingsManager();

      // Add animation styles
      const toastAnimStyle = document.createElement('style');
      toastAnimStyle.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
      document.head.appendChild(toastAnimStyle);
    </script>
  </body>
</html>
