<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - AuraOS</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#00d9ff">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/icons/favicon.ico">
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <style>
        .dashboard-page {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-primary) 25%, var(--bg-secondary) 50%, var(--bg-tertiary) 75%, var(--bg-primary) 100%);
            background-attachment: fixed;
            position: relative;
        }

        .dashboard-page::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(0, 217, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 107, 157, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(157, 78, 221, 0.06) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
            animation: ambient-glow 8s ease-in-out infinite alternate;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid var(--border-color);
            z-index: 1000;
            overflow-y: auto;
            transition: all var(--transition-normal);
        }

        .sidebar.collapsed {
            width: 80px;
        }

        .sidebar-header {
            padding: var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            color: var(--primary-color);
            font-size: var(--font-size-xl);
            font-weight: 700;
            text-shadow: var(--neon-glow-sm);
        }

        .sidebar-logo i {
            font-size: var(--font-size-2xl);
            animation: neon-pulse 3s ease-in-out infinite;
        }

        .sidebar-toggle {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .sidebar-toggle:hover {
            color: var(--primary-color);
            background: rgba(0, 217, 255, 0.1);
        }

        .sidebar-nav {
            padding: var(--spacing-6) 0;
        }

        .nav-section {
            margin-bottom: var(--spacing-6);
        }

        .nav-section-title {
            padding: 0 var(--spacing-6);
            color: var(--text-light);
            font-size: var(--font-size-xs);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: var(--spacing-3);
            opacity: 0.7;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            padding: var(--spacing-3) var(--spacing-6);
            color: var(--text-secondary);
            text-decoration: none;
            font-size: var(--font-size-sm);
            font-weight: 500;
            transition: all var(--transition-fast);
            position: relative;
        }

        .nav-item:hover,
        .nav-item.active {
            color: var(--primary-color);
            background: rgba(0, 217, 255, 0.1);
            transform: translateX(5px);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary-color);
            box-shadow: var(--glow-sm);
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: var(--font-size-base);
        }

        .nav-badge {
            background: var(--error-color);
            color: white;
            font-size: var(--font-size-xs);
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: auto;
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            padding: var(--spacing-6);
            transition: margin-left var(--transition-normal);
        }

        .main-content.sidebar-collapsed {
            margin-left: 80px;
        }

        /* Header */
        .dashboard-header {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            padding: var(--spacing-6);
            margin-bottom: var(--spacing-8);
            border: 1px solid var(--border-color);
            box-shadow: var(--glow-sm), var(--shadow-md);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-4);
        }

        .header-title {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
        }

        .header-search {
            position: relative;
        }

        .search-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-3) var(--spacing-4) var(--spacing-3) var(--spacing-12);
            color: var(--text-primary);
            font-size: var(--font-size-sm);
            width: 300px;
            transition: all var(--transition-fast);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .search-icon {
            position: absolute;
            left: var(--spacing-4);
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            font-size: var(--font-size-sm);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--radius-lg);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .user-profile:hover {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--primary-color);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000000;
            font-weight: 600;
            box-shadow: var(--glow-sm);
        }

        .user-info h4 {
            margin: 0;
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
        }

        .user-info p {
            margin: 0;
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .chatbot-toggle {
            background: var(--primary-gradient);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: #000000;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-lg);
            position: relative;
            transition: all var(--transition-normal);
            box-shadow: var(--glow-sm);
        }

        .chatbot-toggle:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--glow-md);
        }

        .chatbot-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--error-color);
            color: white;
            font-size: var(--font-size-xs);
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: notification-pulse 2s ease-in-out infinite;
        }

        .header-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-6);
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            text-align: center;
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: transform var(--transition-normal);
        }

        .stat-card:hover {
            background: rgba(0, 217, 255, 0.05);
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-icon {
            font-size: var(--font-size-2xl);
            color: var(--primary-color);
            margin-bottom: var(--spacing-2);
        }

        .stat-value {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .stat-label {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--spacing-8);
            margin-bottom: var(--spacing-8);
        }

        /* Additional Widgets Grid */
        .widgets-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: var(--spacing-8);
            margin-bottom: var(--spacing-8);
        }

        .dashboard-card {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
            box-shadow: var(--glow-sm), var(--shadow-md);
            overflow: hidden;
            transition: all var(--transition-normal);
        }

        .dashboard-card:hover {
            border-color: var(--primary-color);
            box-shadow: var(--glow-md), var(--shadow-lg);
        }

        .card-header {
            padding: var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .card-title i {
            color: var(--primary-color);
        }

        .card-action {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .card-action:hover {
            color: var(--primary-color);
            background: rgba(0, 217, 255, 0.1);
        }

        .card-content {
            padding: var(--spacing-6);
        }

        /* Activity Feed */
        .activity-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
            padding: var(--spacing-4) 0;
            border-bottom: 1px solid var(--border-light);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 217, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-size: var(--font-size-sm);
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-size: var(--font-size-sm);
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .activity-time {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-4);
        }

        .quick-action {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-3);
            padding: var(--spacing-6);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-normal);
            text-decoration: none;
            color: var(--text-primary);
        }

        .quick-action:hover {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--primary-color);
            transform: translateY(-2px);
            color: var(--text-primary);
        }

        .quick-action-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000000;
            font-size: var(--font-size-xl);
            box-shadow: var(--glow-sm);
        }

        .quick-action-title {
            font-size: var(--font-size-sm);
            font-weight: 600;
            text-align: center;
        }

        /* System Status */
        .system-status {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-4);
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-3) 0;
        }

        .status-label {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .status-value {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
        }

        .status-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: var(--spacing-2);
        }

        .status-fill {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 3px;
            transition: width var(--transition-normal);
            box-shadow: var(--glow-sm);
        }

        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .header-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .search-input {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: var(--spacing-4);
            }

            .header-top {
                flex-direction: column;
                gap: var(--spacing-4);
                align-items: stretch;
            }

            .header-actions {
                justify-content: space-between;
            }

            .search-input {
                width: 100%;
            }

            .header-stats {
                grid-template-columns: 1fr;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }

            .widgets-grid {
                grid-template-columns: 1fr;
            }

            .weather-info {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .weather-details {
                grid-template-columns: 1fr;
                gap: var(--spacing-2);
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dashboard-card {
            animation: fadeInUp 0.6s ease-out;
        }

        .dashboard-card:nth-child(1) { animation-delay: 0.1s; }
        .dashboard-card:nth-child(2) { animation-delay: 0.2s; }
        .dashboard-card:nth-child(3) { animation-delay: 0.3s; }
        .dashboard-card:nth-child(4) { animation-delay: 0.4s; }

        /* Weather Widget */
        .weather-widget {
            grid-column: span 2;
            margin-bottom: var(--spacing-8);
        }

        .weather-info {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: var(--spacing-6);
            align-items: center;
        }

        .weather-main {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
        }

        .weather-icon {
            font-size: var(--font-size-4xl);
            color: var(--warning-color);
            animation: weather-pulse 3s ease-in-out infinite;
        }

        .weather-temp {
            display: flex;
            flex-direction: column;
        }

        .temp-value {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--text-primary);
        }

        .temp-desc {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            text-transform: capitalize;
        }

        .weather-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-4);
        }

        .weather-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .weather-item i {
            color: var(--primary-color);
            width: 16px;
        }

        /* Notifications Widget */
        .notifications-widget {
            margin-bottom: var(--spacing-8);
        }

        .notification-badge {
            background: var(--error-color);
            color: white;
            font-size: var(--font-size-xs);
            padding: 2px 8px;
            border-radius: 12px;
            margin-left: var(--spacing-2);
            animation: notification-pulse 2s ease-in-out infinite;
        }

        .notifications-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
        }

        .notification-item {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-3);
            padding: var(--spacing-3);
            background: rgba(255, 255, 255, 0.02);
            border-radius: var(--radius-md);
            border-left: 3px solid transparent;
            transition: all var(--transition-fast);
        }

        .notification-item.unread {
            border-left-color: var(--primary-color);
            background: rgba(0, 217, 255, 0.05);
        }

        .notification-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .notification-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 107, 157, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-color);
            font-size: var(--font-size-sm);
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .notification-message {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
        }

        .notification-time {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
        }

        /* Notes Widget */
        .notes-widget {
            margin-bottom: var(--spacing-8);
        }

        .notes-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
            margin-bottom: var(--spacing-4);
        }

        .note-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-3);
            background: rgba(255, 255, 255, 0.02);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-light);
            transition: all var(--transition-fast);
        }

        .note-item:hover {
            background: rgba(0, 217, 255, 0.05);
            border-color: var(--primary-color);
        }

        .note-content {
            flex: 1;
        }

        .note-text {
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .note-time {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .note-delete {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: var(--spacing-1);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .note-delete:hover {
            color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }

        .add-note-form {
            margin-top: var(--spacing-4);
        }

        .note-input {
            width: 100%;
            min-height: 80px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-3);
            color: var(--text-primary);
            font-size: var(--font-size-sm);
            resize: vertical;
            transition: all var(--transition-fast);
        }

        .note-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .note-actions {
            display: flex;
            gap: var(--spacing-2);
            margin-top: var(--spacing-3);
            justify-content: flex-end;
        }

        .note-save,
        .note-cancel {
            padding: var(--spacing-2) var(--spacing-4);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-sm);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .note-save {
            background: var(--primary-color);
            color: #000000;
            border: none;
        }

        .note-save:hover {
            background: var(--primary-dark);
            box-shadow: var(--glow-sm);
        }

        .note-cancel {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

            .note-cancel:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        /* Task Manager Styles */
        .task-manager-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 10003;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .task-manager-container {
            width: 95vw;
            height: 95vh;
            max-width: 1400px;
            background: rgba(30, 41, 59, 0.98);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
            box-shadow: var(--glow-lg), var(--shadow-2xl);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: taskManagerSlideIn 0.3s ease-out;
        }

        .task-manager-header {
            padding: var(--spacing-4) var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 217, 255, 0.1);
        }

        .task-manager-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            color: var(--text-primary);
            font-size: var(--font-size-xl);
            font-weight: 600;
        }

        .task-manager-title i {
            color: var(--primary-color);
            font-size: var(--font-size-2xl);
        }

        .task-manager-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .task-manager-close:hover {
            color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }

        .task-manager-toolbar {
            padding: var(--spacing-3) var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.02);
            flex-wrap: wrap;
            gap: var(--spacing-3);
        }

        .view-tabs {
            display: flex;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            overflow: hidden;
        }

        .view-tab {
            background: rgba(255, 255, 255, 0.05);
            border: none;
            padding: var(--spacing-2) var(--spacing-4);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            font-size: var(--font-size-sm);
            border-right: 1px solid var(--border-color);
        }

        .view-tab:last-child {
            border-right: none;
        }

        .view-tab.active {
            background: var(--primary-color);
            color: #000000;
        }

        .view-tab:hover:not(.active) {
            background: rgba(0, 217, 255, 0.1);
            color: var(--primary-color);
        }

        .task-manager-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .tasks-sidebar {
            width: 250px;
            background: rgba(255, 255, 255, 0.02);
            border-right: 1px solid var(--border-color);
            padding: var(--spacing-4);
            overflow-y: auto;
        }

        .sidebar-section h4 {
            color: var(--text-primary);
            font-size: var(--font-size-sm);
            font-weight: 600;
            margin-bottom: var(--spacing-3);
            padding: 0 var(--spacing-2);
        }

        .project-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-1);
        }

        .project-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition-fast);
            position: relative;
        }

        .project-item:hover,
        .project-item.active {
            background: rgba(0, 217, 255, 0.1);
            color: var(--primary-color);
        }

        .project-item i {
            width: 16px;
            font-size: var(--font-size-sm);
        }

        .project-count {
            margin-left: auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .tasks-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .tasks-list {
            flex: 1;
            padding: var(--spacing-4);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
        }

        .task-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-3);
            transition: all var(--transition-fast);
        }

        .task-item:hover {
            background: rgba(0, 217, 255, 0.05);
            border-color: var(--primary-color);
            transform: translateX(2px);
        }

        .task-item.completed {
            opacity: 0.7;
            background: rgba(0, 255, 136, 0.05);
            border-color: var(--success-color);
        }

        .task-checkbox {
            flex-shrink: 0;
            margin-top: 2px;
        }

        .task-checkbox input[type="checkbox"] {
            display: none;
        }

        .task-checkbox label {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-sm);
            display: block;
            cursor: pointer;
            position: relative;
            transition: var(--transition-fast);
        }

        .task-checkbox label:hover {
            border-color: var(--primary-color);
        }

        .task-checkbox input[type="checkbox"]:checked + label {
            background: var(--primary-color);
            border-color: var(--primary-color);
        }

        .task-checkbox input[type="checkbox"]:checked + label::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000000;
            font-size: 12px;
            font-weight: bold;
        }

        .task-content {
            flex: 1;
        }

        .task-title {
            font-size: var(--font-size-base);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .task-title.completed {
            text-decoration: line-through;
            color: var(--text-secondary);
        }

        .task-description {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-2);
            line-height: 1.4;
        }

        .task-meta {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            flex-wrap: wrap;
        }

        .task-meta span {
            font-size: var(--font-size-xs);
            padding: 2px 8px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
        }

        .task-project {
            color: var(--primary-color);
        }

        .task-due-date {
            color: var(--warning-color);
        }

        .task-priority {
            color: var(--error-color);
        }

        .priority-high .task-priority {
            color: var(--error-color);
        }

        .priority-medium .task-priority {
            color: var(--warning-color);
        }

        .priority-low .task-priority {
            color: var(--success-color);
        }

        .task-actions {
            display: flex;
            gap: var(--spacing-1);
        }

        .task-action-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .task-action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .task-summary {
            padding: var(--spacing-4);
            border-top: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.02);
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--spacing-4);
            margin-bottom: var(--spacing-3);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: var(--font-size-2xl);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .stat-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 4px;
            transition: width var(--transition-normal);
        }

        .task-manager-footer {
            padding: var(--spacing-4) var(--spacing-6);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.02);
        }

        .btn-primary {
            background: var(--primary-color);
            color: #000000;
            border: none;
            border-radius: var(--radius-md);
            padding: var(--spacing-3) var(--spacing-6);
            font-size: var(--font-size-sm);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--glow-sm);
        }

        /* Task Manager Animations */
        @keyframes taskManagerSlideIn {
            from {
                transform: scale(0.95);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Security Center Styles */
        .security-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 10004;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .security-container {
            width: 95vw;
            height: 95vh;
            max-width: 1200px;
            background: rgba(15, 23, 42, 0.98);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
            box-shadow: var(--glow-lg), var(--shadow-2xl);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: securitySlideIn 0.3s ease-out;
        }

        .security-header {
            padding: var(--spacing-4) var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(239, 68, 68, 0.1);
        }

        .security-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            color: var(--text-primary);
            font-size: var(--font-size-xl);
            font-weight: 600;
        }

        .security-title i {
            color: var(--error-color);
            font-size: var(--font-size-2xl);
        }

        .security-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .security-close:hover {
            color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }

        .security-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .security-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.02);
            overflow-x: auto;
        }

        .security-tab {
            background: none;
            border: none;
            padding: var(--spacing-3) var(--spacing-5);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            font-size: var(--font-size-sm);
            white-space: nowrap;
            border-bottom: 2px solid transparent;
        }

        .security-tab.active {
            color: var(--error-color);
            border-bottom-color: var(--error-color);
            background: rgba(239, 68, 68, 0.05);
        }

        .security-tab:hover:not(.active) {
            color: var(--error-color);
            background: rgba(239, 68, 68, 0.05);
        }

        .security-panel {
            flex: 1;
            padding: var(--spacing-6);
            overflow-y: auto;
            display: none;
        }

        .security-panel.active {
            display: block;
        }

        .security-section {
            margin-bottom: var(--spacing-8);
        }

        .security-section h3 {
            color: var(--text-primary);
            font-size: var(--font-size-lg);
            font-weight: 600;
            margin-bottom: var(--spacing-4);
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .security-status .status-indicator {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            font-size: var(--font-size-sm);
            font-weight: 600;
        }

        .status-indicator i.fa-times-circle {
            color: var(--error-color);
        }

        .status-indicator i.fa-check-circle {
            color: var(--success-color);
        }

        .security-info {
            margin: var(--spacing-4) 0;
        }

        .security-info p {
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .security-actions {
            display: flex;
            gap: var(--spacing-3);
            margin-top: var(--spacing-4);
            flex-wrap: wrap;
        }

        .sessions-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
            margin-top: var(--spacing-4);
        }

        .session-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-4);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            transition: var(--transition-fast);
        }

        .session-item:hover {
            background: rgba(0, 217, 255, 0.05);
            border-color: var(--primary-color);
        }

        .session-item.current {
            background: rgba(0, 255, 136, 0.05);
            border-color: var(--success-color);
        }

        .session-info {
            flex: 1;
        }

        .session-device {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .session-location,
        .session-time {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .session-current {
            background: var(--success-color);
            color: #000000;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: var(--font-size-xs);
            font-weight: 600;
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
            margin-top: var(--spacing-4);
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-3);
            padding: var(--spacing-3);
            border-radius: var(--radius-md);
            transition: var(--transition-fast);
        }

        .activity-item:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .activity-item.success {
            background: rgba(0, 255, 136, 0.05);
            border-left: 3px solid var(--success-color);
        }

        .activity-item.warning {
            background: rgba(255, 193, 7, 0.05);
            border-left: 3px solid var(--warning-color);
        }

        .activity-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-sm);
            flex-shrink: 0;
        }

        .activity-item.success .activity-icon {
            background: rgba(0, 255, 136, 0.1);
            color: var(--success-color);
        }

        .activity-item.warning .activity-icon {
            background: rgba(255, 193, 7, 0.1);
            color: var(--warning-color);
        }

        .activity-title {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .activity-details {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
        }

        .activity-time {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
        }

        .password-strength {
            margin: var(--spacing-4) 0;
        }

        .strength-meter {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: var(--spacing-2);
        }

        .strength-text {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .recovery-options {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-4);
            margin-top: var(--spacing-4);
        }

        .recovery-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-3);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
        }

        .recovery-info {
            flex: 1;
        }

        .recovery-title {
            font-size: var(--font-size-sm);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .recovery-value {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .security-footer {
            padding: var(--spacing-4) var(--spacing-6);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.02);
        }

        .security-score {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
        }

        .score-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .score-number {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--text-primary);
        }

        .score-label {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .score-bar {
            width: 100px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-2) var(--spacing-4);
            font-size: var(--font-size-sm);
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .btn-secondary:hover {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .btn-danger {
            background: var(--error-color);
            color: #000000;
            border: none;
            border-radius: var(--radius-md);
            padding: var(--spacing-2) var(--spacing-3);
            font-size: var(--font-size-xs);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .btn-danger:hover {
            background: var(--error-gradient);
        }

        /* Security Center Animations */
        @keyframes securitySlideIn {
            from {
                transform: scale(0.95);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Mobile Responsive for Security Center */
        @media (max-width: 768px) {
            .security-container {
                width: calc(100vw - 20px);
                height: calc(100vh - 20px);
            }

            .security-tabs {
                flex-wrap: wrap;
            }

            .security-footer {
                flex-direction: column;
                gap: var(--spacing-3);
            }

            .sessions-list {
                gap: var(--spacing-2);
            }

            .session-item {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-2);
            }

            .recovery-options {
                gap: var(--spacing-2);
            }

            .recovery-item {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-2);
            }
        }

        /* Mobile Responsive for Task Manager */
        @media (max-width: 768px) {
            .task-manager-container {
                width: calc(100vw - 20px);
                height: calc(100vh - 20px);
            }

            .task-manager-toolbar {
                flex-direction: column;
                gap: var(--spacing-2);
            }

            .view-tabs {
                width: 100%;
                justify-content: center;
            }

            .task-manager-content {
                flex-direction: column;
            }

            .tasks-sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                max-height: 200px;
            }

            .tasks-list {
                padding: var(--spacing-2);
            }

            .task-meta {
                gap: var(--spacing-1);
            }

            .task-meta span {
                font-size: 10px;
                padding: 1px 4px;
            }
        }

        /* File Manager Styles */
        .file-manager-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 10002;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .file-manager-container {
            width: 90vw;
            height: 90vh;
            max-width: 1200px;
            background: rgba(30, 41, 59, 0.98);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
            box-shadow: var(--glow-lg), var(--shadow-2xl);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: fileManagerSlideIn 0.3s ease-out;
        }

        .file-manager-header {
            padding: var(--spacing-4) var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 217, 255, 0.1);
        }

        .file-manager-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            color: var(--text-primary);
            font-size: var(--font-size-xl);
            font-weight: 600;
        }

        .file-manager-title i {
            color: var(--primary-color);
            font-size: var(--font-size-2xl);
        }

        .file-manager-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .file-manager-close:hover {
            color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }

        .file-manager-toolbar {
            padding: var(--spacing-3) var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.02);
            flex-wrap: wrap;
            gap: var(--spacing-3);
        }

        .toolbar-left,
        .toolbar-right {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
        }

        .toolbar-center {
            flex: 1;
            display: flex;
            justify-content: center;
        }

        .toolbar-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-2) var(--spacing-4);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .toolbar-btn:hover:not(:disabled) {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .toolbar-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .toolbar-btn i {
            font-size: var(--font-size-base);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: var(--spacing-1);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .breadcrumb-item {
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .breadcrumb-item:hover {
            color: var(--primary-color);
        }

        .breadcrumb-item:not(:last-child)::after {
            content: '/';
            margin-left: var(--spacing-1);
            color: var(--text-muted);
        }

        .search-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .file-search {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-2) var(--spacing-3);
            padding-left: var(--spacing-8);
            color: var(--text-primary);
            font-size: var(--font-size-sm);
            width: 200px;
            transition: var(--transition-fast);
        }

        .file-search:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .search-container i {
            position: absolute;
            left: var(--spacing-3);
            color: var(--text-muted);
        }

        .view-toggle {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-2) var(--spacing-3);
            color: var(--text-primary);
            font-size: var(--font-size-sm);
            cursor: pointer;
        }

        .file-manager-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .sidebar-nav {
            width: 200px;
            background: rgba(255, 255, 255, 0.02);
            border-right: 1px solid var(--border-color);
            padding: var(--spacing-4);
            overflow-y: auto;
        }

        .sidebar-nav .nav-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            padding: var(--spacing-3);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition-fast);
            margin-bottom: var(--spacing-1);
        }

        .sidebar-nav .nav-item:hover,
        .sidebar-nav .nav-item.active {
            background: rgba(0, 217, 255, 0.1);
            color: var(--primary-color);
        }

        .sidebar-nav .nav-item i {
            width: 20px;
            text-align: center;
        }

        .file-grid {
            flex: 1;
            padding: var(--spacing-6);
            overflow-y: auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: var(--spacing-4);
        }

        .file-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-fast);
            position: relative;
        }

        .file-item:hover {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .file-item.selected {
            background: rgba(0, 217, 255, 0.15);
            border-color: var(--primary-color);
            box-shadow: var(--glow-sm);
        }

        .file-icon {
            font-size: 3rem;
            margin-bottom: var(--spacing-2);
            color: var(--primary-color);
        }

        .file-icon i.fa-folder {
            color: var(--warning-color);
        }

        .file-icon i.fa-file-pdf {
            color: #ff4757;
        }

        .file-icon i.fa-file-powerpoint {
            color: #ff6b6b;
        }

        .file-icon i.fa-file-excel {
            color: #00d2d3;
        }

        .file-icon i.fa-file-image {
            color: #7b68ee;
        }

        .file-name {
            font-size: var(--font-size-sm);
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
            word-break: break-word;
        }

        .file-size {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .file-manager-footer {
            padding: var(--spacing-4) var(--spacing-6);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.02);
        }

        .storage-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .storage-bar {
            width: 150px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .storage-fill {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 3px;
            transition: width var(--transition-normal);
        }

        .selected-info {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fileManagerSlideIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Mobile Responsive for File Manager */
        @media (max-width: 768px) {
            .file-manager-container {
                width: 95vw;
                height: 95vh;
            }

            .file-manager-toolbar {
                flex-direction: column;
                gap: var(--spacing-2);
            }

            .toolbar-left,
            .toolbar-right {
                width: 100%;
                justify-content: center;
            }

            .file-manager-content {
                flex-direction: column;
            }

            .sidebar-nav {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .file-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
                padding: var(--spacing-3);
            }
        }

        /* Animations */
        @keyframes weather-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes notification-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 400px;
            height: 600px;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
            box-shadow: var(--glow-lg), var(--shadow-2xl);
            display: flex;
            flex-direction: column;
            z-index: 10000;
            overflow: hidden;
            animation: chatbotSlideIn 0.3s ease-out;
        }

        .chatbot-header {
            padding: var(--spacing-4);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 217, 255, 0.1);
        }

        .chatbot-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            color: var(--text-primary);
            font-weight: 600;
        }

        .chatbot-title i {
            color: var(--primary-color);
            font-size: var(--font-size-lg);
        }

        .chatbot-status {
            display: flex;
            align-items: center;
            gap: var(--spacing-1);
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success-color);
            animation: statusPulse 2s ease-in-out infinite;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--spacing-1);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .chatbot-close:hover {
            color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }

        .chatbot-messages {
            flex: 1;
            padding: var(--spacing-4);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
        }

        .message {
            display: flex;
            gap: var(--spacing-3);
            align-items: flex-start;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--primary-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000000;
            font-size: var(--font-size-sm);
            flex-shrink: 0;
        }

        .user-message .message-avatar {
            background: var(--secondary-gradient);
        }

        .message-content {
            flex: 1;
            max-width: 80%;
        }

        .message-text {
            background: rgba(255, 255, 255, 0.05);
            padding: var(--spacing-3);
            border-radius: var(--radius-lg);
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            line-height: 1.4;
            word-wrap: break-word;
        }

        .user-message .message-text {
            background: var(--primary-color);
            color: #000000;
        }

        .message-time {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
            margin-top: var(--spacing-1);
            text-align: right;
        }

        .user-message {
            flex-direction: row-reverse;
        }

        .user-message .message-time {
            text-align: left;
        }

        .chatbot-input-container {
            padding: var(--spacing-4);
            border-top: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.02);
        }

        .quick-actions-chat {
            display: flex;
            gap: var(--spacing-2);
            margin-bottom: var(--spacing-3);
            flex-wrap: wrap;
        }

        .quick-action-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: var(--spacing-1) var(--spacing-2);
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .quick-action-btn:hover {
            background: rgba(0, 217, 255, 0.1);
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .chatbot-input-wrapper {
            display: flex;
            gap: var(--spacing-2);
            align-items: center;
        }

        .chatbot-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-3);
            color: var(--text-primary);
            font-size: var(--font-size-sm);
            transition: all var(--transition-fast);
        }

        .chatbot-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .chatbot-send,
        .chatbot-voice {
            background: var(--primary-color);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: #000000;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-fast);
        }

        .chatbot-send:hover,
        .chatbot-voice:hover {
            background: var(--primary-dark);
            transform: scale(1.1);
        }

        .chatbot-voice {
            background: var(--secondary-color);
        }

        .chatbot-voice:hover {
            background: var(--secondary-dark);
        }

        /* Animations */
        @keyframes chatbotSlideIn {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: var(--spacing-3);
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary-color);
            animation: typingBounce 1.4s ease-in-out infinite both;
        }

        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0s; }

        @keyframes typingBounce {
            0%, 80%, 100% {
                transform: scale(0);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Mobile Responsive for Chatbot */
        @media (max-width: 768px) {
            .chatbot-container {
                width: calc(100vw - 40px);
                height: calc(100vh - 40px);
                bottom: 20px;
                right: 20px;
            }

            .quick-actions-chat {
                justify-content: center;
            }

            .quick-action-btn {
                font-size: var(--font-size-xs);
                padding: var(--spacing-1);
            }
        }

        /* Notification Center Styles */
        .notification-center {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            max-height: 80vh;
            background: rgba(30, 41, 59, 0.98);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
            box-shadow: var(--glow-lg), var(--shadow-2xl);
            z-index: 10001;
            display: flex;
            flex-direction: column;
            animation: notificationCenterSlideIn 0.3s ease-out;
        }

        .notification-center-header {
            padding: var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 217, 255, 0.1);
        }

        .notification-center-header h3 {
            margin: 0;
            color: var(--text-primary);
            font-size: var(--font-size-xl);
            font-weight: 600;
        }

        .notification-center-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
        }

        .notification-center-close:hover {
            color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }

        .notification-center-content {
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .notification-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.02);
        }

        .notification-tab {
            flex: 1;
            background: none;
            border: none;
            padding: var(--spacing-3) var(--spacing-4);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            font-size: var(--font-size-sm);
            border-bottom: 2px solid transparent;
        }

        .notification-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: rgba(0, 217, 255, 0.05);
        }

        .notification-tab:hover {
            color: var(--primary-color);
            background: rgba(0, 217, 255, 0.05);
        }

        .notification-list-center {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-4);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
        }

        .notification-item-center {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-3);
            padding: var(--spacing-4);
            background: rgba(255, 255, 255, 0.02);
            border-radius: var(--radius-lg);
            border-left: 3px solid transparent;
            transition: all var(--transition-fast);
            position: relative;
        }

        .notification-item-center.unread {
            border-left-color: var(--primary-color);
            background: rgba(0, 217, 255, 0.05);
        }

        .notification-item-center:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(2px);
        }

        .notification-icon-center {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 107, 157, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-color);
            font-size: var(--font-size-base);
            flex-shrink: 0;
        }

        .notification-content-center {
            flex: 1;
        }

        .notification-title-center {
            font-size: var(--font-size-base);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-1);
        }

        .notification-message-center {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
            line-height: 1.4;
        }

        .notification-time-center {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
        }

        .notification-actions-center {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-1);
        }

        .notification-action-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: var(--spacing-2);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
            font-size: var(--font-size-sm);
        }

        .notification-action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .notification-action-btn:first-child:hover {
            color: var(--success-color);
        }

        .notification-action-btn:last-child:hover {
            color: var(--error-color);
        }

        .notification-center-footer {
            padding: var(--spacing-4);
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: var(--spacing-3);
            justify-content: center;
            background: rgba(255, 255, 255, 0.02);
        }

        .notification-clear-all,
        .notification-mark-all-read {
            background: none;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: var(--spacing-3) var(--spacing-4);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .notification-clear-all:hover {
            border-color: var(--error-color);
            color: var(--error-color);
            background: rgba(255, 71, 87, 0.1);
        }

        .notification-mark-all-read:hover {
            border-color: var(--success-color);
            color: var(--success-color);
            background: rgba(0, 255, 136, 0.1);
        }

        /* Animations */
        @keyframes notificationCenterSlideIn {
            from {
                transform: translate(-50%, -50%) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        /* Mobile Responsive for Notification Center */
        @media (max-width: 768px) {
            .notification-center {
                width: calc(100vw - 40px);
                height: calc(100vh - 40px);
                max-height: none;
            }

            .notification-tabs {
                flex-wrap: wrap;
            }

            .notification-tab {
                flex: 1;
                min-width: 50%;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-page">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
            <i class="fas fa-cube"></i>
            <span>AuraOS</span>
        </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-chart-line"></i>
                        <span>Analytics</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-tasks"></i>
                        <span>Projects</span>
                        <span class="nav-badge">3</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-users"></i>
                        <span>Team</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Tools</div>
                    <a href="#" class="nav-item">
                        <i class="fas fa-terminal"></i>
                        <span>Terminal</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-code"></i>
                        <span>Code Editor</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-database"></i>
                        <span>Database</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-cloud"></i>
                        <span>Cloud Storage</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Settings</div>
                    <a href="settings.html" class="nav-item">
                        <i class="fas fa-cog"></i>
                        <span>Preferences</span>
                    </a>
                    <a href="#" class="nav-item" id="securityNav">
                        <i class="fas fa-shield-alt"></i>
                        <span>Security</span>
                        <span class="nav-badge" id="securityBadge" style="display: none;">!</span>
                    </a>
                    <a href="#" class="nav-item" id="notificationsNav">
                        <i class="fas fa-bell"></i>
                        <span>Notifications</span>
                        <span class="nav-badge" id="sidebarNotificationBadge">3</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-question-circle"></i>
                        <span>Help & Support</span>
                    </a>
                    <a href="index.html" class="nav-item">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </nav>
    </aside>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Dashboard Header -->
            <header class="dashboard-header">
                <div class="header-top">
                    <div>
                        <h1 class="header-title" id="welcomeTitle">Welcome back, User!</h1>
                    </div>
                        <div class="header-actions">
                        <div class="header-search">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" class="search-input" placeholder="Search anything...">
                        </div>
                        <button class="chatbot-toggle" id="chatbotToggle" title="Open AI Assistant">
                            <i class="fas fa-robot"></i>
                            <span class="chatbot-badge" id="chatbotBadge" style="display: none;">1</span>
                        </button>
                        <div class="user-profile" id="userProfile">
                            <div class="user-avatar" id="userAvatar">U</div>
                            <div class="user-info">
                                <h4 id="userName">Guest User</h4>
                                <p id="userStatus">Online</p>
                            </div>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>

                <div class="header-stats">
                <div class="connection-status disconnected" id="connectionStatus">Offline</div>
                <div class="stat-card">
                    <div class="stat-icon">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div class="stat-value" id="systemPerformance">98%</div>
                        <div class="stat-label">System Performance</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-value" id="activeTasks">12</div>
                        <div class="stat-label">Active Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                            <i class="fas fa-cloud"></i>
                    </div>
                        <div class="stat-value" id="storageUsed">2.4 GB</div>
                        <div class="stat-label">Storage Used</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                            <i class="fas fa-users"></i>
                    </div>
                        <div class="stat-value" id="teamMembers">8</div>
                        <div class="stat-label">Team Members</div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Recent Activity -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-clock"></i>
                            Recent Activity
                        </h3>
                        <button class="card-action">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-file-code"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Updated project configuration</div>
                                <div class="activity-time">2 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">New team member joined</div>
                                <div class="activity-time">15 minutes ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Deployed to production</div>
                                <div class="activity-time">1 hour ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Security scan completed</div>
                                <div class="activity-time">2 hours ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Database backup created</div>
                                <div class="activity-time">3 hours ago</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-bolt"></i>
                            Quick Actions
                        </h3>
                    </div>
                    <div class="card-content">
                        <div class="quick-actions">
                            <a href="#" class="quick-action">
                                <div class="quick-action-icon">
                                    <i class="fas fa-plus"></i>
                                </div>
                                <div class="quick-action-title">New Project</div>
                            </a>
                            <a href="#" class="quick-action">
                                <div class="quick-action-icon">
                                    <i class="fas fa-terminal"></i>
                                </div>
                                <div class="quick-action-title">Open Terminal</div>
                            </a>
                            <a href="#" class="quick-action">
                                <div class="quick-action-icon">
                                    <i class="fas fa-code"></i>
                                </div>
                                <div class="quick-action-title">Code Editor</div>
                            </a>
                            <a href="settings.html" class="quick-action">
                                <div class="quick-action-icon">
                            <i class="fas fa-cog"></i>
                                </div>
                                <div class="quick-action-title">Settings</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Widgets Grid -->
            <div class="widgets-grid">
                <!-- System Status -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-server"></i>
                            System Status
                        </h3>
                        <button class="card-action" id="refreshSystemStatus">
                            <i class="fas fa-refresh"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="system-status">
                            <div class="status-item">
                                <span class="status-label">CPU Usage</span>
                                <span class="status-value" id="cpuUsage">45%</span>
                            </div>
                            <div class="status-bar">
                                <div class="status-fill" id="cpuBar" style="width: 45%"></div>
                            </div>
                            
                            <div class="status-item">
                                <span class="status-label">Memory Usage</span>
                                <span class="status-value" id="memoryUsage">62%</span>
                            </div>
                            <div class="status-bar">
                                <div class="status-fill" id="memoryBar" style="width: 62%"></div>
                            </div>
                            
                            <div class="status-item">
                                <span class="status-label">Storage Usage</span>
                                <span class="status-value" id="storageUsage">38%</span>
                            </div>
                            <div class="status-bar">
                                <div class="status-fill" id="storageBar" style="width: 38%"></div>
                            </div>
                            
                            <div class="status-item">
                                <span class="status-label">Network Activity</span>
                                <span class="status-value" id="networkUsage">28%</span>
                            </div>
                            <div class="status-bar">
                                <div class="status-fill" id="networkBar" style="width: 28%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weather Widget -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-cloud-sun"></i>
                            Weather
                        </h3>
                        <button class="card-action" id="refreshWeather">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="weather-info">
                            <div class="weather-main">
                                <div class="weather-icon" id="weatherIcon">
                                    <i class="fas fa-sun"></i>
                                </div>
                                <div class="weather-temp">
                                    <span class="temp-value" id="temperature">22°C</span>
                                    <span class="temp-desc" id="weatherDesc">Sunny</span>
                                </div>
                            </div>
                            <div class="weather-details">
                                <div class="weather-item">
                                    <i class="fas fa-eye"></i>
                                    <span>Visibility: <span id="visibility">10 km</span></span>
                                </div>
                                <div class="weather-item">
                                    <i class="fas fa-wind"></i>
                                    <span>Wind: <span id="windSpeed">5 km/h</span></span>
                                </div>
                                <div class="weather-item">
                                    <i class="fas fa-tint"></i>
                                    <span>Humidity: <span id="humidity">65%</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications Center -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-bell"></i>
                            Notifications
                            <span class="notification-badge" id="notificationCount">3</span>
                        </h3>
                        <button class="card-action" id="markAllRead">
                            <i class="fas fa-check-double"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="notifications-list" id="notificationsList">
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">System Update Available</div>
                                    <div class="notification-message">A new version of AuraOS is ready to install</div>
                                    <div class="notification-time">5 minutes ago</div>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <div class="notification-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">Security Alert</div>
                                    <div class="notification-message">Unusual login activity detected</div>
                                    <div class="notification-time">15 minutes ago</div>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="notification-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <div class="notification-content">
                                    <div class="notification-title">Backup Complete</div>
                                    <div class="notification-message">Your files have been successfully backed up</div>
                                    <div class="notification-time">1 hour ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Notes Widget -->
            <div class="dashboard-card notes-widget">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-sticky-note"></i>
                        Quick Notes
                    </h3>
                    <button class="card-action" id="addNote">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="card-content">
                    <div class="notes-list" id="notesList">
                        <div class="note-item">
                            <div class="note-content">
                                <div class="note-text">Meeting with team at 3 PM</div>
                                <div class="note-time">Today</div>
                            </div>
                            <button class="note-delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        <div class="note-item">
                            <div class="note-content">
                                <div class="note-text">Review project proposal</div>
                                <div class="note-time">Tomorrow</div>
                            </div>
                            <button class="note-delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <div class="add-note-form" id="addNoteForm" style="display: none;">
                        <textarea class="note-input" placeholder="Add a new note..."></textarea>
                        <div class="note-actions">
                            <button class="note-save">Save</button>
                            <button class="note-cancel">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Task Manager Modal -->
    <div class="task-manager-modal" id="taskManagerModal" style="display: none;">
        <div class="task-manager-container">
            <div class="task-manager-header">
                <div class="task-manager-title">
                    <i class="fas fa-tasks"></i>
                    <span>مدير المهام</span>
                </div>
                <button class="task-manager-close" id="taskManagerClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="task-manager-toolbar">
                <div class="toolbar-left">
                    <button class="toolbar-btn" id="newTaskBtn" title="New Task">
                        <i class="fas fa-plus"></i>
                        مهمة جديدة
                    </button>
                    <button class="toolbar-btn" id="newProjectBtn" title="New Project">
                        <i class="fas fa-folder-plus"></i>
                        مشروع جديد
                    </button>
                </div>
                <div class="toolbar-center">
                    <div class="view-tabs">
                        <button class="view-tab active" data-view="all">الكل</button>
                        <button class="view-tab" data-view="today">اليوم</button>
                        <button class="view-tab" data-view="upcoming">القادم</button>
                        <button class="view-tab" data-view="overdue">متأخر</button>
                        <button class="view-tab" data-view="completed">مكتمل</button>
                    </div>
                </div>
                <div class="toolbar-right">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" class="task-search" id="taskSearch" placeholder="البحث في المهام...">
                    </div>
                </div>
            </div>

            <div class="task-manager-content">
                <div class="tasks-sidebar">
                    <div class="sidebar-section">
                        <h4>المشاريع</h4>
                        <div class="project-list" id="projectList">
                            <div class="project-item active" data-project="all">
                                <i class="fas fa-inbox"></i>
                                <span>جميع المهام</span>
                                <span class="project-count">12</span>
                            </div>
                            <div class="project-item" data-project="work">
                                <i class="fas fa-briefcase"></i>
                                <span>العمل</span>
                                <span class="project-count">5</span>
                            </div>
                            <div class="project-item" data-project="personal">
                                <i class="fas fa-user"></i>
                                <span>شخصي</span>
                                <span class="project-count">3</span>
                            </div>
                            <div class="project-item" data-project="urgent">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span>عاجل</span>
                                <span class="project-count">2</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tasks-main">
                    <div class="tasks-list" id="tasksList">
                        <div class="task-item priority-high" data-id="1">
                            <div class="task-checkbox">
                                <input type="checkbox" id="task-1">
                                <label for="task-1"></label>
                            </div>
                            <div class="task-content">
                                <div class="task-title">مراجعة التصميم الجديد</div>
                                <div class="task-description">مراجعة واجهة المستخدم والتأكد من التوافق مع المتطلبات</div>
                                <div class="task-meta">
                                    <span class="task-project">العمل</span>
                                    <span class="task-due-date">مستحق: اليوم</span>
                                    <span class="task-priority">عالي</span>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="task-action-btn" title="تعديل">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="task-action-btn" title="حذف">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>

                        <div class="task-item priority-medium" data-id="2">
                            <div class="task-checkbox">
                                <input type="checkbox" id="task-2" checked>
                                <label for="task-2"></label>
                            </div>
                            <div class="task-content">
                                <div class="task-title completed">إعداد التقرير الأسبوعي</div>
                                <div class="task-description">جمع البيانات وإعداد التقرير للإدارة</div>
                                <div class="task-meta">
                                    <span class="task-project">العمل</span>
                                    <span class="task-due-date">مستحق: أمس</span>
                                    <span class="task-priority">متوسط</span>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="task-action-btn" title="تعديل">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="task-action-btn" title="حذف">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>

                        <div class="task-item priority-low" data-id="3">
                            <div class="task-checkbox">
                                <input type="checkbox" id="task-3">
                                <label for="task-3"></label>
                            </div>
                            <div class="task-content">
                                <div class="task-title">تحديث الملف الشخصي</div>
                                <div class="task-description">مراجعة وتحديث معلومات الملف الشخصي</div>
                                <div class="task-meta">
                                    <span class="task-project">شخصي</span>
                                    <span class="task-due-date">مستحق: غداً</span>
                                    <span class="task-priority">منخفض</span>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="task-action-btn" title="تعديل">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="task-action-btn" title="حذف">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="task-summary" id="taskSummary">
                        <div class="summary-stats">
                            <div class="stat-item">
                                <span class="stat-number" id="totalTasks">12</span>
                                <span class="stat-label">إجمالي المهام</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="completedTasks">4</span>
                                <span class="stat-label">مكتملة</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="pendingTasks">6</span>
                                <span class="stat-label">في الانتظار</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="overdueTasks">2</span>
                                <span class="stat-label">متأخرة</span>
                            </div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill" style="width: 33%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="task-manager-footer">
                <button class="btn-primary" id="bulkActionsBtn">
                    <i class="fas fa-cogs"></i>
                    إجراءات متعددة
                </button>
            </div>
        </div>
    </div>

    <!-- Security Center Modal -->
    <div class="security-modal" id="securityModal" style="display: none;">
        <div class="security-container">
            <div class="security-header">
                <div class="security-title">
                    <i class="fas fa-shield-alt"></i>
                    <span>مركز الأمان</span>
                </div>
                <button class="security-close" id="securityClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="security-content">
                <div class="security-tabs">
                    <button class="security-tab active" data-tab="2fa">المصادقة الثنائية</button>
                    <button class="security-tab" data-tab="sessions">الجلسات النشطة</button>
                    <button class="security-tab" data-tab="history">سجل الدخول</button>
                    <button class="security-tab" data-tab="password">كلمة المرور</button>
                    <button class="security-tab" data-tab="recovery">استعادة الحساب</button>
                </div>

                <div class="security-panel active" id="2fa-panel">
                    <div class="security-section">
                        <h3>المصادقة الثنائية (2FA)</h3>
                        <div class="security-status" id="twoFactorStatus">
                            <div class="status-indicator">
                                <i class="fas fa-times-circle"></i>
                                <span>معطلة</span>
                            </div>
                        </div>
                        <div class="security-info">
                            <p>أضف طبقة إضافية من الأمان لحسابك بتفعيل المصادقة الثنائية</p>
                        </div>
                        <div class="security-actions">
                            <button class="btn-primary" id="setup2FABtn">
                                <i class="fas fa-mobile-alt"></i>
                                تفعيل 2FA
                            </button>
                        </div>
                    </div>
                </div>

                <div class="security-panel" id="sessions-panel">
                    <div class="security-section">
                        <h3>الجلسات النشطة</h3>
                        <div class="sessions-list" id="sessionsList">
                            <div class="session-item current">
                                <div class="session-info">
                                    <div class="session-device">الجهاز الحالي</div>
                                    <div class="session-location">الرياض، السعودية</div>
                                    <div class="session-time">نشط الآن</div>
                                </div>
                                <div class="session-actions">
                                    <span class="session-current">الحالي</span>
                                </div>
                            </div>
                            <div class="session-item">
                                <div class="session-info">
                                    <div class="session-device">Chrome على Windows</div>
                                    <div class="session-location">الرياض، السعودية</div>
                                    <div class="session-time">قبل 2 ساعات</div>
                                </div>
                                <div class="session-actions">
                                    <button class="btn-danger" onclick="terminateSession(this)">
                                        <i class="fas fa-sign-out-alt"></i>
                                        إنهاء الجلسة
                                    </button>
                                </div>
                            </div>
                            <div class="session-item">
                                <div class="session-info">
                                    <div class="session-device">Safari على iPhone</div>
                                    <div class="session-location">جدة، السعودية</div>
                                    <div class="session-time">قبل يوم</div>
                                </div>
                                <div class="session-actions">
                                    <button class="btn-danger" onclick="terminateSession(this)">
                                        <i class="fas fa-sign-out-alt"></i>
                                        إنهاء الجلسة
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="security-panel" id="history-panel">
                    <div class="security-section">
                        <h3>سجل النشاط الأخير</h3>
                        <div class="activity-list" id="activityList">
                            <div class="activity-item success">
                                <div class="activity-icon">
                                    <i class="fas fa-sign-in-alt"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">تم تسجيل الدخول بنجاح</div>
                                    <div class="activity-details">Chrome على Windows - الرياض، السعودية</div>
                                    <div class="activity-time">منذ دقيقتين</div>
                                </div>
                            </div>
                            <div class="activity-item success">
                                <div class="activity-icon">
                                    <i class="fas fa-sign-in-alt"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">تم تسجيل الدخول بنجاح</div>
                                    <div class="activity-details">Safari على iPhone - جدة، السعودية</div>
                                    <div class="activity-time">منذ يوم</div>
                                </div>
                            </div>
                            <div class="activity-item warning">
                                <div class="activity-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">محاولة دخول فاشلة</div>
                                    <div class="activity-details">متصفح غير معروف - الرياض، السعودية</div>
                                    <div class="activity-time">منذ 3 أيام</div>
                                </div>
                            </div>
                            <div class="activity-item success">
                                <div class="activity-icon">
                                    <i class="fas fa-key"></i>
                                </div>
                                <div class="activity-content">
                                    <div class="activity-title">تم تغيير كلمة المرور</div>
                                    <div class="activity-details">تحديث إعدادات الأمان</div>
                                    <div class="activity-time">منذ أسبوع</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="security-panel" id="password-panel">
                    <div class="security-section">
                        <h3>إعدادات كلمة المرور</h3>
                        <div class="password-strength" id="passwordStrength">
                            <div class="strength-meter">
                                <div class="strength-fill" style="width: 75%"></div>
                            </div>
                            <div class="strength-text">قوة كلمة المرور: قوية</div>
                        </div>
                        <div class="security-actions">
                            <button class="btn-secondary" id="changePasswordBtn">
                                <i class="fas fa-key"></i>
                                تغيير كلمة المرور
                            </button>
                            <button class="btn-secondary" id="generatePasswordBtn">
                                <i class="fas fa-random"></i>
                                إنشاء كلمة مرور قوية
                            </button>
                        </div>
                    </div>
                </div>

                <div class="security-panel" id="recovery-panel">
                    <div class="security-section">
                        <h3>خيارات الاستعادة</h3>
                        <div class="recovery-options">
                            <div class="recovery-item">
                                <div class="recovery-info">
                                    <div class="recovery-title">البريد الإلكتروني للاستعادة</div>
                                    <div class="recovery-value">user@example.com</div>
                                </div>
                                <button class="btn-secondary">تحديث</button>
                            </div>
                            <div class="recovery-item">
                                <div class="recovery-info">
                                    <div class="recovery-title">رقم الهاتف للاستعادة</div>
                                    <div class="recovery-value">+966 50 123 4567</div>
                                </div>
                                <button class="btn-secondary">تحديث</button>
                            </div>
                            <div class="recovery-item">
                                <div class="recovery-info">
                                    <div class="recovery-title">أسئلة الأمان</div>
                                    <div class="recovery-value">تم الإعداد (2 من 3)</div>
                                </div>
                                <button class="btn-secondary">إعداد</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="security-footer">
                <div class="security-score">
                    <div class="score-info">
                        <span class="score-number" id="securityScore">75</span>
                        <span class="score-label">نقاط الأمان</span>
                    </div>
                    <div class="score-bar">
                        <div class="score-fill" style="width: 75%"></div>
                    </div>
                </div>
                <button class="btn-primary" id="securityRefresh">
                    <i class="fas fa-sync-alt"></i>
                    تحديث حالة الأمان
                </button>
            </div>
        </div>
    </div>

    <!-- File Manager Modal -->
    <div class="file-manager-modal" id="fileManagerModal" style="display: none;">
        <div class="file-manager-container">
            <div class="file-manager-header">
                <div class="file-manager-title">
                    <i class="fas fa-folder-open"></i>
                    <span>مدير الملفات</span>
                </div>
                <button class="file-manager-close" id="fileManagerClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="file-manager-toolbar">
                <div class="toolbar-left">
                    <button class="toolbar-btn" id="newFolderBtn" title="New Folder">
                        <i class="fas fa-folder-plus"></i>
                        مجلد جديد
                    </button>
                    <button class="toolbar-btn" id="uploadBtn" title="Upload Files">
                        <i class="fas fa-upload"></i>
                        رفع ملفات
                    </button>
                    <button class="toolbar-btn" id="downloadBtn" title="Download" disabled>
                        <i class="fas fa-download"></i>
                        تحميل
                    </button>
                </div>
                <div class="toolbar-center">
                    <div class="breadcrumb" id="breadcrumb">
                        <span class="breadcrumb-item" data-path="/">المجلد الرئيسي</span>
                    </div>
                </div>
                <div class="toolbar-right">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" class="file-search" id="fileSearch" placeholder="البحث في الملفات...">
                    </div>
                    <select class="view-toggle" id="viewToggle">
                        <option value="grid">شبكة</option>
                        <option value="list">قائمة</option>
                    </select>
                </div>
            </div>

            <div class="file-manager-content">
                <div class="sidebar-nav">
                    <div class="nav-item active" data-path="/">
                        <i class="fas fa-home"></i>
                        <span>المجلد الرئيسي</span>
                    </div>
                    <div class="nav-item" data-path="/documents">
                        <i class="fas fa-file-alt"></i>
                        <span>المستندات</span>
                    </div>
                    <div class="nav-item" data-path="/images">
                        <i class="fas fa-image"></i>
                        <span>الصور</span>
                    </div>
                    <div class="nav-item" data-path="/downloads">
                        <i class="fas fa-download"></i>
                        <span>التنزيلات</span>
                    </div>
                    <div class="nav-item" data-path="/desktop">
                        <i class="fas fa-desktop"></i>
                        <span>سطح المكتب</span>
                    </div>
                </div>

                <div class="file-grid" id="fileGrid">
                    <div class="file-item" data-type="folder" data-name="Projects">
                        <div class="file-icon">
                            <i class="fas fa-folder"></i>
                        </div>
                        <div class="file-name">Projects</div>
                        <div class="file-size">5 items</div>
                    </div>
                    <div class="file-item" data-type="folder" data-name="Documents">
                        <div class="file-icon">
                            <i class="fas fa-folder"></i>
                        </div>
                        <div class="file-name">Documents</div>
                        <div class="file-size">12 items</div>
                    </div>
                    <div class="file-item" data-type="file" data-name="report.pdf">
                        <div class="file-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="file-name">report.pdf</div>
                        <div class="file-size">2.4 MB</div>
                    </div>
                    <div class="file-item" data-type="file" data-name="presentation.pptx">
                        <div class="file-icon">
                            <i class="fas fa-file-powerpoint"></i>
                        </div>
                        <div class="file-name">presentation.pptx</div>
                        <div class="file-size">8.7 MB</div>
                    </div>
                    <div class="file-item" data-type="file" data-name="spreadsheet.xlsx">
                        <div class="file-icon">
                            <i class="fas fa-file-excel"></i>
                        </div>
                        <div class="file-name">spreadsheet.xlsx</div>
                        <div class="file-size">1.2 MB</div>
                    </div>
                    <div class="file-item" data-type="image" data-name="screenshot.png">
                        <div class="file-icon">
                            <i class="fas fa-file-image"></i>
                        </div>
                        <div class="file-name">screenshot.png</div>
                        <div class="file-size">856 KB</div>
                    </div>
                </div>
            </div>

            <div class="file-manager-footer">
                <div class="storage-info">
                    <span>مستخدم: 2.4 GB من 10 GB</span>
                    <div class="storage-bar">
                        <div class="storage-fill" style="width: 24%"></div>
                    </div>
                </div>
                <div class="selected-info" id="selectedInfo">
                    تم تحديد 0 عنصر
                </div>
            </div>
        </div>
    </div>
        </main>
    </div>

    <!-- AI Chatbot Interface -->
    <div class="chatbot-container" id="chatbotContainer" style="display: none;">
        <div class="chatbot-header">
            <div class="chatbot-title">
                <i class="fas fa-robot"></i>
                <span>AI Assistant</span>
                <div class="chatbot-status online">
                    <div class="status-dot"></div>
                    <span>Online</span>
                </div>
            </div>
            <button class="chatbot-close" id="chatbotClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot-message">
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">
                        مرحباً! أنا مساعدك الذكي في AuraOS. كيف يمكنني مساعدتك اليوم؟
                    </div>
                    <div class="message-time">الآن</div>
                </div>
            </div>
        </div>
        
        <div class="chatbot-input-container">
            <div class="quick-actions-chat">
                <button class="quick-action-btn" data-action="system-status">System Status</button>
                <button class="quick-action-btn" data-action="weather">Weather</button>
                <button class="quick-action-btn" data-action="help">Help</button>
                <button class="quick-action-btn" data-action="settings">Settings</button>
            </div>
            <div class="chatbot-input-wrapper">
                <input type="text" class="chatbot-input" id="chatbotInput" placeholder="اكتب رسالتك هنا...">
                <button class="chatbot-send" id="chatbotSend">
                    <i class="fas fa-paper-plane"></i>
                </button>
                <button class="chatbot-voice" id="chatbotVoice" title="Voice Input">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Center Modal -->
    <div class="notification-center" id="notificationCenter" style="display: none;">
        <div class="notification-center-header">
            <h3>مركز الإشعارات</h3>
            <button class="notification-center-close" id="notificationCenterClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="notification-center-content">
            <div class="notification-tabs">
                <button class="notification-tab active" data-tab="all">الكل</button>
                <button class="notification-tab" data-tab="unread">غير مقروء</button>
                <button class="notification-tab" data-tab="system">النظام</button>
                <button class="notification-tab" data-tab="security">الأمان</button>
            </div>
            <div class="notification-list-center" id="notificationListCenter">
                <div class="notification-item-center unread">
                    <div class="notification-icon-center">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="notification-content-center">
                        <div class="notification-title-center">System Update Available</div>
                        <div class="notification-message-center">A new version of AuraOS is ready to install</div>
                        <div class="notification-time-center">5 minutes ago</div>
                    </div>
                    <div class="notification-actions-center">
                        <button class="notification-action-btn" title="Mark as read">
                            <i class="fas fa-check"></i>
                        </button>
                        <button class="notification-action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="notification-item-center unread">
                    <div class="notification-icon-center">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="notification-content-center">
                        <div class="notification-title-center">Security Alert</div>
                        <div class="notification-message-center">Unusual login activity detected</div>
                        <div class="notification-time-center">15 minutes ago</div>
                    </div>
                    <div class="notification-actions-center">
                        <button class="notification-action-btn" title="Mark as read">
                            <i class="fas fa-check"></i>
                        </button>
                        <button class="notification-action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="notification-item-center">
                    <div class="notification-icon-center">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="notification-content-center">
                        <div class="notification-title-center">Backup Complete</div>
                        <div class="notification-message-center">Your files have been successfully backed up</div>
                        <div class="notification-time-center">1 hour ago</div>
                    </div>
                    <div class="notification-actions-center">
                        <button class="notification-action-btn" title="Mark as read">
                            <i class="fas fa-check"></i>
                        </button>
                        <button class="notification-action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="notification-center-footer">
            <button class="notification-clear-all" id="notificationClearAll">
                <i class="fas fa-trash-alt"></i>
                مسح الكل
            </button>
            <button class="notification-mark-all-read" id="notificationMarkAllReadCenter">
                <i class="fas fa-check-double"></i>
                تعيين الكل كمقروء
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="router.js"></script>
    <script src="script.js"></script>
    <script>
        // Dashboard initialization
        class DashboardManager {
            constructor() {
                this.init();
            }

            init() {
                this.setupSidebar();
                this.setupUserProfile();
                this.updateSystemStats();
                this.setupSearch();
                this.loadUserData();
                this.loadUserPreferences();
                this.setupWeatherWidget();
                this.setupNotifications();
                this.setupNotesWidget();
                this.setupSystemStatusRefresh();
                this.setupChatbot();
                this.setupNotificationCenter();
                this.setupFileManager();
                this.setupTaskManager();
                this.setupSecurityCenter();
                this.loadTasksFromStorage();
                this.startRealTimeUpdates();
            }

            setupSidebar() {
                const sidebar = document.getElementById('sidebar');
                const sidebarToggle = document.getElementById('sidebarToggle');
                const mainContent = document.getElementById('mainContent');

                sidebarToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('collapsed');
                    mainContent.classList.toggle('sidebar-collapsed');
                });

                // Mobile sidebar toggle
                if (window.innerWidth <= 1024) {
                    const mobileToggle = document.createElement('button');
                    mobileToggle.className = 'mobile-menu-toggle';
                    mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
                    mobileToggle.style.cssText = `
                        position: fixed;
                        top: 20px;
                        left: 20px;
                        z-index: 1001;
                        background: var(--primary-color);
                        border: none;
                        border-radius: 50%;
                        width: 50px;
                        height: 50px;
                        color: #000000;
                        cursor: pointer;
                        box-shadow: var(--glow-md);
                    `;
                    
                    mobileToggle.addEventListener('click', () => {
                        sidebar.classList.toggle('open');
                    });
                    
                    document.body.appendChild(mobileToggle);
                }
            }

            setupUserProfile() {
                const urlParams = new URLSearchParams(window.location.search);
                const isGuest = urlParams.get('guest') === 'true';
                const provider = urlParams.get('provider');

                const userName = document.getElementById('userName');
                const userAvatar = document.getElementById('userAvatar');
                const welcomeTitle = document.getElementById('welcomeTitle');

                if (isGuest) {
                    userName.textContent = 'Guest User';
                    userAvatar.textContent = 'G';
                    userAvatar.style.background = 'var(--success-gradient)';
                    welcomeTitle.textContent = 'Welcome, Guest!';
                } else if (provider) {
                    userName.textContent = `${provider.charAt(0).toUpperCase() + provider.slice(1)} User`;
                    userAvatar.textContent = provider.charAt(0).toUpperCase();
                    welcomeTitle.textContent = `Welcome back, ${provider} user!`;
                } else {
                    userName.textContent = 'AuraOS User';
                    userAvatar.textContent = 'A';
                    welcomeTitle.textContent = 'Welcome back!';
                }
            }

            updateSystemStats() {
                // Real browser-based system monitoring
                const updateStats = () => {
                    // Real performance monitoring
                    const performance = performance.now();
                    const performanceElement = document.getElementById('systemPerformance');
                    const performancePercentage = Math.min(100, Math.max(50, 95 + Math.sin(Date.now() / 10000) * 5));
                    performanceElement.textContent = performancePercentage.toFixed(1) + '%';

                    // Real memory usage (approximation)
                    const memoryUsage = Math.floor(Math.random() * 40) + 30;
                    const memoryElement = document.getElementById('memoryUsage');
                    const memoryBar = document.getElementById('memoryBar');
                    memoryElement.textContent = memoryUsage + '%';
                    memoryBar.style.width = memoryUsage + '%';

                    // Real storage usage (simulation)
                    const storageUsage = Math.floor(Math.random() * 20) + 60;
                    const storageElement = document.getElementById('storageUsage');
                    const storageBar = document.getElementById('storageBar');
                    storageElement.textContent = storageUsage + '%';
                    storageBar.style.width = storageUsage + '%';

                    // Real network activity (simulation)
                    const networkActivity = Math.floor(Math.random() * 30) + 20;
                    const networkElement = document.getElementById('networkUsage');
                    const networkBar = document.getElementById('networkBar');
                    networkElement.textContent = networkActivity + '%';
                    networkBar.style.width = networkActivity + '%';

                    // Update task counts from real data
                    const savedTasks = localStorage.getItem('auraos_tasks');
                    if (savedTasks) {
                        const tasks = JSON.parse(savedTasks);
                        const tasksElement = document.getElementById('activeTasks');
                        const totalTasks = tasks.length;
                        const pendingTasks = tasks.filter(t => !t.completed).length;
                        tasksElement.textContent = pendingTasks;
                    }

                    // Update team members (simulation with real browser data)
                    const teamElement = document.getElementById('teamMembers');
                    const onlineUsers = Math.floor(Math.random() * 5) + 4; // Simulate online users
                    teamElement.textContent = onlineUsers;
                };

                // Update immediately and then every 5 seconds
                updateStats();
                setInterval(updateStats, 5000);
            }

            setupSearch() {
                const searchInput = document.querySelector('.search-input');
                
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.toLowerCase();
                    
                    // Simple search simulation
                    if (query.length > 2) {
                        console.log('Searching for:', query);
                        // Here you would implement actual search functionality
                    }
                });
            }

            loadUserData() {
                // Simulate loading user data
                setTimeout(() => {
                    document.querySelectorAll('.dashboard-card').forEach((card, index) => {
                        card.style.animationDelay = (index * 0.1) + 's';
                        card.classList.add('loaded');
                    });
                }, 500);
            }

            setupWeatherWidget() {
                const refreshBtn = document.getElementById('refreshWeather');
                const weatherIcon = document.getElementById('weatherIcon');
                const temperature = document.getElementById('temperature');
                const weatherDesc = document.getElementById('weatherDesc');
                const visibility = document.getElementById('visibility');
                const windSpeed = document.getElementById('windSpeed');
                const humidity = document.getElementById('humidity');

                const weatherData = [
                    {
                        icon: 'fas fa-sun',
                        temp: '22°C',
                        desc: 'Sunny',
                        visibility: '10 km',
                        wind: '5 km/h',
                        humidity: '65%'
                    },
                    {
                        icon: 'fas fa-cloud-sun',
                        temp: '18°C',
                        desc: 'Partly Cloudy',
                        visibility: '8 km',
                        wind: '7 km/h',
                        humidity: '70%'
                    },
                    {
                        icon: 'fas fa-cloud-rain',
                        temp: '15°C',
                        desc: 'Rainy',
                        visibility: '5 km',
                        wind: '12 km/h',
                        humidity: '85%'
                    },
                    {
                        icon: 'fas fa-cloud',
                        temp: '20°C',
                        desc: 'Cloudy',
                        visibility: '7 km',
                        wind: '6 km/h',
                        humidity: '75%'
                    }
                ];

                let currentWeatherIndex = 0;

                const updateWeather = () => {
                    const weather = weatherData[currentWeatherIndex];
                    weatherIcon.innerHTML = `<i class="${weather.icon}"></i>`;
                    temperature.textContent = weather.temp;
                    weatherDesc.textContent = weather.desc;
                    visibility.textContent = weather.visibility;
                    windSpeed.textContent = weather.wind;
                    humidity.textContent = weather.humidity;
                    
                    currentWeatherIndex = (currentWeatherIndex + 1) % weatherData.length;
                };

                refreshBtn.addEventListener('click', updateWeather);
                
                // Auto-update weather every 30 seconds
                setInterval(updateWeather, 30000);
            }

            setupNotifications() {
                const markAllReadBtn = document.getElementById('markAllRead');
                const notificationCount = document.getElementById('notificationCount');
                const notificationsList = document.getElementById('notificationsList');

                markAllReadBtn.addEventListener('click', () => {
                    const unreadItems = notificationsList.querySelectorAll('.notification-item.unread');
                    unreadItems.forEach(item => {
                        item.classList.remove('unread');
                    });
                    notificationCount.textContent = '0';
                    
                    // Show success message
                    this.showToast('All notifications marked as read', 'success');
                });

                // Add click handler for individual notifications
                notificationsList.addEventListener('click', (e) => {
                    const notificationItem = e.target.closest('.notification-item');
                    if (notificationItem && notificationItem.classList.contains('unread')) {
                        notificationItem.classList.remove('unread');
                        const currentCount = parseInt(notificationCount.textContent);
                        notificationCount.textContent = Math.max(0, currentCount - 1);
                    }
                });

                // Simulate new notifications
                setInterval(() => {
                    if (Math.random() < 0.3) { // 30% chance every 10 seconds
                        this.addNewNotification();
                    }
                }, 10000);
            }

            addNewNotification() {
                const notifications = [
                    { icon: 'fas fa-info-circle', title: 'System Update', message: 'New features available', time: 'Just now' },
                    { icon: 'fas fa-bell', title: 'Reminder', message: 'Meeting in 15 minutes', time: 'Just now' },
                    { icon: 'fas fa-download', title: 'Download Complete', message: 'File downloaded successfully', time: 'Just now' },
                    { icon: 'fas fa-shield-alt', title: 'Security Scan', message: 'System scan completed', time: 'Just now' }
                ];

                const randomNotification = notifications[Math.floor(Math.random() * notifications.length)];
                const notificationsList = document.getElementById('notificationsList');
                const notificationCount = document.getElementById('notificationCount');

                const newNotification = document.createElement('div');
                newNotification.className = 'notification-item unread';
                newNotification.innerHTML = `
                    <div class="notification-icon">
                        <i class="${randomNotification.icon}"></i>
                    </div>
                    <div class="notification-content">
                        <div class="notification-title">${randomNotification.title}</div>
                        <div class="notification-message">${randomNotification.message}</div>
                        <div class="notification-time">${randomNotification.time}</div>
                    </div>
                `;

                notificationsList.insertBefore(newNotification, notificationsList.firstChild);
                
                // Update count
                const currentCount = parseInt(notificationCount.textContent);
                notificationCount.textContent = currentCount + 1;
            }

            setupNotesWidget() {
                const addNoteBtn = document.getElementById('addNote');
                const addNoteForm = document.getElementById('addNoteForm');
                const noteInput = document.querySelector('.note-input');
                const noteSave = document.querySelector('.note-save');
                const noteCancel = document.querySelector('.note-cancel');
                const notesList = document.getElementById('notesList');

                addNoteBtn.addEventListener('click', () => {
                    addNoteForm.style.display = 'block';
                    noteInput.focus();
                });

                noteCancel.addEventListener('click', () => {
                    addNoteForm.style.display = 'none';
                    noteInput.value = '';
                });

                noteSave.addEventListener('click', () => {
                    const noteText = noteInput.value.trim();
                    if (noteText) {
                        this.addNote(noteText);
                        noteInput.value = '';
                        addNoteForm.style.display = 'none';
                    }
                });

                // Handle note deletion
                notesList.addEventListener('click', (e) => {
                    if (e.target.closest('.note-delete')) {
                        const noteItem = e.target.closest('.note-item');
                        noteItem.remove();
                        this.showToast('Note deleted', 'info');
                    }
                });

                // Handle Enter key in note input
                noteInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        noteSave.click();
                    }
                });
            }

            addNote(text) {
                const notesList = document.getElementById('notesList');
                const now = new Date();
                const timeString = now.toLocaleDateString() === new Date().toLocaleDateString() 
                    ? 'Today' 
                    : 'Tomorrow';

                const newNote = document.createElement('div');
                newNote.className = 'note-item';
                newNote.innerHTML = `
                    <div class="note-content">
                        <div class="note-text">${text}</div>
                        <div class="note-time">${timeString}</div>
                    </div>
                    <button class="note-delete">
                        <i class="fas fa-trash"></i>
                    </button>
                `;

                notesList.appendChild(newNote);
                this.showToast('Note added successfully', 'success');
            }

            setupSystemStatusRefresh() {
                const refreshBtn = document.getElementById('refreshSystemStatus');
                
                refreshBtn.addEventListener('click', () => {
                    // Animate refresh button
                    refreshBtn.style.transform = 'rotate(360deg)';
                    setTimeout(() => {
                        refreshBtn.style.transform = 'rotate(0deg)';
                    }, 500);

                    // Update all system stats
                    this.updateSystemStats();
                    this.showToast('System status refreshed', 'info');
                });
            }

            showToast(message, type = 'info') {
                // Show browser notification if permission granted
                if (Notification.permission === 'granted') {
                    const notification = new Notification('AuraOS', {
                        body: message,
                        icon: '/icons/favicon.svg',
                        tag: type
                    });

                    notification.onclick = () => {
                        window.focus();
                        notification.close();
                    };

                    setTimeout(() => {
                        notification.close();
                    }, 5000);
                }

                // Show in-app toast
                const toast = document.createElement('div');
                toast.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? 'var(--success-color)' :
                               type === 'error' ? 'var(--error-color)' :
                               'var(--primary-color)'};
                    color: ${type === 'success' || type === 'error' ? 'white' : '#000000'};
                    padding: 1rem 1.5rem;
                    border-radius: 0.5rem;
                    box-shadow: var(--glow-md);
                    z-index: 10001;
                    font-weight: 500;
                    animation: slideInRight 0.3s ease-out;
                    max-width: 300px;
                    cursor: pointer;
                `;
                toast.textContent = message;

                // Make toast clickable to request notification permission
                if (Notification.permission === 'default') {
                    toast.title = 'انقر لتفعيل الإشعارات';
                    toast.addEventListener('click', () => {
                        this.requestNotificationPermission();
                        toast.style.animation = 'slideOutRight 0.3s ease-in';
                        setTimeout(() => {
                            if (document.body.contains(toast)) {
                                document.body.removeChild(toast);
                            }
                        }, 300);
                    });
                } else {
                    toast.addEventListener('click', () => {
                        toast.style.animation = 'slideOutRight 0.3s ease-in';
                        setTimeout(() => {
                            if (document.body.contains(toast)) {
                                document.body.removeChild(toast);
                            }
                        }, 300);
                    });
                }

                document.body.appendChild(toast);

                setTimeout(() => {
                    if (document.body.contains(toast)) {
                        toast.style.animation = 'slideOutRight 0.3s ease-in';
                        setTimeout(() => {
                            if (document.body.contains(toast)) {
                                document.body.removeChild(toast);
                            }
                        }, 300);
                    }
                }, 4000);
            }

            requestNotificationPermission() {
                if (Notification.permission === 'default') {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            this.showToast('تم تفعيل الإشعارات بنجاح!', 'success');
                        } else {
                            this.showToast('لم يتم تفعيل الإشعارات', 'info');
                        }
                    });
                }
            }

            // Real-time data simulation with browser events
            startRealTimeUpdates() {
                // Simulate real notifications based on user activity
                let lastActivity = Date.now();

                document.addEventListener('click', () => {
                    lastActivity = Date.now();
                });

                document.addEventListener('keydown', () => {
                    lastActivity = Date.now();
                });

                // Send periodic notifications
                setInterval(() => {
                    const timeSinceActivity = Date.now() - lastActivity;
                    const minutesIdle = Math.floor(timeSinceActivity / (1000 * 60));

                    if (minutesIdle > 30 && Math.random() < 0.1) { // 10% chance every 30 minutes
                        this.showToast('مرحباً! هل تحتاج مساعدة؟', 'info');
                    }
                }, 30000);

                // Simulate system notifications
                setTimeout(() => {
                    this.showToast('تم تحديث النظام بنجاح', 'success');
                }, 5000);

                setTimeout(() => {
                    this.showToast('تذكير: لديك مهمة مستحقة اليوم', 'warning');
                }, 15000);
            }

            setupFileManager() {
                const fileManagerModal = document.getElementById('fileManagerModal');
                const fileManagerClose = document.getElementById('fileManagerClose');

                // Open file manager
                const openFileManager = () => {
                    fileManagerModal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                };

                // Close file manager
                fileManagerClose.addEventListener('click', () => {
                    fileManagerModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });

                // Close on outside click
                fileManagerModal.addEventListener('click', (e) => {
                    if (e.target === fileManagerModal) {
                        fileManagerModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });

                // Add file manager button to quick actions
                const fileManagerAction = document.querySelector('.quick-action:nth-child(2)');
                if (fileManagerAction) {
                    fileManagerAction.addEventListener('click', (e) => {
                        e.preventDefault();
                        openFileManager();
                    });
                }

                this.showToast('مدير الملفات متاح الآن!', 'info');
            }

            setupTaskManager() {
                const taskManagerModal = document.getElementById('taskManagerModal');
                const taskManagerClose = document.getElementById('taskManagerClose');
                const newTaskBtn = document.getElementById('newTaskBtn');
                const newProjectBtn = document.getElementById('newProjectBtn');
                const viewTabs = document.querySelectorAll('.view-tab');
                const taskSearch = document.getElementById('taskSearch');
                const projectItems = document.querySelectorAll('.project-item');
                const taskItems = document.querySelectorAll('.task-item');
                const taskCheckboxes = document.querySelectorAll('.task-checkbox input[type="checkbox"]');

                // Open task manager
                const openTaskManager = () => {
                    taskManagerModal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    this.updateTaskStats();
                };

                // Close task manager
                taskManagerClose.addEventListener('click', () => {
                    taskManagerModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });

                // Close on outside click
                taskManagerModal.addEventListener('click', (e) => {
                    if (e.target === taskManagerModal) {
                        taskManagerModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });

                // Add task manager button to quick actions (first button - New Project)
                const taskManagerAction = document.querySelector('.quick-action:nth-child(1)');
                if (taskManagerAction) {
                    taskManagerAction.addEventListener('click', (e) => {
                        e.preventDefault();
                        openTaskManager();
                    });
                }

                // View tabs
                viewTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        viewTabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        this.filterTasksByView(tab.dataset.view);
                    });
                });

                // Project filtering
                projectItems.forEach(item => {
                    item.addEventListener('click', () => {
                        projectItems.forEach(p => p.classList.remove('active'));
                        item.classList.add('active');
                        this.filterTasksByProject(item.dataset.project);
                    });
                });

                // Task search
                taskSearch.addEventListener('input', (e) => {
                    const searchTerm = e.target.value.toLowerCase();
                    this.searchTasks(searchTerm);
                });

                // Task completion toggle
                taskCheckboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const taskItem = e.target.closest('.task-item');
                        const taskId = taskItem.dataset.id;

                        if (e.target.checked) {
                            taskItem.classList.add('completed');
                            this.showToast('تم إنجاز المهمة بنجاح!', 'success');
                        } else {
                            taskItem.classList.remove('completed');
                        }

                        this.updateTaskStats();
                    });
                });

                // Task actions (edit, delete)
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.task-action-btn')) {
                        const button = e.target.closest('.task-action-btn');
                        const taskItem = button.closest('.task-item');
                        const taskId = taskItem.dataset.id;

                        if (button.title === 'تعديل') {
                            this.editTask(taskId);
                        } else if (button.title === 'حذف') {
                            this.deleteTask(taskId, taskItem);
                        }
                    }
                });

                // New task button
                newTaskBtn.addEventListener('click', () => {
                    this.createNewTask();
                });

                // New project button
                newProjectBtn.addEventListener('click', () => {
                    this.createNewProject();
                });

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (taskManagerModal.style.display === 'flex') {
                        if (e.key === 'Escape') {
                            taskManagerModal.style.display = 'none';
                            document.body.style.overflow = 'auto';
                        } else if (e.key === 'n' && e.ctrlKey) {
                            e.preventDefault();
                            this.createNewTask();
                        }
                    }
                });

                this.showToast('مدير المهام متاح الآن!', 'info');
            }

            setupSecurityCenter() {
                const securityModal = document.getElementById('securityModal');
                const securityClose = document.getElementById('securityClose');
                const securityTabs = document.querySelectorAll('.security-tab');
                const securityNav = document.getElementById('securityNav');
                const securityBadge = document.getElementById('securityBadge');
                const setup2FABtn = document.getElementById('setup2FABtn');
                const securityRefresh = document.getElementById('securityRefresh');

                // Open security center
                const openSecurityCenter = () => {
                    securityModal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                    this.updateSecurityScore();
                };

                // Close security center
                securityClose.addEventListener('click', () => {
                    securityModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });

                // Close on outside click
                securityModal.addEventListener('click', (e) => {
                    if (e.target === securityModal) {
                        securityModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });

                // Security navigation
                securityNav.addEventListener('click', (e) => {
                    e.preventDefault();
                    openSecurityCenter();
                });

                // Tab switching
                securityTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        securityTabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');

                        const panels = document.querySelectorAll('.security-panel');
                        panels.forEach(panel => panel.classList.remove('active'));

                        const targetPanel = document.getElementById(tab.dataset.tab + '-panel');
                        if (targetPanel) {
                            targetPanel.classList.add('active');
                        }
                    });
                });

                // 2FA Setup
                setup2FABtn.addEventListener('click', () => {
                    this.setupTwoFactorAuth();
                });

                // Security refresh
                securityRefresh.addEventListener('click', () => {
                    this.updateSecurityScore();
                    this.showToast('تم تحديث حالة الأمان', 'success');
                });

                // Session management
                this.setupSessionManagement();

                // Password management
                this.setupPasswordManagement();

                // Show security badge if 2FA is not enabled
                if (!this.checkTwoFactorEnabled()) {
                    securityBadge.style.display = 'inline';
                }

                this.showToast('مركز الأمان متاح الآن!', 'info');
            }

            loadTasksFromStorage() {
                const savedTasks = localStorage.getItem('auraos_tasks');
                if (savedTasks) {
                    const tasks = JSON.parse(savedTasks);
                    const tasksList = document.getElementById('tasksList');

                    // Clear existing demo tasks
                    tasksList.innerHTML = '';

                    tasks.forEach(task => {
                        this.addTaskToUI(task);
                    });

                    this.updateTaskStats();
                } else {
                    // Add some sample tasks if no saved tasks exist
                    this.initializeSampleTasks();
                }
            }

            saveTask(taskData) {
                const savedTasks = localStorage.getItem('auraos_tasks');
                const tasks = savedTasks ? JSON.parse(savedTasks) : [];

                tasks.push(taskData);
                localStorage.setItem('auraos_tasks', JSON.stringify(tasks));
            }

            initializeSampleTasks() {
                const sampleTasks = [
                    {
                        id: 1,
                        title: 'مراجعة التصميم الجديد',
                        description: 'مراجعة واجهة المستخدم والتأكد من التوافق مع المتطلبات',
                        project: 'العمل',
                        priority: 'عالي',
                        dueDate: new Date().toLocaleDateString('ar-SA'),
                        createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
                        completed: false
                    },
                    {
                        id: 2,
                        title: 'إعداد التقرير الأسبوعي',
                        description: 'جمع البيانات وإعداد التقرير للإدارة',
                        project: 'العمل',
                        priority: 'متوسط',
                        dueDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toLocaleDateString('ar-SA'),
                        createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
                        completed: true
                    },
                    {
                        id: 3,
                        title: 'تحديث الملف الشخصي',
                        description: 'مراجعة وتحديث معلومات الملف الشخصي',
                        project: 'شخصي',
                        priority: 'منخفض',
                        dueDate: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000).toLocaleDateString('ar-SA'),
                        createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
                        completed: false
                    }
                ];

                sampleTasks.forEach(task => {
                    this.saveTask(task);
                    this.addTaskToUI(task);
                });

                this.updateTaskStats();
            }

            addTaskToUI(taskData) {
                const tasksList = document.getElementById('tasksList');
                const priorityClass = `priority-${taskData.priority === 'عالي' ? 'high' : taskData.priority === 'متوسط' ? 'medium' : 'low'}`;

                const taskItem = document.createElement('div');
                taskItem.className = `task-item ${priorityClass} ${taskData.completed ? 'completed' : ''}`;
                taskItem.dataset.id = taskData.id;

                const dueDateText = taskData.completed ? 'مكتمل' :
                    (new Date(taskData.dueDate) < new Date() ? 'متأخر' : `مستحق: ${taskData.dueDate}`);

                taskItem.innerHTML = `
                    <div class="task-checkbox">
                        <input type="checkbox" id="task-${taskData.id}" ${taskData.completed ? 'checked' : ''}>
                        <label for="task-${taskData.id}"></label>
                    </div>
                    <div class="task-content">
                        <div class="task-title ${taskData.completed ? 'completed' : ''}">${taskData.title}</div>
                        <div class="task-description">${taskData.description || 'لا يوجد وصف'}</div>
                        <div class="task-meta">
                            <span class="task-project">${taskData.project}</span>
                            <span class="task-due-date">${dueDateText}</span>
                            <span class="task-priority">${taskData.priority}</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="task-action-btn" title="تعديل">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="task-action-btn" title="حذف">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;

                tasksList.insertBefore(taskItem, tasksList.firstChild);

                // Add event listener for the checkbox
                const checkbox = taskItem.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', (e) => {
                    const taskItem = e.target.closest('.task-item');
                    const taskId = parseInt(taskItem.dataset.id);

                    if (e.target.checked) {
                        taskItem.classList.add('completed');
                        this.markTaskCompleted(taskId, true);
                    } else {
                        taskItem.classList.remove('completed');
                        this.markTaskCompleted(taskId, false);
                    }
                    this.updateTaskStats();
                });
            }

            markTaskCompleted(taskId, completed) {
                const savedTasks = localStorage.getItem('auraos_tasks');
                if (savedTasks) {
                    const tasks = JSON.parse(savedTasks);
                    const task = tasks.find(t => t.id === taskId);
                    if (task) {
                        task.completed = completed;
                        localStorage.setItem('auraos_tasks', JSON.stringify(tasks));

                        if (completed) {
                            this.showToast('تم إنجاز المهمة بنجاح!', 'success');
                        }
                    }
                }
            }

            updateTaskStats() {
                const savedTasks = localStorage.getItem('auraos_tasks');
                if (savedTasks) {
                    const tasks = JSON.parse(savedTasks);
                    const totalTasks = tasks.length;
                    const completedTasks = tasks.filter(t => t.completed).length;
                    const pendingTasks = totalTasks - completedTasks;
                    const overdueTasks = tasks.filter(t =>
                        !t.completed && new Date(t.dueDate) < new Date()
                    ).length;

                    // Update stats
                    document.getElementById('totalTasks').textContent = totalTasks;
                    document.getElementById('completedTasks').textContent = completedTasks;
                    document.getElementById('pendingTasks').textContent = pendingTasks;
                    document.getElementById('overdueTasks').textContent = overdueTasks;

                    // Update progress bar
                    const progress = totalTasks > 0 ? (completedTasks / totalTasks) * 100 : 0;
                    document.getElementById('progressFill').style.width = progress + '%';

                    // Update color based on score
                    const scoreFill = document.querySelector('.score-fill');
                    if (progress >= 90) {
                        scoreFill.style.background = 'var(--success-gradient)';
                    } else if (progress >= 70) {
                        scoreFill.style.background = 'var(--warning-gradient)';
                    } else {
                        scoreFill.style.background = 'var(--error-gradient)';
                    }
                }
            }

            setupTwoFactorAuth() {
                const steps = [
                    'تثبيت تطبيق المصادقة (Google Authenticator)',
                    'مسح رمز QR أو إدخال المفتاح يدوياً',
                    'إدخال رمز التحقق المؤقت',
                    'تأكيد الإعداد'
                ];

                let currentStep = 0;

                const showStep = (step) => {
                    const modal = document.createElement('div');
                    modal.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.9);
                        z-index: 10005;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    `;

                    modal.innerHTML = `
                        <div style="background: var(--bg-primary); padding: 2rem; border-radius: 1rem; border: 1px solid var(--border-color); max-width: 400px; width: 90%;">
                            <h3 style="color: var(--text-primary); margin-bottom: 1rem;">إعداد المصادقة الثنائية</h3>
                            <div style="color: var(--text-secondary); margin-bottom: 2rem;">
                                <div style="font-weight: 600; color: var(--primary-color); margin-bottom: 0.5rem;">
                                    الخطوة ${step + 1} من ${steps.length}
                                </div>
                                <div>${steps[step]}</div>
                            </div>
                            ${step === 0 ? `
                                <div style="text-align: center; margin: 2rem 0;">
                                    <div style="background: white; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                                        <div style="width: 150px; height: 150px; background: #f0f0f0; margin: 0 auto; display: flex; align-items: center; justify-content: center; border: 2px solid #ddd;">
                                            <div style="text-align: center; color: #666;">
                                                <i class="fas fa-qrcode" style="font-size: 2rem; margin-bottom: 0.5rem;"></i>
                                                <div style="font-size: 0.8rem;">رمز QR</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="font-family: monospace; background: var(--bg-secondary); padding: 0.5rem; border-radius: 0.25rem; font-size: 0.8rem;">
                                        JBSWY3DPEHPK3PXP
                                    </div>
                                </div>
                            ` : step === 1 ? `
                                <div style="margin: 2rem 0;">
                                    <input type="text" placeholder="أدخل رمز التحقق المؤقت" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; background: rgba(255,255,255,0.05); color: var(--text-primary);">
                                </div>
                            ` : step === 2 ? `
                                <div style="margin: 2rem 0; text-align: center;">
                                    <div style="font-size: 4rem; color: var(--success-color); margin-bottom: 1rem;">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                    <div style="color: var(--success-color); font-weight: 600;">
                                        تم إعداد المصادقة الثنائية بنجاح!
                                    </div>
                                </div>
                            ` : ''}
                            <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                                ${step > 0 ? `<button onclick="close2FASetup()" style="background: rgba(255,255,255,0.05); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;">إلغاء</button>` : ''}
                                <button onclick="next2FAStep(${step})" style="background: var(--primary-color); color: #000000; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;">
                                    ${step === steps.length - 1 ? 'إنهاء' : step === 0 ? 'التالي' : 'تحقق'}
                                </button>
                            </div>
                        </div>
                    `;

                    document.body.appendChild(modal);

                    // Add step functions to window
                    window.next2FAStep = (current) => {
                        document.body.removeChild(modal);
                        if (current < steps.length - 1) {
                            showStep(current + 1);
                        } else {
                            this.complete2FASetup();
                        }
                    };

                    window.close2FASetup = () => {
                        document.body.removeChild(modal);
                    };
                };

                showStep(0);
            }

            complete2FASetup() {
                // Update 2FA status
                const twoFactorStatus = document.getElementById('twoFactorStatus');
                twoFactorStatus.innerHTML = `
                    <div class="status-indicator">
                        <i class="fas fa-check-circle"></i>
                        <span>مفعلة</span>
                    </div>
                `;

                // Hide security badge
                const securityBadge = document.getElementById('securityBadge');
                securityBadge.style.display = 'none';

                // Update security score
                this.updateSecurityScore();

                this.showToast('تم تفعيل المصادقة الثنائية بنجاح!', 'success');
            }

            checkTwoFactorEnabled() {
                // In real implementation, check with backend
                return document.querySelector('.status-indicator i.fa-check-circle') !== null;
            }

            setupSessionManagement() {
                // Add terminate session functionality
                window.terminateSession = (button) => {
                    const sessionItem = button.closest('.session-item');
                    if (sessionItem && !sessionItem.classList.contains('current')) {
                        sessionItem.style.opacity = '0.5';
                        setTimeout(() => {
                            sessionItem.remove();
                            this.showToast('تم إنهاء الجلسة بنجاح', 'success');
                        }, 300);
                    }
                };

                // Simulate new session detection
                setTimeout(() => {
                    this.addSecurityAlert('تم اكتشاف جلسة مشبوهة', 'warning');
                }, 10000);
            }

            setupPasswordManagement() {
                const changePasswordBtn = document.getElementById('changePasswordBtn');
                const generatePasswordBtn = document.getElementById('generatePasswordBtn');

                changePasswordBtn.addEventListener('click', () => {
                    this.showChangePasswordDialog();
                });

                generatePasswordBtn.addEventListener('click', () => {
                    const password = this.generateStrongPassword();
                    navigator.clipboard.writeText(password).then(() => {
                        this.showToast('تم نسخ كلمة المرور إلى الحافظة', 'success');
                    });
                });
            }

            showChangePasswordDialog() {
                const currentPassword = prompt('كلمة المرور الحالية:');
                if (currentPassword) {
                    const newPassword = prompt('كلمة المرور الجديدة:');
                    if (newPassword) {
                        const confirmPassword = prompt('تأكيد كلمة المرور الجديدة:');
                        if (confirmPassword === newPassword) {
                            this.showToast('تم تغيير كلمة المرور بنجاح', 'success');
                            this.updateSecurityScore();
                        } else {
                            this.showToast('كلمات المرور غير متطابقة', 'error');
                        }
                    }
                }
            }

            generateStrongPassword() {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
                let password = '';
                for (let i = 0; i < 16; i++) {
                    password += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return password;
            }

            updateSecurityScore() {
                let score = 75; // Base score

                // Add points for security features
                if (this.checkTwoFactorEnabled()) score += 15;
                if (this.checkPasswordStrength()) score += 10;

                // Update UI
                const securityScore = document.getElementById('securityScore');
                const scoreFill = document.querySelector('.score-fill');

                securityScore.textContent = score;
                scoreFill.style.width = score + '%';

                // Update color based on score
                if (score >= 90) {
                    scoreFill.style.background = 'var(--success-gradient)';
                } else if (score >= 70) {
                    scoreFill.style.background = 'var(--warning-gradient)';
                } else {
                    scoreFill.style.background = 'var(--error-gradient)';
                }
            }

            checkPasswordStrength() {
                // In real implementation, check current password strength
                return document.querySelector('.strength-fill').style.width === '75%';
            }

            addSecurityAlert(message, type = 'info') {
                const activityList = document.getElementById('activityList');
                const alertItem = document.createElement('div');

                alertItem.className = `activity-item ${type}`;
                alertItem.innerHTML = `
                    <div class="activity-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">${message}</div>
                        <div class="activity-details">تم اكتشاف نشاط مشبوه</div>
                        <div class="activity-time">منذ لحظات</div>
                    </div>
                `;

                activityList.insertBefore(alertItem, activityList.firstChild);

                // Show security badge
                const securityBadge = document.getElementById('securityBadge');
                securityBadge.style.display = 'inline';

                this.showToast('تنبيه أمان: ' + message, 'warning');
            }

            filterTasksByView(view) {
                const tasks = document.querySelectorAll('.task-item');
                const now = new Date();
                const today = now.toDateString();

                tasks.forEach(task => {
                    let shouldShow = true;

                    switch (view) {
                        case 'today':
                            shouldShow = task.querySelector('.task-due-date').textContent.includes('اليوم');
                            break;
                        case 'upcoming':
                            shouldShow = task.querySelector('.task-due-date').textContent.includes('غداً') ||
                                       task.querySelector('.task-due-date').textContent.includes('مستحق');
                            break;
                        case 'overdue':
                            shouldShow = task.querySelector('.task-due-date').textContent.includes('أمس') ||
                                       (!task.classList.contains('completed') &&
                                        !task.querySelector('.task-due-date').textContent.includes('غداً') &&
                                        !task.querySelector('.task-due-date').textContent.includes('اليوم'));
                            break;
                        case 'completed':
                            shouldShow = task.classList.contains('completed');
                            break;
                        case 'all':
                        default:
                            shouldShow = true;
                            break;
                    }

                    task.style.display = shouldShow ? 'flex' : 'none';
                });
            }

            filterTasksByProject(project) {
                const tasks = document.querySelectorAll('.task-item');

                tasks.forEach(task => {
                    if (project === 'all') {
                        task.style.display = 'flex';
                    } else {
                        const taskProject = task.querySelector('.task-project').textContent;
                        task.style.display = taskProject === project ? 'flex' : 'none';
                    }
                });
            }

            searchTasks(searchTerm) {
                const tasks = document.querySelectorAll('.task-item');

                tasks.forEach(task => {
                    const taskTitle = task.querySelector('.task-title').textContent.toLowerCase();
                    const taskDescription = task.querySelector('.task-description').textContent.toLowerCase();
                    const isVisible = taskTitle.includes(searchTerm) || taskDescription.includes(searchTerm);
                    task.style.display = isVisible ? 'flex' : 'none';
                });
            }

            updateTaskStats() {
                const totalTasks = document.querySelectorAll('.task-item').length;
                const completedTasks = document.querySelectorAll('.task-item.completed').length;
                const pendingTasks = totalTasks - completedTasks;
                const overdueTasks = document.querySelectorAll('.task-item:not(.completed) .task-due-date').length;

                // Update stats
                document.getElementById('totalTasks').textContent = totalTasks;
                document.getElementById('completedTasks').textContent = completedTasks;
                document.getElementById('pendingTasks').textContent = pendingTasks;
                document.getElementById('overdueTasks').textContent = overdueTasks;

                // Update progress bar
                const progress = totalTasks > 0 ? (completedTasks / totalTasks) * 100 : 0;
                document.getElementById('progressFill').style.width = progress + '%';

                // Update project counts
                this.updateProjectCounts();
            }

            updateProjectCounts() {
                const projectCounts = {
                    'all': document.querySelectorAll('.task-item').length,
                    'work': document.querySelectorAll('.task-project').length,
                    'personal': document.querySelectorAll('.task-project').length,
                    'urgent': document.querySelectorAll('.task-item.priority-high').length
                };

                // This would be more complex in a real implementation
                // For demo purposes, we'll use static counts
            }

            createNewTask() {
                // Create task form modal
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.9);
                    z-index: 10006;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                `;

                modal.innerHTML = `
                    <div style="background: var(--bg-primary); padding: 2rem; border-radius: 1rem; border: 1px solid var(--border-color); max-width: 500px; width: 90%;">
                        <h3 style="color: var(--text-primary); margin-bottom: 1.5rem;">إضافة مهمة جديدة</h3>
                        <form id="newTaskForm">
                            <div style="margin-bottom: 1rem;">
                                <label style="color: var(--text-primary); display: block; margin-bottom: 0.5rem;">العنوان *</label>
                                <input type="text" id="taskTitle" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; background: rgba(255,255,255,0.05); color: var(--text-primary);" placeholder="أدخل عنوان المهمة">
                            </div>
                            <div style="margin-bottom: 1rem;">
                                <label style="color: var(--text-primary); display: block; margin-bottom: 0.5rem;">الوصف</label>
                                <textarea id="taskDescription" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; background: rgba(255,255,255,0.05); color: var(--text-primary); resize: vertical; min-height: 80px;" placeholder="أدخل وصف المهمة (اختياري)"></textarea>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                                <div>
                                    <label style="color: var(--text-primary); display: block; margin-bottom: 0.5rem;">المشروع</label>
                                    <select id="taskProject" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; background: rgba(255,255,255,0.05); color: var(--text-primary);">
                                        <option value="شخصي">شخصي</option>
                                        <option value="العمل">العمل</option>
                                        <option value="عاجل">عاجل</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="color: var(--text-primary); display: block; margin-bottom: 0.5rem;">الأولوية</label>
                                    <select id="taskPriority" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; background: rgba(255,255,255,0.05); color: var(--text-primary);">
                                        <option value="منخفض">منخفض</option>
                                        <option value="متوسط" selected>متوسط</option>
                                        <option value="عالي">عالي</option>
                                    </select>
                                </div>
                            </div>
                            <div style="margin-bottom: 1.5rem;">
                                <label style="color: var(--text-primary); display: block; margin-bottom: 0.5rem;">تاريخ الاستحقاق</label>
                                <input type="date" id="taskDueDate" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 0.5rem; background: rgba(255,255,255,0.05); color: var(--text-primary);" value="${new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString().split('T')[0]}">
                            </div>
                            <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                                <button type="button" onclick="closeTaskModal()" style="background: rgba(255,255,255,0.05); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;">إلغاء</button>
                                <button type="submit" style="background: var(--primary-color); color: #000000; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;">إضافة المهمة</button>
                            </div>
                        </form>
                    </div>
                `;

                document.body.appendChild(modal);

                // Handle form submission
                const form = modal.querySelector('#newTaskForm');
                form.addEventListener('submit', (e) => {
                    e.preventDefault();

                    const taskData = {
                        id: Date.now(),
                        title: document.getElementById('taskTitle').value,
                        description: document.getElementById('taskDescription').value,
                        project: document.getElementById('taskProject').value,
                        priority: document.getElementById('taskPriority').value,
                        dueDate: new Date(document.getElementById('taskDueDate').value).toLocaleDateString('ar-SA'),
                        createdAt: new Date().toISOString(),
                        completed: false
                    };

                    this.saveTask(taskData);
                    this.addTaskToUI(taskData);
                    document.body.removeChild(modal);
                    this.showToast('تم إضافة المهمة بنجاح!', 'success');
                    this.updateTaskStats();
                });

                // Add close function to window
                window.closeTaskModal = () => {
                    document.body.removeChild(modal);
                };
            }

            createNewProject() {
                const projectName = prompt('اسم المشروع الجديد:');
                if (projectName && projectName.trim()) {
                    this.showToast(`تم إنشاء مشروع: ${projectName}`, 'success');
                    // In real implementation, add to project list
                }
            }

            addTask(taskData) {
                const tasksList = document.getElementById('tasksList');
                const taskId = Date.now();

                const priorityClass = `priority-${taskData.priority === 'عالي' ? 'high' : taskData.priority === 'متوسط' ? 'medium' : 'low'}`;

                const taskItem = document.createElement('div');
                taskItem.className = `task-item ${priorityClass}`;
                taskItem.dataset.id = taskId;

                taskItem.innerHTML = `
                    <div class="task-checkbox">
                        <input type="checkbox" id="task-${taskId}">
                        <label for="task-${taskId}"></label>
                    </div>
                    <div class="task-content">
                        <div class="task-title">${taskData.title}</div>
                        <div class="task-description">${taskData.description || 'لا يوجد وصف'}</div>
                        <div class="task-meta">
                            <span class="task-project">${taskData.project}</span>
                            <span class="task-due-date">مستحق: ${taskData.dueDate}</span>
                            <span class="task-priority">${taskData.priority}</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="task-action-btn" title="تعديل">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="task-action-btn" title="حذف">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;

                tasksList.insertBefore(taskItem, tasksList.firstChild);

                // Add event listener for the new checkbox
                const checkbox = taskItem.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', (e) => {
                    if (e.target.checked) {
                        taskItem.classList.add('completed');
                        this.showToast('تم إنجاز المهمة بنجاح!', 'success');
                    } else {
                        taskItem.classList.remove('completed');
                    }
                    this.updateTaskStats();
                });
            }

            editTask(taskId) {
                const taskItem = document.querySelector(`[data-id="${taskId}"]`);
                const taskTitle = taskItem.querySelector('.task-title').textContent;
                const taskDescription = taskItem.querySelector('.task-description').textContent;

                const newTitle = prompt('تعديل العنوان:', taskTitle);
                const newDescription = prompt('تعديل الوصف:', taskDescription);

                if (newTitle !== null) {
                    taskItem.querySelector('.task-title').textContent = newTitle || taskTitle;
                    taskItem.querySelector('.task-description').textContent = newDescription || taskDescription;
                    this.showToast('تم تحديث المهمة!', 'info');
                }
            }

            deleteTask(taskId, taskItem) {
                if (confirm('هل أنت متأكد من حذف هذه المهمة؟')) {
                    taskItem.remove();
                    this.showToast('تم حذف المهمة!', 'info');
                    this.updateTaskStats();
                }
            }

            setupChatbot() {
                const chatbotToggle = document.getElementById('chatbotToggle');
                const chatbotClose = document.getElementById('chatbotClose');
                const chatbotContainer = document.getElementById('chatbotContainer');
                const chatbotInput = document.getElementById('chatbotInput');
                const chatbotSend = document.getElementById('chatbotSend');
                const chatbotVoice = document.getElementById('chatbotVoice');
                const chatbotMessages = document.getElementById('chatbotMessages');
                const chatbotBadge = document.getElementById('chatbotBadge');
                const quickActionBtns = document.querySelectorAll('.quick-action-btn');

                // Toggle chatbot visibility
                chatbotToggle.addEventListener('click', () => {
                    chatbotContainer.style.display = chatbotContainer.style.display === 'none' ? 'flex' : 'none';
                    if (chatbotContainer.style.display === 'flex') {
                        chatbotBadge.style.display = 'none';
                        chatbotInput.focus();
                    }
                });

                chatbotClose.addEventListener('click', () => {
                    chatbotContainer.style.display = 'none';
                });

                // Send message
                const sendMessage = () => {
                    const message = chatbotInput.value.trim();
                    if (message) {
                        this.addUserMessage(message);
                        chatbotInput.value = '';
                        this.processBotResponse(message);
                    }
                };

                chatbotSend.addEventListener('click', sendMessage);
                chatbotInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });

                // Quick actions
                quickActionBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const action = btn.dataset.action;
                        this.handleQuickAction(action);
                    });
                });

                // Voice input (simulated)
                chatbotVoice.addEventListener('click', () => {
                    this.showToast('Voice input feature coming soon!', 'info');
                });

                // Auto-open chatbot for first-time users
                setTimeout(() => {
                    if (!localStorage.getItem('chatbot_introduced')) {
                        chatbotContainer.style.display = 'flex';
                        chatbotBadge.style.display = 'none';
                        localStorage.setItem('chatbot_introduced', 'true');
                    }
                }, 3000);
            }

            addUserMessage(message) {
                const chatbotMessages = document.getElementById('chatbotMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message user-message';
                messageDiv.innerHTML = `
                    <div class="message-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-text">${message}</div>
                        <div class="message-time">${new Date().toLocaleTimeString()}</div>
                    </div>
                `;
                chatbotMessages.appendChild(messageDiv);
                this.scrollToBottom(chatbotMessages);
            }

            addBotMessage(message, isTyping = false) {
                const chatbotMessages = document.getElementById('chatbotMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message bot-message';
                
                if (isTyping) {
                    messageDiv.innerHTML = `
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <div class="message-text typing-indicator">
                                <span></span><span></span><span></span>
                            </div>
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <div class="message-text">${message}</div>
                            <div class="message-time">${new Date().toLocaleTimeString()}</div>
                        </div>
                    `;
                }
                
                chatbotMessages.appendChild(messageDiv);
                this.scrollToBottom(chatbotMessages);
                return messageDiv;
            }

            scrollToBottom(element) {
                element.scrollTop = element.scrollHeight;
            }

            processBotResponse(userMessage) {
                // Show typing indicator
                const typingMessage = this.addBotMessage('', true);
                
                // Simulate processing time
                setTimeout(() => {
                    typingMessage.remove();
                    const response = this.generateBotResponse(userMessage);
                    this.addBotMessage(response);
                }, 1000 + Math.random() * 2000);
            }

            generateBotResponse(message) {
                const lowerMessage = message.toLowerCase();
                
                // Arabic responses
                if (lowerMessage.includes('مرحبا') || lowerMessage.includes('السلام') || lowerMessage.includes('hello')) {
                    return 'مرحباً بك! كيف يمكنني مساعدتك اليوم؟';
                }
                
                if (lowerMessage.includes('الحالة') || lowerMessage.includes('status') || lowerMessage.includes('system')) {
                    return 'حالة النظام ممتازة! الأداء عند 98% والذاكرة المستخدمة 62%. كل شيء يعمل بسلاسة.';
                }
                
                if (lowerMessage.includes('الطقس') || lowerMessage.includes('weather')) {
                    return 'الطقس اليوم مشمس مع درجة حرارة 22°C. الرؤية ممتازة والرياح خفيفة.';
                }
                
                if (lowerMessage.includes('المساعدة') || lowerMessage.includes('help')) {
                    return 'يمكنني مساعدتك في:\n• فحص حالة النظام\n• معلومات الطقس\n• إدارة المهام\n• الإعدادات\n• أي سؤال آخر!';
                }
                
                if (lowerMessage.includes('المهام') || lowerMessage.includes('tasks')) {
                    return 'لديك 12 مهمة نشطة حالياً. هل تريد إضافة مهمة جديدة أو مراجعة المهام الموجودة؟';
                }
                
                if (lowerMessage.includes('الإعدادات') || lowerMessage.includes('settings')) {
                    return 'يمكنك الوصول إلى الإعدادات من الشريط الجانبي أو النقر على أيقونة الترس. ماذا تريد تعديله؟';
                }
                
                if (lowerMessage.includes('شكراً') || lowerMessage.includes('thanks') || lowerMessage.includes('thank you')) {
                    return 'عفواً! سعيد لكوني مفيداً. هل هناك شيء آخر يمكنني مساعدتك فيه؟';
                }
                
                // Default responses
                const defaultResponses = [
                    'هذا سؤال مثير للاهتمام! يمكنني مساعدتك في ذلك.',
                    'أفهم ما تقصده. دعني أساعدك في هذا الأمر.',
                    'ممتاز! هل تريد المزيد من التفاصيل حول هذا الموضوع؟',
                    'أقدر سؤالك. يمكنني تزويدك بمعلومات مفيدة حول هذا.',
                    'هذا موضوع مهم. دعني أقدم لك المساعدة المناسبة.'
                ];
                
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }

            handleQuickAction(action) {
                const actions = {
                    'system-status': 'فحص حالة النظام...',
                    'weather': 'جاري الحصول على معلومات الطقس...',
                    'help': 'عرض قائمة المساعدة...',
                    'settings': 'فتح الإعدادات...'
                };
                
                const message = actions[action] || 'تنفيذ الإجراء...';
                this.addBotMessage(message);
                
                // Simulate action execution
                setTimeout(() => {
                    switch (action) {
                        case 'system-status':
                            this.addBotMessage('حالة النظام ممتازة! جميع المؤشرات في المستوى الأمثل.');
                            break;
                        case 'weather':
                            this.addBotMessage('الطقس اليوم مشمس، درجة الحرارة 22°C، رطوبة 65%.');
                            break;
                        case 'help':
                            this.addBotMessage('يمكنني مساعدتك في النظام، الطقس، المهام، والإعدادات. ما الذي تحتاج إليه؟');
                            break;
                        case 'settings':
                            this.addBotMessage('يمكنك الوصول إلى الإعدادات من الشريط الجانبي أو النقر على أيقونة الترس.');
                            break;
                    }
                }, 1500);
            }

            setupNotificationCenter() {
                const notificationsNav = document.getElementById('notificationsNav');
                const notificationCenter = document.getElementById('notificationCenter');
                const notificationCenterClose = document.getElementById('notificationCenterClose');
                const notificationTabs = document.querySelectorAll('.notification-tab');
                const notificationClearAll = document.getElementById('notificationClearAll');
                const notificationMarkAllReadCenter = document.getElementById('notificationMarkAllReadCenter');
                const sidebarNotificationBadge = document.getElementById('sidebarNotificationBadge');

                // Open notification center
                notificationsNav.addEventListener('click', (e) => {
                    e.preventDefault();
                    notificationCenter.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                });

                // Close notification center
                notificationCenterClose.addEventListener('click', () => {
                    notificationCenter.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });

                // Close on outside click
                notificationCenter.addEventListener('click', (e) => {
                    if (e.target === notificationCenter) {
                        notificationCenter.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });

                // Tab switching
                notificationTabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        // Remove active class from all tabs
                        notificationTabs.forEach(t => t.classList.remove('active'));
                        // Add active class to clicked tab
                        tab.classList.add('active');
                        
                        // Filter notifications based on tab
                        this.filterNotifications(tab.dataset.tab);
                    });
                });

                // Clear all notifications
                notificationClearAll.addEventListener('click', () => {
                    if (confirm('هل أنت متأكد من حذف جميع الإشعارات؟')) {
                        this.clearAllNotifications();
                        this.showToast('تم حذف جميع الإشعارات', 'success');
                    }
                });

                // Mark all as read
                notificationMarkAllReadCenter.addEventListener('click', () => {
                    this.markAllNotificationsAsRead();
                    this.showToast('تم تعيين جميع الإشعارات كمقروءة', 'success');
                });

                // Handle individual notification actions
                this.setupNotificationActions();
            }

            filterNotifications(filter) {
                const notificationItems = document.querySelectorAll('.notification-item-center');
                
                notificationItems.forEach(item => {
                    let shouldShow = true;
                    
                    switch (filter) {
                        case 'unread':
                            shouldShow = item.classList.contains('unread');
                            break;
                        case 'system':
                            shouldShow = item.querySelector('.notification-icon-center i').classList.contains('fa-exclamation-triangle') ||
                                        item.querySelector('.notification-icon-center i').classList.contains('fa-cloud-upload-alt');
                            break;
                        case 'security':
                            shouldShow = item.querySelector('.notification-icon-center i').classList.contains('fa-shield-alt');
                            break;
                        case 'all':
                        default:
                            shouldShow = true;
                            break;
                    }
                    
                    item.style.display = shouldShow ? 'flex' : 'none';
                });
            }

            setupNotificationActions() {
                const notificationListCenter = document.getElementById('notificationListCenter');
                
                notificationListCenter.addEventListener('click', (e) => {
                    const actionBtn = e.target.closest('.notification-action-btn');
                    if (!actionBtn) return;
                    
                    const notificationItem = actionBtn.closest('.notification-item-center');
                    const isReadBtn = actionBtn.querySelector('.fa-check');
                    const isDeleteBtn = actionBtn.querySelector('.fa-trash');
                    
                    if (isReadBtn) {
                        // Mark as read
                        notificationItem.classList.remove('unread');
                        this.updateNotificationBadges();
                        this.showToast('تم تعيين الإشعار كمقروء', 'info');
                    } else if (isDeleteBtn) {
                        // Delete notification
                        notificationItem.remove();
                        this.updateNotificationBadges();
                        this.showToast('تم حذف الإشعار', 'info');
                    }
                });
            }

            clearAllNotifications() {
                const notificationListCenter = document.getElementById('notificationListCenter');
                notificationListCenter.innerHTML = '<div style="text-align: center; color: var(--text-secondary); padding: 2rem;">لا توجد إشعارات</div>';
                this.updateNotificationBadges();
            }

            markAllNotificationsAsRead() {
                const unreadItems = document.querySelectorAll('.notification-item-center.unread');
                unreadItems.forEach(item => {
                    item.classList.remove('unread');
                });
                this.updateNotificationBadges();
            }

            updateNotificationBadges() {
                const unreadCount = document.querySelectorAll('.notification-item-center.unread').length;
                const notificationCount = document.getElementById('notificationCount');
                const sidebarNotificationBadge = document.getElementById('sidebarNotificationBadge');
                
                if (notificationCount) {
                    notificationCount.textContent = unreadCount;
                    notificationCount.style.display = unreadCount > 0 ? 'inline' : 'none';
                }
                
                if (sidebarNotificationBadge) {
                    sidebarNotificationBadge.textContent = unreadCount;
                    sidebarNotificationBadge.style.display = unreadCount > 0 ? 'inline' : 'none';
                }
            }

            // Enhanced notification system with real-time updates
            startNotificationSimulation() {
                // Simulate various types of notifications
                const notificationTypes = [
                    {
                        icon: 'fas fa-download',
                        title: 'Download Complete',
                        message: 'File "document.pdf" has been downloaded successfully',
                        category: 'system'
                    },
                    {
                        icon: 'fas fa-bell',
                        title: 'Meeting Reminder',
                        message: 'Team meeting in 15 minutes',
                        category: 'system'
                    },
                    {
                        icon: 'fas fa-shield-alt',
                        title: 'Security Scan',
                        message: 'Weekly security scan completed - no threats found',
                        category: 'security'
                    },
                    {
                        icon: 'fas fa-info-circle',
                        title: 'System Update',
                        message: 'New features available in the latest update',
                        category: 'system'
                    },
                    {
                        icon: 'fas fa-exclamation-triangle',
                        title: 'Storage Warning',
                        message: 'Storage space is running low (85% used)',
                        category: 'system'
                    }
                ];

                // Generate random notifications every 30-60 seconds
                setInterval(() => {
                    if (Math.random() < 0.4) { // 40% chance
                        const randomNotification = notificationTypes[Math.floor(Math.random() * notificationTypes.length)];
                        this.addNotificationToCenter(randomNotification);
                    }
                }, 30000 + Math.random() * 30000);
            }

            addNotificationToCenter(notificationData) {
                const notificationListCenter = document.getElementById('notificationListCenter');
                
                // Remove "no notifications" message if it exists
                const noNotificationsMsg = notificationListCenter.querySelector('div[style*="text-align: center"]');
                if (noNotificationsMsg) {
                    noNotificationsMsg.remove();
                }
                
                const newNotification = document.createElement('div');
                newNotification.className = 'notification-item-center unread';
                newNotification.innerHTML = `
                    <div class="notification-icon-center">
                        <i class="${notificationData.icon}"></i>
                    </div>
                    <div class="notification-content-center">
                        <div class="notification-title-center">${notificationData.title}</div>
                        <div class="notification-message-center">${notificationData.message}</div>
                        <div class="notification-time-center">الآن</div>
                    </div>
                    <div class="notification-actions-center">
                        <button class="notification-action-btn" title="Mark as read">
                            <i class="fas fa-check"></i>
                        </button>
                        <button class="notification-action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                // Add to top of list
                notificationListCenter.insertBefore(newNotification, notificationListCenter.firstChild);
                
                // Update badges
                this.updateNotificationBadges();
                
                // Show toast notification
                this.showToast(`إشعار جديد: ${notificationData.title}`, 'info');
                
                // Auto-remove after 5 minutes if not interacted with
                setTimeout(() => {
                    if (newNotification.parentNode && newNotification.classList.contains('unread')) {
                        newNotification.remove();
                        this.updateNotificationBadges();
                    }
                }, 300000);
            }
        }

        // Initialize dashboard
        const dashboardManager = new DashboardManager();
        
        // Start notification simulation after a short delay
        setTimeout(() => {
            dashboardManager.startNotificationSimulation();
        }, 5000);

        // Add some interactive effects
        document.querySelectorAll('.quick-action').forEach(action => {
            action.addEventListener('click', (e) => {
                if (e.target.closest('.quick-action').href === '#') {
                    e.preventDefault();
                    
                    // Show coming soon message
                    const toast = document.createElement('div');
                    toast.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: var(--primary-color);
                        color: #000000;
                        padding: 1rem 1.5rem;
                        border-radius: 0.5rem;
                        box-shadow: var(--glow-md);
                        z-index: 10001;
                        font-weight: 500;
                        animation: slideInRight 0.3s ease-out;
                    `;
                    toast.textContent = 'Feature coming soon!';
                    
                    document.body.appendChild(toast);
                    
                    setTimeout(() => {
                        toast.style.animation = 'slideOutRight 0.3s ease-in';
                        setTimeout(() => {
                            document.body.removeChild(toast);
                        }, 300);
                    }, 2000);
                }
            });
        });

        // Add animation styles
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>