tasks:
    setup-environment:
        name: Setup AuraOS Environment
        command: |
            echo "🚀 Setting up AuraOS development environment..."
            npm install
            echo "✅ Dependencies installed!"
            echo "📦 Environment ready for development"
        triggeredBy:
            - postDevcontainerStart

    check-environment:
        name: Check Environment
        command: |
            echo "🔍 Checking environment..."
            echo "Node version: $(node --version)"
            echo "npm version: $(npm --version)"
            echo "Current user: $(whoami)"
            echo "Working directory: $(pwd)"
            ls -la package.json
        triggeredBy:
            - manual

services:
    vite-dev-server:
        name: Vite Development Server
        description: AuraOS React application with Vite
        commands:
            start: |
                echo "🎯 Starting Vite development server..."
                npm run dev -- --host 0.0.0.0
            ready: |
                if curl -f http://localhost:5173 >/dev/null 2>&1; then
                    echo "✅ Vite dev server is ready at http://localhost:5173"
                    exit 0
                else
                    echo "⏳ Vite dev server is not ready yet"
                    exit 1
                fi
            stop: |
                echo "🛑 Stopping Vite dev server..."
                pkill -f "vite"
        triggeredBy:
            - postDevcontainerStart
